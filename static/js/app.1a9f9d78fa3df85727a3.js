webpackJsonp([2,0],[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(403);var i=n(21),o=r(i),a=n(371),s=r(a),d=n(391),l=r(d),u=n(807),c=r(u),f=n(141),p=r(f),h=n(308),m=r(h);n(340),o.default.component("pretty-select",p.default),o.default.component("generic-input",m.default),window.eventBus=new o.default,window.application=new o.default({store:s.default,el:"#app",template:"<App/>",components:{App:c.default}}),l.default.init(s.default)},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.map(function(e){return[e.x,e.y]});return t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push(t[0]),H.polygon([t])}function a(e,t){var n=e[0],r=k.default.findIndex(t,k.default.pick(n,["x","y"]));if(r===-1)return!1;var i=k.default.map([].concat((0,A.default)(t.slice(r)),(0,A.default)(t.slice(0,r))),function(e){return k.default.pick(e,["x","y"])});return k.default.isEqualWith(e,i,function(e,t){return k.default.isMatch(e,t)})}function s(e){return e.length<=3?e:k.default.isEqual(e[0],e[e.length-1])?e.slice(0,-1):e}function d(e,t){if(e.length!==t.length)return!1;if(0===e.length)return!0;var n=s(e),r=s(t);return a(n,r)||a(n,[].concat((0,A.default)(r)).reverse())}function l(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"expand",i=e[1]-e[0],o=t[1]-t[0],a=o*n,s=i/n,d=a-i,l=s-o;return d>0==("expand"===r)?{xExtent:[e[0]-d/2,e[1]+d/2],yExtent:t}:{xExtent:e,yExtent:[t[0]-l/2,t[1]+l/2]}}function c(e){var t=e.start,n=e.end,r=n.x-t.x,i=n.y-t.y;return 0===r?.5*Math.PI:Math.atan(i/r)}function f(e,t){var n=c(e)-c(t),r=Math.min(Math.abs(n),Math.PI-n);return r<.05*Math.PI}function p(e){var t=e.dx,n=e.dy;if(0===t&&0===n)return{dx:0,dy:0};var r=Math.sqrt(t*t+n*n);return{dx:t/r,dy:n/r}}function h(e,t){var n=void 0,r=void 0;return e.x!==t.x?(r=1,n=(e.y-t.y)/(e.x-t.x)):e.y!==t.y?(n=1,r=(e.x-t.x)/(e.y-t.y)):n=r=1,p({dx:n,dy:r})}function m(e,t){var n=t.x-e.x,r=t.y-e.y;return p({dx:n,dy:r})}function g(e,t){var n=t.p1,r=n.x,i=n.y,o=t.p2,a=o.x,s=o.y,d=e.x-r,l=e.y-i,u=a-r,c=s-i,f=d*u+l*c,p=u*u+c*c||2,h=f/p;return h<=0?t.p1:h>1?t.p2:{x:r+h*u,y:i+h*c}}function v(e,t){var n=t.start,r=t.end,i=g(e,{p1:n,p2:r});return{dist:l(e,i),proj:i}}function y(e,t,n){var r=[e.x,e.y],i=r[0],o=r[1],a=[t.x,t.y],s=a[0],d=a[1],l=n.x,u=n.y;return Math.abs((d-o)*(l-s)-(u-d)*(s-i))<1e-5}function _(e){for(var t=e.start,n=e.end,r=e.spacing,i=e.width,o=l(t,n),a=[],s=m(t,n),d=i/2;d+i/2<o;){var u=s.dx*d,c=s.dy*d;a.push({x:t.x+u,y:t.y+c,distFromStart:d}),d+=i+(r||1)}if(0===a.length)return[];var f=(l(a[a.length-1],n)-i/2)/2,p=l(t,n),h=s.dx*f,g=s.dy*f;return a.map(function(e){return{x:e.x+h,y:e.y+g,alpha:(e.distFromStart+f)/p}})}function w(e){for(var t=1;t<e.length-1;t++){var n=e[t-1],r=e[t],i=e[t+1];if(y(n,r,i)){var o=k.default.reject([(n.x-r.x)/(i.x-r.x),(n.y-r.y)/(i.y-r.y)],isNaN)[0];if(!(o>1||o<0))return w([].concat((0,A.default)(e.slice(0,t)),(0,A.default)(e.slice(t+1))))}}return e}function E(e,t){if(!t||V!==e.edges||q!==e.vertices){var n=e.vertices.reduce(function(e,t){return e[t.id]=t,e},{});Y={},K=e.edges.map(function(e){var t=(0,P.default)({},e,{v1:n[e.v1],v2:n[e.v2]});return Y[e.id]=t,t}),t&&(V=e.edges,q=e.vertices,J=n)}return[K,Y,J]}function T(e){return 2===e.length&&k.default.isNumber(e[0])&&k.default.isNumber(e[1])}function x(e){return e.length>=1&&k.default.every(e,T)}function b(e){return e.length>=1&&k.default.every(e,x)}function S(e,t){var n=function(e){var t=e.x,n=e.y;return[t,n]};return Q.inRing(n(e),t.map(n))}function M(e){var t=k.default.cloneDeep(e),n={},r=(0,O.default)(e.vertices).map(function(e){return e.id});return r.forEach(function(e){var r=t.vertices.find(function(t){return t.id===e}),i=B.default.generate();n[e]=i,r.id=i;var o=t.vertices.findIndex(function(e){return e.id===i});t.vertices[o]=r}),t.edges.forEach(function(e){var t=B.default.generate();n[e.id]=t,e.id=t,e.v1=n[e.v1],e.v2=n[e.v2]}),t.faces.forEach(function(e){e.edgeRefs.forEach(function(e){e.edge_id=n[e.edge_id]});var t=B.default.generate();n[e.id]=t,e.id=t}),{clonedGeometry:t,idMap:n}}Object.defineProperty(t,"__esModule",{value:!0});var D=n(418),O=i(D),R=n(5),P=i(R),F=n(63),I=i(F),C=n(40),A=i(C);t.ringEquals=d,t.distanceBetweenPoints=l,t.fitToAspectRatio=u,t.edgeDirection=c,t.haveSimilarAngles=f,t.unitPerpVector=h,t.unitVector=m,t.projectionOfPointToLine=g,t.pointDistanceToSegment=v,t.ptsAreCollinear=y,t.repeatingWindowCenters=_,t.cleanInvalidPoly=w,t.vertInRing=S,t.replaceIdsForCloning=M;var N=n(3),k=i(N),U=n(212),H=r(U),j=n(316),z=i(j),$=n(779),L=n(314),W=i(L),X=n(109),G=n(62),B=i(G),Q={setOperation:function(e,t,n){var r=o(t).geometry.coordinates,i=o(n).geometry.coordinates,a="union"===e?$.union:"intersection"===e?$.intersection:"difference"===e?$.difference:null;if(null===a)throw new Error('invalid operation "'+e+'". expected union, intersection, or difference');var d=a(r,i);return null===d||0===d.length?[]:d.length>1?{error:"no split faces"}:d[0].length>1?{error:"no holes"}:s(d[0][0].map(function(e){var t=(0,I.default)(e,2),n=t[0],r=t[1];return{x:n,y:r}}))},intersection:function(e,t){return this.setOperation("intersection",e,t)},union:function(e,t){return this.setOperation("union",e,t)},difference:function(e,t){return this.setOperation("difference",e,t)},areaOfSelection:function(e){return e.length<3?0:(0,z.default)(e)},splittingVerticesForEdgeId:function(e,t,n,r){var i=this,o=E(t,!0)[2];r||(r=t.vertices);var a=o[e.v1];a||(a=t.vertices.find(function(t){return t.id===e.v1}));var s=o[e.v2];s||(s=t.vertices.find(function(t){return t.id===e.v2}));var d=(0,P.default)({},e,{v1:a,v2:s});return r.filter(function(e){if(!d.v1||!d.v2)return!1;var t=d.v1.id===e.id||d.v2.id===e.id,r=d.v1.x===e.x&&d.v1.y===e.y,o=d.v2.x===e.x&&d.v2.y===e.y,a=t||r||o;if(a)return!1;var s=i.projectionOfPointToLine(e,{p1:d.v1,p2:d.v2}),l=i.distanceBetweenPoints(e,s),u=l<=n/20;return u})},projectionOfPointToLine:g,distanceBetweenPoints:l,intersectionOfLines:function(e,t,n,r){var i=1e-7,o=function(e,t,n){return e-i<=t&&t<=n+i},a=((e.x*t.y-e.y*t.x)*(n.x-r.x)-(e.x-t.x)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x)),s=((e.x*t.y-e.y*t.x)*(n.y-r.y)-(e.y-t.y)*(n.x*r.y-n.y*r.x))/((e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x));if(isNaN(a)||isNaN(s)||this.distanceBetweenPoints({x:a,y:s},e)<i||this.distanceBetweenPoints({x:a,y:s},t)<i||this.distanceBetweenPoints({x:a,y:s},n)<i||this.distanceBetweenPoints({x:a,y:s},r)<i)return!1;if(e.x>=t.x){if(!o(t.x,a,e.x))return!1}else if(!o(e.x,a,t.x))return!1;if(e.y>=t.y){if(!o(t.y,s,e.y))return!1}else if(!o(e.y,s,t.y))return!1;if(n.x>=r.x){if(!o(r.x,a,n.x))return!1}else if(!o(n.x,a,r.x))return!1;if(n.y>=r.y){if(!o(r.y,s,n.y))return!1}else if(!o(n.y,s,r.y))return!1;return{x:a,y:s}},vertexForId:function(e,t){return t.vertices.find(function(t){return t.id===e})},vertexForCoordinates:function(e,t){var n=this;return t.vertices.find(function(t){return n.distanceBetweenPoints(t,e)<1e-5})},verticesForFaceId:function(e,t){var n=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){var r=n.edgeForId(e.edge_id,t),i=e.reverse?r.v2:r.v1;return n.vertexForId(i,t)})},edgeForId:function(e,t){return t.edges.find(function(t){return t.id===e})},edgesForVertexId:function(e,t){return t.edges.filter(function(t){return t.v1===e||t.v2===e})},edgesForFaceId:function(e,t){var n=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){return n.edgeForId(e.edge_id,t)})},faceForId:function(e,t){return t.faces.find(function(t){return t.id===e})},facesForVertexId:function(e,t){var n=this;return t.faces.filter(function(r){return r.edgeRefs.find(function(r){var i=n.edgeForId(r.edge_id,t);return i.v1===e||i.v2===e})})},facesForEdgeId:function(e,t){return t.faces.filter(function(t){return t.edgeRefs.find(function(t){return t.edge_id===e})})},pointInFace:function(e,t){var n=o(t),r=H.point([e.x,e.y]);return(0,W.default)(r,n)},ptsAreCollinear:y,syntheticRectangleSnaps:function(e,t,n){var r=(t.x+n.x)/2,i=(t.y+n.y)/2;return[].concat((0,A.default)(e.map(function(e){var t=e.x,n=e.y;return{y:n,x:t+2*(r-t),synthetic:!0,originalPt:{x:t,y:n}}})),(0,A.default)(e.map(function(e){var t=e.x,n=e.y;return{x:t,y:n+2*(i-n),synthetic:!0,originalPt:{x:t,y:n}}})))},edgeDirection:c,haveSimilarAngles:f,pointDistanceToSegment:v,exceptFace:function(e,t){return t?(0,P.default)({},e,{faces:k.default.reject(e.faces,{id:t})}):e},denormalize:function(e){var t=E(e),n=(0,I.default)(t,2),r=n[0],i=n[1],o=e.faces.map(function(e){return{id:e.id,edges:e.edgeRefs.map(function(e){var t=e.edge_id,n=e.reverse;return(0,P.default)({},i[t],{edge_id:t,reverse:n})}),get vertices(){return(0,X.dropConsecutiveDups)(k.default.flatMap(this.edges,function(e){return e.reverse?[e.v2,e.v1]:[e.v1,e.v2]}),function(e){return e.id})}}});return(0,P.default)({},e,{edges:r,faces:o})},normalize:function(e){var t=k.default.uniqBy([].concat((0,A.default)(e.edges),(0,A.default)(k.default.flatMap(e.faces,function(e){return e.edges}))),"id"),n=k.default.uniqBy([].concat((0,A.default)(e.vertices),(0,A.default)(k.default.flatMap(t,function(e){return[e.v1,e.v2]}))),"id");return{id:e.id,vertices:n.map(function(e){return k.default.pick(e,["id","x","y"])}),edges:t.map(function(e){return{id:e.id,v1:e.v1.id,v2:e.v2.id}}),faces:e.faces.map(function(e){return{id:e.id,edgeRefs:e.edges.map(function(e){return{edge_id:e.id,reverse:e.reverse}})}})}}},V=null,q=null,Y=null,K=null,J=null;Q.inside=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!T(e))throw new Error("point does not have correct coords: "+e);if(!b(t))throw new Error("polygon does not have correct coords: "+t);var r=Q.bboxOfRing(t[0]);if(r&&Q.inBBox(e,r)===!1)return!1;for(var i=!1,o=0;o<t.length&&!i;o++)if(Q.inRing(e,t[0],n)){for(var a=!1,s=1;s<t.length&&!a;)Q.inRing(e,t[s],!n)&&(a=!0),s++;a||(i=!0)}return i},Q.bboxOfRing=function(e){return[k.default.min(k.default.map(e,0)),k.default.min(k.default.map(e,1)),k.default.max(k.default.map(e,0)),k.default.max(k.default.map(e,1))]},Q.inRing=function(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],d=t[o][0],l=t[o][1],u=e[1]*(a-d)+s*(d-e[0])+l*(e[0]-a)===0&&(a-e[0])*(d-e[0])<=0&&(s-e[1])*(l-e[1])<=0;if(u)return!n;var c=s>e[1]!=l>e[1]&&e[0]<(d-a)*(e[1]-s)/(l-s)+a;c&&(r=!r)}return r},t.default=Q},,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.assignableProperties=["building_units","thermal_zones","space_types","construction_sets","pitched_roofs"],r=t.componentTypes=["window_definitions","daylighting_control_definitions","door_definitions"],i=(t.libraryTypes=[].concat(n,r),t.textures=["circles-2","circles-5","circles-8","diagonal-stripe-1","diagonal-stripe-4","diagonal-stripe-6","dots-5","dots-8","vertical-line","crosshatch"],{modes:{stories:"Story",images:"Image",spaces:"Space",shading:"Shading",building_units:"Building Unit",thermal_zones:"Thermal Zone",space_types:"Space Type",pitched_roofs:"Pitched Roof",construction_sets:"Construction Set",window_definitions:"Window Definitions",daylighting_control_definitions:"Daylighting Control Definitions"},componentTypes:r,assignableProperties:n,palette:{shading:"#E8E3E5",neutral:"#bbc3c7",colors:["#aa4499","#88ccee","#332288","#117733","#999933","#ddcc77","#cc6677","#882255","#44aa99","#6699cc","#661100","#aa4466"]}});t.default=i},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),o=r(i),a=n(3),s=r(a),d=n(108),l=r(d),u=n(62),c=r(u),f={map:l.default,displayNameForKey:function(e,t){return this.map[e].keymap[t]?this.map[e].keymap[t].private?null:this.map[e].keymap[t].displayName:t},valueForKey:function(e,t,n,r){return this.map[n].keymap[r]&&this.map[n].keymap[r].get?this.map[n].keymap[r].get(e,t):e[r]},setValueForKey:function(e,t,n,r,i){var a={success:!0};if(this.map[n].keymap[r]&&this.map[n].keymap[r].converter&&(i=this.map[n].keymap[r].converter(i,this.map[n].keymap[r])),this.map[n].keymap[r]&&this.map[n].keymap[r].validator){var s=this.map[n].keymap[r].validator(e,t,i,n);if(a.success=s.success,!s.success)return a.error=s.error,a}return"stories"===n?t.dispatch("models/updateStoryWithData",(0,o.default)({story:e},r,i)):"spaces"===n?t.dispatch("models/updateSpaceWithData",(0,o.default)({space:e},r,i)):"shading"===n?t.dispatch("models/updateShadingWithData",(0,o.default)({shading:e},r,i)):"images"===n?t.dispatch("models/updateImageWithData",(0,o.default)({image:e},r,i)):"window_definitions"===n?t.dispatch("models/updateWindowDefinitionWithData",(0,o.default)({object:e},r,i)):t.dispatch("models/updateObjectWithData",(0,o.default)({object:e},r,i)),a},inputTypeForKey:function(e,t){return this.map[e].keymap[t]&&!this.map[e].keymap[t].readonly?this.map[e].keymap[t].input_type:null},selectOptionsForKey:function(e,t,n,r){return this.map[n].keymap[r]&&!this.map[n].keymap[r].readonly&&"select"===this.map[n].keymap[r].input_type?this.map[n].keymap[r].select_data(e,t):[]},libraryObjectWithId:function(e,t){var n;for(var r in e.library)e.library.hasOwnProperty(r)&&!n&&e.library[r].find(function(e){return e.id===t})&&(n=e.library[r].find(function(e){return e.id===t}),n.type=r);if(!n&&e.stories.find(function(e){return e.id===t})&&(n=e.stories.find(function(e){return e.id===t}),n.type="story"),!n)for(var i=0;i<e.stories.length;i++){var o=e.stories[i];!n&&o.spaces.find(function(e){return e.id===t})&&(n=o.spaces.find(function(e){return e.id===t}),n.type="space"),!n&&o.shading.find(function(e){return e.id===t})&&(n=o.shading.find(function(e){return e.id===t}),n.type="shading"),!n&&o.images.find(function(e){return e.id===t})&&(n=o.images.find(function(e){return e.id===t}),n.type="image")}return n},modelForFace:function(e,t){for(var n=0;n<e.stories.length;n++){var r=e.stories[n],i=r.shading.find(function(e){return e.face_id===t}),o=r.spaces.find(function(e){return e.face_id===t});if(i)return i.type="shading",i;if(o)return o.type="space",o}},generateName:function(e,t,n){var r=this.modelsForType(e,t),i=l.default[t].displayName+" ";if(n){var o=e.stories.findIndex(function(e){return e.id===n.id})+1;i=i.concat(o+" - ")}for(var a="",s=1;!a;)a=i+s,r.find(function(e){return e.name===a})&&(a=""),s+=1;return a},modelsForType:function(e,t){switch(t){case"stories":return e.stories;case"shading":case"spaces":case"images":return e.stories.reduce(function(e,n){return e.concat(n[t])},[]);default:return e.library[t]}},replaceIdsUpdateInfoForCloning:function(e,t){var n=s.default.cloneDeep(e);return n.doors=n.doors.map(function(e){var n=c.default.generate();return t[e.id]=n,e.id=n,e}),n.windows=n.windows.map(function(e){var n=c.default.generate();return t[e.id]=n,e.id=n,e}),n.spaces=n.spaces.map(function(e){var n=c.default.generate();return t[e.id]=n,e.id=n,e.name="",e.face_id=t[e.face_id],e}),n.shading=n.shading.map(function(e){var n=c.default.generate();return t[e.id]=n,e.id=n,e.name="",e.face_id=t[e.face_id],e}),{clonedStory:n}},replaceSpaceNamesForCloning:function(e,t,n){var r=this;n.spaces=n.spaces.map(function(i){return i.name=r.generateName(e,t,n),i})}};t.default=f},,,,,,,,,function(e,t){"use strict";function n(e){var t=(i[e]||0)+1;return i[e]=t,e+" - "+t}Object.defineProperty(t,"__esModule",{value:!0}),t.genName=n;var r=1;t.default={setId:function(e){r=e},generate:function(){return function(){return String(r++)}}()};var i={}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return f.default.modes[e]}function o(e,t){var n=u.default.find(e.windows,{id:t});if(n)return(0,d.default)({},n,{type:"windows"});var r=u.default.find(u.default.flatMap(e.spaces,function(e){return e.daylighting_controls}),{id:t});if(r)return(0,d.default)({},r,{type:"daylighting_controls"});var i=u.default.find(e.doors,{id:t});return i?(0,d.default)({},i,{type:"doors"}):null}function a(e,t){var n=void 0,r=void 0;return c.assignableProperties.some(function(i){return(r=u.default.find(e[i],{id:t}))&&(n=i),!!r}),r?(0,d.default)({},r,{type:n}):null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),d=r(s);t.displayNameForMode=i,t.componentInstanceById=o,t.spacePropertyById=a;var l=n(3),u=r(l),c=n(30),f=r(c),p={displayNameForMode:i,config:f.default};t.default=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(54),a=i(o),s=n(5),d=i(s),l=n(40),u=i(l),c=n(3),f=i(c),p=n(145),h=i(p),m=n(386),g=i(m),v=n(382),y=r(v),_=n(30),w={building_units:{displayName:"Building Unit",definitionName:"BuildingUnit",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}],init:h.default.BuildingUnit},thermal_zones:{displayName:"Thermal Zone",definitionName:"ThermalZone",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}],init:h.default.ThermalZone},door_definitions:{displayName:"Door",definitionName:"DoorDefinition",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"height",displayName:"Height",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"width",displayName:"Width",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"door_type",displayName:"Type",input_type:"select",select_data:function(){var e=["Door","Glass Door","Overhead Door"];return f.default.zipObject(e,e)},validator:g.default.oneOf("Door","Glass Door","Overhead Door")},{name:"texture",displayName:"Texture",input_type:"texture",validator:g.default.oneOf.apply(g.default,(0,u.default)(_.textures))}],init:h.default.DoorDefinition},window_definitions:{displayName:"Window",definitionName:"WindowDefinition",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"window_definition_mode",displayName:"Mode",input_type:"select",select_data:function(){var e=["Single Window","Repeating Windows","Window to Wall Ratio"];return f.default.zipObject(e,e)},validator:g.default.oneOf("Single Window","Repeating Windows","Window to Wall Ratio")},{name:"wwr",displayName:"Window to Wall ratio",input_type:"text",validator:g.default.halfOpenInterval(0,1),converter:y.number,numeric:!0,enabled:function(e){return"Window to Wall Ratio"===e.window_definition_mode}},{name:"height",displayName:"Height",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0,enabled:function(e){return"Single Window"===e.window_definition_mode||"Repeating Windows"===e.window_definition_mode}},{name:"width",displayName:"Width",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0,enabled:function(e){return"Single Window"===e.window_definition_mode||"Repeating Windows"===e.window_definition_mode}},{name:"sill_height",displayName:"Sill Height",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"window_spacing",displayName:"Spacing",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0,enabled:function(e){return"Repeating Windows"===e.window_definition_mode}},{name:"window_type",displayName:"Window Type",input_type:"select",select_data:function(){var e=["Fixed","Operable"];return f.default.zipObject(e,e)},validator:g.default.oneOf("Fixed","Operable")},{name:"overhang_projection_factor",displayName:"Overhang Projection Factor",input_type:"text",validator:g.default.gt0orNull,converter:y.gt0orNull,numeric:!0},{name:"fin_projection_factor",displayName:"Fin Projection Factor",input_type:"text",validator:g.default.gt0orNull,converter:y.gt0orNull,numeric:!0},{name:"texture",displayName:"Texture",input_type:"texture",validator:g.default.oneOf.apply(g.default,(0,u.default)(_.textures)),enabled:function(e){return"Window to Wall Ratio"===e.window_definition_mode}},{name:"total_count",displayName:"Total Count",readonly:!0,numeric:!0,get:function(e,t){return f.default.chain(t.models.stories).flatMap("windows").filter({window_definition_id:e.id}).value().length}}],init:h.default.WindowDefn},space_types:{displayName:"Space Type",definitionName:"SpaceType",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}],init:h.default.SpaceType},construction_sets:{displayName:"Construction Set",definitionName:"ConstructionSet",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}],init:h.default.ConstructionSet},daylighting_control_definitions:{displayName:"Daylighting Control",definitionName:"DaylightingControlDefinition",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"height",displayName:"Height",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"illuminance_setpoint",displayName:"Illuminance Setpoint (lux)",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"total_count",displayName:"Total Count",readonly:!0,numeric:!0,get:function(e,t){return f.default.chain(t.models.stories).flatMap("spaces").flatMap("daylighting_controls").filter({daylighting_control_definition_id:e.id}).value().length}}],init:h.default.DaylightingControlDefn},stories:{displayName:"Story",definitionName:"Story",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"handle",readonly:!0,private:!0},{name:"geometry_id",readonly:!0,private:!0},{name:"below_floor_plenum_height",displayName:"Below Floor Plenum Height",input_type:"text",converter:y.number,numeric:!0,validator:g.default.number},{name:"above_ceiling_plenum_height",displayName:"Above Ceiling Plenum Height",input_type:"text",converter:y.number,numeric:!0,validator:g.default.number},{name:"floor_to_ceiling_height",displayName:"Floor To Ceiling Height",input_type:"text",converter:y.number,numeric:!0,validator:g.default.gt0},{name:"multiplier",displayName:"Multiplier",input_type:"text",converter:y.number,numeric:!0,validator:g.default.gt0},{name:"spaces",displayName:"Spaces",readonly:!0,numeric:!0,get:function(e,t){return e.spaces.length}},{name:"shading",displayName:"Shading",readonly:!0,numeric:!0,get:function(e,t){return e.shading.length}},{name:"images",readonly:!0,private:!0},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}]},spaces:{displayName:"Space",definitionName:"Space",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"daylighting_controls",displayName:"Daylighting Controls",readonly:!0,private:!0,get:function(e,t){return e.daylighting_controls.map(function(e){return e.name}).join(", ")}},{name:"story",displayName:"Story",readonly:!0,get:function(e,t){var n=t.models.stories.find(function(t){return~t.spaces.map(function(e){return e.id}).indexOf(e.id)});return n.name}},{name:"building_unit_id",displayName:"Building Unit",input_type:"select",select_data:function(e,t){var n={"(none)":null};return t.models.library.building_units.forEach(function(e){n[e.name]=e.id}),n},get:function(e,t){var n=t.models.library.building_units.find(function(t){return t.id===e.building_unit_id});return n?n.name:null}},{name:"thermal_zone_id",displayName:"Thermal Zone",input_type:"select",select_data:function(e,t){var n={"(none)":null};return t.models.library.thermal_zones.forEach(function(e){n[e.name]=e.id}),n},get:function(e,t){var n=t.models.library.thermal_zones.find(function(t){return t.id===e.thermal_zone_id});return n?n.name:null}},{name:"space_type_id",displayName:"Space Type",input_type:"select",select_data:function(e,t){var n={"(none)":null};return t.models.library.space_types.forEach(function(e){n[e.name]=e.id}),n},get:function(e,t){var n=t.models.library.space_types.find(function(t){return t.id===e.space_type_id});return n?n.name:null}},{name:"construction_set_id",displayName:"Construction Set",input_type:"select",select_data:function(e,t){var n={"(none)":null};return t.models.library.construction_sets.forEach(function(e){n[e.name]=e.id}),n},get:function(e,t){var n=t.models.library.construction_sets.find(function(t){return t.id===e.construction_set_id});return n?n.name:null}},{name:"pitched_roof_id",displayName:"Pitched Roof",input_type:"select",select_data:function(e,t){return(0,d.default)({"(none)":null},f.default.fromPairs(t.models.library.pitched_roofs.map(function(e){return[e.name,e.id]})))},get:function(e,t){var n=f.default.find(t.models.library.pitched_roofs,{id:e.pitched_roof_id});return n?n.name:null}},{name:"below_floor_plenum_height",displayName:"Below Floor Plenum Height",input_type:"text",numeric:!0,validator:g.default.number,converter:y.number},{name:"floor_to_ceiling_height",displayName:"Floor to Ceiling Height",input_type:"text",numeric:!0,validator:g.default.number,converter:y.number},{name:"above_ceiling_plenum_height",displayName:"Above Ceiling Plenum Height",input_type:"text",numeric:!0,validator:g.default.number,converter:y.number},{name:"floor_offset",displayName:"Floor Offset",input_type:"text",numeric:!0,validator:g.default.number,converter:y.number},{name:"open_to_below",displayName:"Open To Below",input_type:"select",select_data:function(){return{False:!1,True:!0}},converter:y.bool},{name:"color",displayName:"Color",input_type:"color",validator:g.default.color}]},shading:{displayName:"Shading",definitionName:"Shading",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"handle",readonly:!0,private:!0},{name:"face_id",readonly:!0,private:!0},{name:"color",readonly:!0,private:!0}]},images:{displayName:"Image",columns:[{name:"id",displayName:"ID",readonly:!0,private:!0},{name:"name",displayName:"Name",input_type:"text",validator:g.default.name},{name:"width",displayName:"Width",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0},{name:"height",displayName:"Height",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0},{name:"z",displayName:"z",input_type:"text",validator:g.default.number,private:!0},{name:"scale",displayName:"Scale",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0,get:function(e){return e.width/e.naturalWidth}},{name:"opacity",displayName:"opacity",input_type:"text",validator:g.default.closedInterval(0,1),converter:y.number,numeric:!0},{name:"x",displayName:"x",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0},{name:"y",displayName:"y",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0},{name:"src",readonly:!0,private:!0}]},windows:{displayName:"Window",columns:[{name:"id",private:!0},{name:"name",displayName:"Name",input_type:"text"},{name:"window_definition_id",displayName:"Definition",input_type:"select",select_data:function(e,t){return f.default.fromPairs(t.models.library.window_definitions.map(function(e){return[e.name,e.id]}))}}]},daylighting_controls:{displayName:"Daylighting Control",columns:[{name:"id",private:!0},{name:"name",displayName:"Name",input_type:"text"},{name:"daylighting_control_definition_id",displayName:"Definition",input_type:"select",select_data:function(e,t){return f.default.fromPairs(t.models.library.daylighting_control_definitions.map(function(e){return[e.name,e.id]}))}}]},doors:{displayName:"Door",columns:[{name:"id",private:!0},{name:"name",displayName:"Name",input_type:"text"},{name:"door_definition_id",displayName:"Definition",input_type:"select",select_data:function(e,t){return f.default.fromPairs(t.models.library.door_definitions.map(function(e){return[e.name,e.id]}))}}]},pitched_roofs:{displayName:"Pitched Roof",columns:[{name:"id",displayName:"ID",private:!0},{name:"name",displayName:"Name",input_type:"text"},{name:"pitched_roof_type",displayName:"Type",input_type:"select",select_data:function(){var e=["Gable","Hip","Shed"];return f.default.zipObject(e,e)},validator:g.default.oneOf("Gable","Hip","Shed")},{name:"pitch",displayName:"Pitch",input_type:"text",validator:g.default.gt0,converter:y.number,numeric:!0},{name:"shed_direction",displayName:"Shed Direction",input_type:"text",validator:g.default.number,converter:y.number,numeric:!0},{name:"color",displayName:"Color",input_type:"color"}],init:h.default.PitchedRoof}};(0,a.default)(w).forEach(function(e){w[e].keymap=f.default.zipObject(f.default.map(w[e].columns,"name"),w[e].columns),w[e].columns.forEach(function(t){f.default.has(w[e],"definitionName")&&f.default.get(p.allowableTypes,w[e].definitionName)&&f.default.includes(p.allowableTypes[w[e].definitionName][t.name],"null")&&(t.nullable=!0),f.default.has(w[e],"definitionName")&&(0,p.getDefaults)(w[e].definitionName)&&f.default.has((0,p.getDefaults)(w[e].definitionName),t.name)&&(t.default=(0,p.getDefaults)(w[e].definitionName)[t.name])})}),t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n;return function(){for(var r=this,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){n=null,e.apply(r,o)},t)}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,n={};return e.filter(function(e){var r=t(e);return!n[r]&&(n[r]=!0,!0)})}function a(e){return f.default.flatten(e.map(function(t,n){return e.slice(n+1).map(function(e){return[t,e]})}))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default;return e.filter(function(n,r){return 0===r||t(n)!==t(e[r-1])})}function d(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}Object.defineProperty(t,"__esModule",{value:!0});var l=n(34),u=r(l);t.debounce=i,t.uniq=o,t.allPairs=a,t.dropConsecutiveDups=s,t.getSiblings=d;var c=n(3),f=r(c)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(764);var r=n(9)(n(364),n(851),"data-v-8f6e6820",null);e.exports=r.exports},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.x,r=t.y;return[{x:Math.floor(n/e)*e,y:Math.floor(r/e)*e},{x:(Math.floor(n/e)+1)*e,y:Math.floor(r/e)*e},{x:Math.floor(n/e)*e,y:(Math.floor(r/e)+1)*e},{x:(Math.floor(n/e)+1)*e,y:(Math.floor(r/e)+1)*e}].map(function(e){return(0,y.default)({},e,{type:"grid"})})}function o(e,t,n){return e.filter(function(e){return(0,E.distanceBetweenPoints)(n,e)<=t}).map(function(e){return(0,y.default)({},e,{type:"vertex"})})}function a(e,t,n){var r=[].concat((0,g.default)(i(t,n)),(0,g.default)(o(e,t,n))).map(function(e){return(0,y.default)({},e,{dist:(0,E.distanceBetweenPoints)(e,n),dx:n.x-e.x,dy:n.y-e.y})});return w.default.orderBy(r,["dist","origin","type"],["asc","asc","desc"])}function s(e,t,n){var r=n.width,i=n.spacing,o=n.window_definition_mode,a=n.texture;
if("Window to Wall Ratio"===o||"Repeating Windows"===o)return{edge_id:e.id,center:{x:(e.v1.x+e.v2.x)/2,y:(e.v1.y+e.v2.y)/2},edge_start:e.v1,alpha:.5,start:e.v1,end:e.v2,window_definition_mode:o,width:r,spacing:i,texture:a};var s=(0,E.edgeDirection)({start:e.v1,end:e.v2}),d=r*Math.cos(s)/2,l=r*Math.sin(s)/2,u=e.v2.x===e.v1.x?(t.y-e.v1.y)/(e.v2.y-e.v1.y):(t.x-e.v1.x)/(e.v2.x-e.v1.x);return{edge_id:e.id,center:t,edge_start:e.v1,alpha:u,start:{x:t.x-d,y:t.y-l},end:{x:t.x+d,y:t.y+l},window_definition_mode:o}}function d(e,t){var n=e.map(function(e){return(0,y.default)({},e,(0,E.pointDistanceToSegment)(t,{start:e.v1,end:e.v2}))}),r=void 0,i=NaN;return n.forEach(function(e){e.dist>=i||(i=e.dist,r=e)}),r}function l(e,t){var n=e.map(function(e){var n="Single Window"===e.window_definition_mode?{dist:(0,E.distanceBetweenPoints)(t,e.center),proj:e.center}:(0,E.pointDistanceToSegment)(t,e);return(0,y.default)({},e,n,{v1:e.start,v2:e.end})});return w.default.minBy(n,"dist")}function u(e,t,n,r){var i=d(e,t);return!i||i.dist>r?null:s(i,i.proj,n)}function c(e,t,n,r,i){var o=d(e,t);if(!o||o.dist>r)return null;var a=(0,E.distanceBetweenPoints)(o.v1,o.proj),l=Math.round(a/i)*i,u=o.v2.x-o.v1.x,c=o.v2.y-o.v1.y,f=Math.sqrt(u*u+c*c),p={x:o.v1.x+l*(u/f),y:o.v1.y+l*(c/f)};return s(o,p,n)}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"grid-strict"===e?c.apply(void 0,n):u.apply(void 0,n)}function p(e,t,n,r){var i="grid-strict"===e?[]:[n];return w.default.chain(a(i,r,n)).map(function(e){return(0,y.default)({},e,{face_id:w.default.find(t,function(t){return(0,E.vertInRing)(e,t.vertices)})})}).filter("face_id").map(function(e){return(0,y.default)({},e,{face_id:e.face_id.id})}).first().value()}function h(e,t){var n=t.alpha||.5;return{x:e.v1.x+n*(e.v2.x-e.v1.x),y:e.v1.y+n*(e.v2.y-e.v1.y)}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(40),g=r(m),v=n(5),y=r(v);t.gridSnapTargets=i,t.vertexSnapTargets=o,t.snapTargets=a,t.expandWindowAlongEdge=s,t.findClosestEdge=d,t.findClosestWindow=l,t.snapWindowToEdge=f,t.snapToVertexWithinFace=p,t.windowLocation=h;var _=n(3),w=r(_),E=n(18)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeEvents=void 0;var i=n(214),o=r(i);t.ResizeEvents=o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(62),o=r(i),a=n(18);r(a);t.default={Vertex:function(e,t){return{id:o.default.generate(),x:e,y:t}},Edge:function(e,t){return{id:o.default.generate(),v1:e,v2:t}},Face:function(e){return{id:o.default.generate(),edgeRefs:e}},Geometry:function(){return{id:o.default.generate(),vertices:[],edges:[],faces:[]}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.allowableTypes=t.getDefaults=void 0;var i=n(5),o=r(i),a=n(3),s=r(a),d=n(62),l=r(d),u=n(393),c=r(u),f=n(394),p=r(f),h=n(30),m=r(h),g=n(300),v=r(g),y=n(146),_=function(e){var t=function t(n){return s.default.has(n,"default")?n[e]:"null"===n.type?null:"array"===n.type?[]:"object"===n.type?s.default.mapValues(n.properties,t):s.default.has(n,e)?n[e]:null};return t},w=function(e){return s.default.mapValues(v.default.definitions,_(e))},E=w("default");if("ip"!==E.Project.config.units)throw new Error("Expected default units to be ip. Code changes are required to change the default units");var T=s.default.mapValues(E,function(e,t){return(0,y.getConverter)(t,"ip","si")(e)}),x=t.getDefaults=function(e){return s.default.cloneDeep("ip"===s.default.get(window,"application.$store.state.project.config.units","ip")?E[e]:T[e])};t.allowableTypes=w("type");t.default={Story:function(e){return(0,o.default)({},x("Story"),{id:l.default.generate(),name:e,color:(0,c.default)("story")})},Space:function(e){return(0,o.default)({},x("Space"),{id:l.default.generate(),name:e,color:(0,c.default)("space"),type:"space"})},Shading:function(e){return(0,o.default)({},x("Shading"),{id:l.default.generate(),name:e,color:m.default.palette.shading})},Image:function(e,t){return{id:l.default.generate(),src:t,name:e,visible:!0,height:0,width:0,x:0,y:0,z:0,r:0,opacity:.6,naturalWidth:0,naturalHeight:0}},BuildingUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:l.default.generate(),color:(0,c.default)("building_unit"),name:e.name,handle:e.handle||null}},ThermalZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("ThermalZone"),{id:l.default.generate(),color:(0,c.default)("thermal_zone"),name:e.name})},SpaceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("SpaceType"),{id:l.default.generate(),color:(0,c.default)("space_type"),name:e.name})},ConstructionSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("ConstructionSet"),{id:l.default.generate(),name:e.name,color:(0,c.default)("construction_set")})},WindowDefn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("WindowDefinition"),{id:l.default.generate(),name:e.name,wwr:null,window_spacing:null,texture:(0,p.default)("window_definition")})},DaylightingControlDefn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("DaylightingControlDefinition"),{id:l.default.generate(),name:e.name})},DoorDefinition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("DoorDefinition"),{id:l.default.generate(),name:e.name,texture:(0,p.default)("door_definition")})},PitchedRoof:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({},x("PitchedRoof"),{id:l.default.generate(),name:e.name,color:(0,c.default)("pitched_roof")})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertLibrary=t.convertState=t.convertSchema=t.getConverter=t.conversionFactor=t.units=void 0;var i=n(64),o=r(i),a=n(5),s=r(a),d=n(3),l=r(d),u=n(300),c=r(u),f=n(30),p=n(401),h=r(p),m=function e(t){if(l.default.has(t,"si_units"))return l.default.pick(t,["si_units","ip_units"]);if("object"===t.type){var n=l.default.pickBy(l.default.mapValues(t.properties,e),l.default.identity);return l.default.isEmpty(n)?null:n}return"array"===t.type&&l.default.get(t,"items.$ref")?{arrayOf:t.items.$ref.replace("#/definitions/","")}:t.$ref?{$ref:t.$ref.replace("#/definitions/","")}:null},g=(0,s.default)({$schema:l.default.pickBy(l.default.mapValues(c.default.properties,m),l.default.identity)},l.default.pickBy(l.default.mapValues(c.default.definitions,m),l.default.identity));g.$state=l.default.pickBy({application:g.Application,project:g.Project,geometry:{arrayOf:"Geometry"},models:{stories:{arrayOf:"Story"},library:l.default.fromPairs(f.libraryTypes.map(function(e){return[e,g.$schema[e]]}))}},l.default.identity);var v=t.units=(0,h.default)(g),y={"m -> ft":3.280839895,"ft -> m":.3048,"fc -> lux":10.7639,"lux -> fc":.092903},_=t.conversionFactor=function(e,t){var n=y[e+" -> "+t];if(!n)throw new Error("Unable to find conversion from "+e+" to "+t);return n},w=t.getConverter=function e(t,n,r){if(!l.default.includes(["si","ip"],n))throw new Error("expected fromSystem to be 'si' or 'ip'. received "+n);if(!l.default.includes(["si","ip"],r))throw new Error("expected toSystem to be 'si' or 'ip'. received "+r);if(n===r)return l.default.identity;var i=n+"_units",a=r+"_units",s=l.default.get(v,t);if(!s||l.default.has(s,"si_units")&&s.si_units===s.ip_units)return l.default.identity;if(l.default.has(s,"si_units")){var d=_(s[i],s[a]);return function(e){return("undefined"==typeof e?"undefined":(0,o.default)(e))===(0,o.default)(0)?e*d:e}}if(s.$ref)return e(s.$ref,n,r);if(s.arrayOf){var u=e(s.arrayOf,n,r);return function(e){return e.map(u)}}if(l.default.isObject(s)){var c=l.default.mapValues(s,function(i,o){return e(t+"."+o,n,r)});return function(e){return l.default.mapValues(e,function(e,t){return(c[t]||l.default.identity)(e)})}}throw new Error("Path "+t+" did not lead to a useful spot in 'units'")},E=t.convertSchema=function(e,t,n){return w("$schema",t,n)(e)};t.convertState=function(e,t,n){return w("$state",t,n)(e)},t.convertLibrary=E},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("circle",{attrs:{cx:"10",cy:"10",fill:"#bf0049",r:"5.6"}}),_c("path",{attrs:{d:"M10.8 9.9L12.7 8c.2-.2.2-.6 0-.8-.2-.2-.6-.2-.8 0L10 9 8.1 7.1c-.2-.2-.6-.2-.8 0s-.3.7-.1.9l1.9 1.9-1.9 1.9c-.2.2-.2.6 0 .8.1.1.3.2.4.2s.3-.1.4-.2l1.9-1.9 1.9 1.9c.1.1.3.2.4.2s.3-.1.4-.2c.2-.2.2-.6 0-.8l-1.8-1.9z",fill:"#fff"}})])}}},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=r(i);t.default=new o.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(873),o=r(i),a=n(879),s=r(a),d=n(871),l=r(d),u=n(868),c=r(u),f=n(890),p=r(f),h=n(878),m=r(h),g=n(883),v=r(g),y=n(884),_=r(y),w=n(881),E=r(w),T=n(882),x=r(T),b=n(887),S=r(b),M=n(886),D=r(M),O=n(888),R=r(O),P=n(889),F=r(P),I=n(885),C=r(I),A=n(870),N=r(A),k=n(867),U=r(k),H=n(872),j=r(H),z=n(893),$=r(z),L=n(891),W=r(L),X=n(892),G=r(X),B=n(874),Q=r(B),V=n(857),q=r(V),Y=n(869),K=r(Y),J=n(865),Z=r(J),ee=n(864),te=r(ee),ne=n(860),re=r(ne),ie=n(861),oe=(r(ie),n(859)),ae=r(oe),se=n(863),de=r(se),le=n(862),ue=r(le),ce=n(875),fe=r(ce),pe=n(876),he=r(pe),me=n(877),ge=r(me),ve=n(312),ye=r(ve),_e=n(880),we=r(_e),Ee={name:"ComponentIcon",props:["which"],template:'\n    <ComponentsWindow v-if="which === \'window_definitions\'" class="button" />\n    <ComponentsDaylighting v-else-if="which === \'daylighting_control_definitions\'" class="button" />\n  ',components:{ComponentsWindow:Z.default,ComponentsDaylighting:te.default}},Te={name:"AssignSpacePropIcon",props:["which"],template:'\n    <AssignBldgModule v-if="which === \'building_units\'" class="button" />\n    <AssignThermalZone v-else-if="which === \'thermal_zones\'" class="button" />\n    <AssignActivity v-else-if="which === \'space_types\'" class="button" />\n    <AssignRoof v-else-if="which === \'pitched_roofs\'" class="button" />\n  ',components:{AssignBldgModule:re.default,AssignThermalZone:de.default,AssignActivity:ae.default,AssignRoof:ue.default}};t.default={"open-floorplan-svg":o.default,"save-floorplan-svg":s.default,"import-library-svg":l.default,"globe-icon-svg":c.default,"undo-svg":p.default,"redo-svg":m.default,"tab-floorplan-svg":v.default,"tab-shading-svg":_.default,"tab-assign-svg":E.default,"tab-components-svg":x.default,"tool-color-svg":C.default,"tool-draw-rectangle-svg":S.default,"tool-draw-polygon-svg":D.default,"tool-erase-svg":R.default,"tool-move-size-svg":F.default,"tool-image-svg":N.default,"tool-fill-svg":U.default,"tool-component-svg":j.default,"zoom-in-svg":W.default,"zoom-out-svg":G.default,"pan-svg":Q.default,"add-image":q.default,ZoomToFitSvg:$.default,ComponentIcon:Ee,AssignSpacePropIcon:Te,QuickstartIconNewMapFloorplan:fe.default,QuickstartIconNewFloorplan:he.default,QuickstartIconOpenFloorplan:ge.default,InfoIcon:ye.default,SettingsGear:we.default,GroundPropertiesIcon:K.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return m.default.filter(e,function(e){return m.default.chain(e.edges).map("id").includes(t).value()})}function o(e,t){var n=v.default.denormalize(e.geometry.find(function(e){return e.id===t})),r=e.models.stories.find(function(e){return e.geometry_id===t}),o=r.spaces.map(function(e){return{daylighting_controls:e.daylighting_controls.map(function(e){return(0,p.default)({},e,{vertex:m.default.find(n.vertices,{id:e.vertex_id})})}),space_id:e.id,face_id:e.face_id}});return{geometry_id:t,story_id:r.id,windows:r.windows.map(function(e){var t=m.default.find(n.edges,{id:e.edge_id}),r=i(n.faces,e.edge_id);return(0,p.default)({},e,{originalLoc:(0,y.windowLocation)(t,e),originalFaceIds:m.default.map(r,"id")})}),doors:r.doors.map(function(e){var t=m.default.find(n.edges,{id:e.edge_id}),r=i(n.faces,e.edge_id);return(0,p.default)({},e,{originalLoc:(0,y.windowLocation)(t,e),originalFaceIds:m.default.map(r,"id")})}),perFaceComponents:o}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.geometry_id,o=t.story_id,a=t.windows,s=t.doors,d=t.perFaceComponents,u=v.default.denormalize(m.default.find(e.rootState.geometry,{id:r})),f=m.default.find(e.rootState.models.stories,{id:o}),p=u.faces.filter(function(e){return m.default.find(f.spaces,{face_id:e.id})}),h=e.rootState.project.grid.spacing;e.dispatch("models/destroyAllComponents",{story_id:o},{root:!0});var g=m.default.flatMap(p,"edges"),_=function(t,r){var a=[];t.forEach(function(e){var t=n[e.originalFaceIds[0]]||{dx:0,dy:0},s=t.dx,d=t.dy,u={x:e.originalLoc.x+s,y:e.originalLoc.y+d},f=(0,y.snapWindowToEdge)("nonstrict",g,u,{width:1},h/4);if(f){var v=i(p,f.edge_id).map(function(e){return e.id});e.originalFaceIds.length!==v.length||e.originalFaceIds.length>1&&m.default.intersection((0,c.default)(n),e.originalFaceIds)||a.push((0,l.default)({story_id:o,edge_id:f.edge_id,alpha:f.alpha},r.toLowerCase()+"_definition_id",e.window_definition_id||e.door_definition_id))}}),e.dispatch("models/create"+r+"s",a,{root:!0})};_(a,"Window"),_(s,"Door"),d.forEach(function(t){var r=t.face_id,i=t.daylighting_controls;i.forEach(function(t){var i=n[r]||{dx:0,dy:0},a=i.dx,s=i.dy,d={x:t.vertex.x+a,y:t.vertex.y+s},l=(0,y.snapToVertexWithinFace)("nonstrict",p,d,h/4);l&&e.dispatch("models/createDaylightingControl",{daylighting_control_definition_id:t.daylighting_control_definition_id,x:l.x,y:l.y,story_id:o,face_id:l.face_id},{root:!0})})})}function s(){for(var e=void 0,t=void 0,n=void 0,r=void 0,i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];if(3===s.length)e=s[0],t=s[1],n=s[2],r={};else{if(4!==s.length)throw new Error("usage: withPreservedComponents(context, geometry_id, action [,movementsByFaceId])");e=s[0],t=s[1],r=s[2],n=s[3]}var l=o(e.rootState,t);n(),a(e,l,r)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(81),l=r(d),u=n(54),c=r(u),f=n(5),p=r(f);t.withPreservedComponents=s;var h=n(3),m=r(h),g=n(18),v=r(g),y=n(142)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(387),o=r(i),a=n(389),s=r(a),d=n(388),l=r(d);t.default={namespaced:!0,state:{config:{units:"ip",unitsEditable:!0,language:"EN-US"},north_axis:0,ground:{floor_offset:0,azimuth_angle:0,tilt_slope:0},grid:{visible:!0,spacing:5},view:{min_x:-250,min_y:-150,max_x:250,max_y:150},map:{initialized:!1,enabled:!0,visible:!0,latitude:39.7653,longitude:-104.9863,zoom:4.5,rotation:0,elevation:0},previous_story:{visible:!0},show_import_export:!0,preview3D:{enabled:!0}},actions:o.default,mutations:s.default,getters:l.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",version:"0.7.0",description:"Comment describing your JSON Schema",type:"object",properties:{version:{description:"File format version",type:"string"},application:{$ref:"#/definitions/Application"},project:{$ref:"#/definitions/Project"},stories:{type:"array",items:{$ref:"#/definitions/Story"}},building_units:{type:"array",items:{$ref:"#/definitions/BuildingUnit"}},thermal_zones:{type:"array",items:{$ref:"#/definitions/ThermalZone"}},space_types:{type:"array",items:{$ref:"#/definitions/SpaceType"}},construction_sets:{type:"array",items:{$ref:"#/definitions/ConstructionSet"}},window_definitions:{type:"array",items:{$ref:"#/definitions/WindowDefinition"}},door_definitions:{type:"array",items:{$ref:"#/definitions/DoorDefinition"}},daylighting_control_definitions:{type:"array",items:{$ref:"#/definitions/DaylightingControlDefinition"}},pitched_roofs:{type:"array",items:{$ref:"#/definitions/PitchedRoof"}}},required:["version","application","project","stories","building_units","thermal_zones","space_types","construction_sets","window_definitions","door_definitions","daylighting_control_definitions","pitched_roofs"],definitions:{Application:{description:"Reserved for application data, not for external use",type:"object"},Project:{description:"Information that applies to the entire project",type:"object",properties:{config:{type:"object",properties:{units:{type:["string","null"],enum:["ip","si"],default:"ip"},language:{type:["string","null"],default:"EN-US"}},required:["units","language"]},north_axis:{description:"Angle between building north and true north in degrees (clockwise is positive)",type:["number","null"],default:0,si_units:"deg",ip_units:"deg"},ground:{type:"object",properties:{floor_offset:{description:"Specifies the vertical offset between the building floor and the ground plane. Use a value < 0 for buildings with below-grade spaces, or a value > 0 for, e.g., buildings on piers.",type:["number","null"],default:0,si_units:"m",ip_units:"ft"},azimuth_angle:{description:"Direction of the ground plane, in clockwise degrees from the positive y-axis when viewed from above.",type:["number","null"],default:0,si_units:"deg",ip_units:"deg"},tilt_slope:{description:"Slope of the ground plane from horizontal. For example, a value of 1 implies a 45-deg angle.",type:["number","null"],default:0}},required:["floor_offset","azimuth_angle","tilt_slope"]},grid:{type:"object",properties:{visible:{type:["boolean","null"]},spacing:{type:["number","null"],si_units:"m",ip_units:"ft"}},required:["visible","spacing"]},view:{type:"object",properties:{min_x:{type:["number","null"],si_units:"m",ip_units:"ft"},min_y:{type:["number","null"],si_units:"m",ip_units:"ft"},max_x:{type:["number","null"],si_units:"m",ip_units:"ft"},max_y:{type:["number","null"],si_units:"m",ip_units:"ft"}},required:["min_x","min_y","max_x","max_y"]},map:{type:"object",properties:{visible:{type:["boolean","null"]},latitude:{type:["number","null"]},longitude:{type:["number","null"]},zoom:{type:["number","null"]},elevation:{type:["number","null"],si_units:"m",ip_units:"ft"},enabled:{type:["boolean","null"]},initialized:{type:["boolean","null"]},rotation:{type:["number","null"],si_units:"deg",ip_units:"deg"}},required:["visible","latitude","longitude","zoom","elevation","enabled","initialized","rotation"]},previous_story:{type:"object",properties:{visible:{type:["boolean","null"]}},required:["visible"]},show_import_export:{type:["boolean","null"]}},required:["config","north_axis","ground","grid","view","map","previous_story","show_import_export"]},Geometry:{type:"object",properties:{id:{type:"string"},vertices:{type:"array",items:{$ref:"#/definitions/Vertex"}},edges:{type:"array",items:{$ref:"#/definitions/Edge"}},faces:{type:"array",items:{$ref:"#/definitions/Face"}}},required:["id","vertices","edges","faces"]},Vertex:{type:"object",properties:{id:{type:"string"},x:{type:"number",si_units:"m",ip_units:"ft"},y:{type:"number",si_units:"m",ip_units:"ft"},edge_ids:{type:"array",items:{type:"string"}}},required:["id","x","y","edge_ids"]},Edge:{type:"object",properties:{id:{type:"string"},vertex_ids:{type:"array",minItems:2,maxItems:2,uniqueItems:!0,items:{type:"string"}},face_ids:{type:"array",minItems:1,maxItems:2,items:{type:"string"}}},required:["id","vertex_ids","face_ids"]},Face:{type:"object",properties:{id:{type:"string"},edge_ids:{type:"array",minItems:3,items:{type:"string"}},edge_order:{type:"array",minItems:3,items:{type:"number",enum:[0,1]}}},required:["id","edge_ids","edge_order"]},Story:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},image_visible:{type:["boolean","null"],default:!0},below_floor_plenum_height:{type:["number","null"],minimum:0,default:0,si_units:"m",ip_units:"ft"},floor_to_ceiling_height:{type:["number","null"],minimum:0,default:8,si_units:"m",ip_units:"ft"},above_ceiling_plenum_height:{type:["number","null"],minimum:0,default:0,si_units:"m",ip_units:"ft"},multiplier:{type:["integer","null"],minimum:1,multipleOf:1,default:1},color:{$ref:"#/definitions/HexColor"},geometry:{$ref:"#/definitions/Geometry"},images:{type:"array"},spaces:{type:"array",items:{$ref:"#/definitions/Space"}},shading:{type:"array",items:{$ref:"#/definitions/Shading"}},windows:{type:"array",items:{type:"object",properties:{window_definition_id:{type:"string"},edge_id:{type:"string"},alpha:{description:'Distance along edge to center point of window, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1).  Does not apply if window_definition_mode is "Window to Wall Ratio". Will be an array of such values if window_definition_mode is "Repeating Windows".',type:["array","number","null"],minimum:0,maximum:1,items:{type:"number",minimum:0,maximum:1}}},required:["window_definition_id","edge_id","alpha"]}},doors:{type:"array",items:{type:"object",properties:{door_definition_id:{type:"string"},edge_id:{type:"string"},alpha:{description:"Distance along edge to center point of door, starting from first vertex of edge at a = 0 and ending at second vertex of edge at a =1.  v = v1 + a*(v2-v1). ",type:"number",minimum:0,maximum:1}},required:["door_definition_id","edge_id","alpha"]}}},required:["id","handle","name","image_visible","below_floor_plenum_height","floor_to_ceiling_height","above_ceiling_plenum_height","multiplier","color","geometry","images","spaces","shading","windows","doors"]},Space:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},face_id:{type:["string","null"]},building_unit_id:{type:["string","null"]},thermal_zone_id:{type:["string","null"]},space_type_id:{type:["string","null"]},construction_set_id:{type:["string","null"]},pitched_roof_id:{type:["string","null"]},daylighting_controls:{type:"array",items:{type:"object",properties:{daylighting_control_definition_id:{type:"string"},vertex_id:{type:"string"}},required:["daylighting_control_definition_id","vertex_id"]}},below_floor_plenum_height:{description:"If provided, overrides the story below_floor_plenum_height.",type:["number","null"],minimum:0,si_units:"m",ip_units:"ft"},floor_to_ceiling_height:{description:"If provided, overrides the story floor_to_ceiling_height.",type:["number","null"],minimum:0,si_units:"m",ip_units:"ft"},above_ceiling_plenum_height:{description:"If provided, overrides the story above_ceiling_plenum_height.",type:["number","null"],minimum:0,si_units:"m",ip_units:"ft"},floor_offset:{description:"If provided, specifies the vertical offset between the space floor and the story floor.",type:["number","null"],si_units:"m",ip_units:"ft"},open_to_below:{description:"If true, defines a space that is open to below (has no floor).",type:["boolean","null"]}},required:["id","handle","name","face_id","building_unit_id","thermal_zone_id","space_type_id","construction_set_id","pitched_roof_id","daylighting_controls","below_floor_plenum_height","floor_to_ceiling_height","above_ceiling_plenum_height","floor_offset","open_to_below"]},Shading:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},face_id:{type:["string","null"]}},required:["id","handle","name","face_id"]},ThermalZone:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},color:{$ref:"#/definitions/HexColor"}},required:["id","handle","name","color"]},SpaceType:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},color:{$ref:"#/definitions/HexColor"}},required:["id","handle","name","color"]},BuildingUnit:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]},color:{$ref:"#/definitions/HexColor"}},required:["id","handle","name","color"]},ConstructionSet:{type:"object",properties:{id:{type:"string"},handle:{type:["string","null"]},name:{type:["string","null"]}},required:["id","handle","name"]},WindowDefinition:{type:"object",properties:{id:{type:"string"},name:{type:["string","null"]},window_definition_mode:{type:"string",enum:["Single Window","Repeating Windows","Window to Wall Ratio"],default:"Single Window"},wwr:{description:'Target window to wall ratio, only used if window_definition_mode is "Window to Wall Ratio"',type:["number","null"],minimum:0,maximum:1,exclusiveMaximum:!0,default:.2},sill_height:{description:"Vertical distance from the floor to the window sill. In drawing units.",type:["number","null"],minimum:0,exclusiveMinimum:!0,default:3,si_units:"m",ip_units:"ft"},window_spacing:{description:'Spacing between windows.  Only used if window_definition_mode is  "Repeating Windows".',type:["number","null"],minimum:0,exclusiveMinimum:!0,default:4,si_units:"m",ip_units:"ft"},height:{description:'Vertical height of each window. In drawing units. Used if window_definition_mode is "Single Window" or "Repeating Windows".',type:["number","null"],minimum:0,exclusiveMinimum:!0,default:4,si_units:"m",ip_units:"ft"},width:{description:'Horizontal width of each window. In drawing units. Used if window_definition_mode is "Single Window" or "Repeating Windows".',type:["number","null"],minimum:0,exclusiveMinimum:!0,default:2,si_units:"m",ip_units:"ft"},window_type:{type:"string",enum:["Fixed","Operable"],default:"Fixed"},overhang_projection_factor:{description:"Projection factor for overhangs, set to null for no overhang.  Overhang depth = overhang_projection_factor*height.",type:["number","null"],minimum:0,exclusiveMinimum:!0,default:null},fin_projection_factor:{description:"Projection factor for fins, set to null for no overhang. Projection factor for overhangs, set to null for no overhang.  Fin depth = fin_projection_factor*height.",type:["number","null"],minimum:0,exclusiveMinimum:!0,default:null},texture:{description:'Internal attribute representing how this window group is displayed. Applies only if window_definition_mode is "Window to Wall Ratio".',type:["string","null"],default:null}},required:["id","name","window_definition_mode","wwr","sill_height","window_spacing","height","width","window_type","overhang_projection_factor","fin_projection_factor"]},DoorDefinition:{type:"object",properties:{id:{type:"string"},name:{type:["string","null"]},height:{description:"Vertical height of each door. In drawing units.",type:"number",minimum:0,exclusiveMinimum:!0,default:6.67,si_units:"m",ip_units:"ft"},width:{description:"Horizontal width of each door. In drawing units.",type:"number",minimum:0,exclusiveMinimum:!0,default:3,si_units:"m",ip_units:"ft"},door_type:{type:"string",enum:["Door","Glass Door","Overhead Door"],default:"Door"}},required:["id","name","height","width","door_type"]},DaylightingControlDefinition:{type:"object",properties:{id:{type:"string"},name:{type:["string","null"]},illuminance_setpoint:{description:"Setpoint for daylighting control.",type:"number",default:300,si_units:"lux",ip_units:"fc"},height:{description:"Vertical distance of sensor above floor.  In drawing units.",type:"number",default:3,si_units:"m",ip_units:"ft"}},required:["id","name","illuminance_setpoint","height"]},PitchedRoof:{type:"object",properties:{id:{type:"string"},name:{type:["string","null"]},pitched_roof_type:{type:"string",enum:["Gable","Hip","Shed"],default:"Gable"},pitch:{description:"Pitch of roof. A value of 6, for example, implies a 6 in 12 pitch (or 26.57 degrees).",type:"number",minimum:0,default:6},shed_direction:{description:"Direction of shed roof, from low edge to high edge, in clockwise degrees from the positive y-axis when viewed from above.",type:["number","null"],default:0,si_units:"deg",ip_units:"deg"},color:{$ref:"#/definitions/HexColor"}},required:["id","name","pitched_roof_type","pitch","shed_direction","color"]},HexColor:{type:["string","null"],pattern:"^#[a-fA-F0-9]{6}$"}}}},,,,,,,,function(e,t,n){n(748);var r=n(9)(n(350),n(831),"data-v-14ece691",null);e.exports=r.exports},function(e,t,n){n(760);var r=n(9)(n(356),n(846),"data-v-6bbb2c29",null);e.exports=r.exports},function(e,t,n){n(749);var r=n(9)(n(359),n(832),"data-v-20be75f3",null);e.exports=r.exports},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[_c("switch",[_c("g",[_c("path",{attrs:{d:"M82.992 97.5h-49.23a3.853 3.853 0 0 1-3.852-3.852V23.101a3.853 3.853 0 0 1 3.852-3.851h49.23a3.853 3.853 0 0 1 3.852 3.851v70.548a3.853 3.853 0 0 1-3.852 3.851zm-45.379-7.703H79.14V26.952H37.613v62.845z"}}),_c("path",{attrs:{d:"M25.834 80.751h-8.826a3.854 3.854 0 0 1-3.852-3.852V6.352A3.853 3.853 0 0 1 17.008 2.5h50.523a3.853 3.853 0 0 1 3.852 3.852v8.826H63.68v-4.975H20.859v62.845h4.975v7.703z"}})])])])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 100 100"}},[_c("title",[_v("Artboard 10")]),_c("path",{attrs:{d:"M50 18a32 32 0 1 0 32 32 32 32 0 0 0-32-32zm4 49h-8V47h8zm0-26h-8v-8h8z"}})])}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e,t,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return Cn.locateFile?Cn.locateFile(e,Vn):Vn+e}function s(e){s.shown||(s.shown={}),s.shown[e]||(s.shown[e]=1,Yn(e))}function d(e,t){e||k("Assertion failed: "+t)}function l(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&pr)return pr.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var d=63&e[t++];if(192!=(224&a)){var l=63&e[t++];if(224==(240&a)?a=(15&a)<<12|d<<6|l:(240!=(248&a)&&s("Invalid UTF-8 leading byte 0x"+a.toString(16)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),a=(7&a)<<18|d<<12|l<<6|63&e[t++]),a<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|d)}else o+=String.fromCharCode(a)}return o}function u(e,t){return e?l(or,e,t):""}function c(e,t,n,r){if(!(r>0))return 0;for(var i=n,o=n+r-1,a=0;a<e.length;++a){var d=e.charCodeAt(a);if(d>=55296&&d<=57343){var l=e.charCodeAt(++a);d=65536+((1023&d)<<10)|1023&l}if(d<=127){if(n>=o)break;t[n++]=d}else if(d<=2047){if(n+1>=o)break;t[n++]=192|d>>6,t[n++]=128|63&d}else if(d<=65535){if(n+2>=o)break;t[n++]=224|d>>12,t[n++]=128|d>>6&63,t[n++]=128|63&d}else{if(n+3>=o)break;d>=2097152&&s("Invalid Unicode code point 0x"+d.toString(16)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[n++]=240|d>>18,t[n++]=128|d>>12&63,t[n++]=128|d>>6&63,t[n++]=128|63&d}}return t[n]=0,n-i}function f(e,t,n){return d("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),c(e,or,t,n)}function p(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function h(e,t){d(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&sr[r];)++r;if(n=r<<1,n-e>32&&hr)return hr.decode(or.subarray(e,n));for(var o="",a=0;!(a>=t/2);++a){var s=ar[e+2*a>>1];if(0==s)break;o+=String.fromCharCode(s)}return o}function m(e,t,n){if(d(t%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),d("number"==typeof n,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<2)return 0;
n-=2;for(var r=t,i=n<2*e.length?n/2:e.length,o=0;o<i;++o){var a=e.charCodeAt(o);ar[t>>1]=a,t+=2}return ar[t>>1]=0,t-r}function g(e){return 2*e.length}function v(e,t){d(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var n=0,r="";!(n>=t/4);){var i=dr[e+4*n>>2];if(0==i)break;if(++n,i>=65536){var o=i-65536;r+=String.fromCharCode(55296|o>>10,56320|1023&o)}else r+=String.fromCharCode(i)}return r}function y(e,t,n){if(d(t%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),d("number"==typeof n,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a>=55296&&a<=57343){var s=e.charCodeAt(++o);a=65536+((1023&a)<<10)|1023&s}if(dr[t>>2]=a,t+=4,t+4>i)break}return dr[t>>2]=0,t-r}function _(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function w(e,t){d(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),ir.set(e,t)}function E(e,t,n){for(var r=0;r<e.length;++r)d(e.charCodeAt(r)===e.charCodeAt(r)&255),ir[t++>>0]=e.charCodeAt(r);n||(ir[t>>0]=0)}function T(e,t){return e%t>0&&(e+=t-e%t),e}function x(e){rr=e,Cn.HEAP8=ir=new Int8Array(e),Cn.HEAP16=ar=new Int16Array(e),Cn.HEAP32=dr=new Int32Array(e),Cn.HEAPU8=or=new Uint8Array(e),Cn.HEAPU16=sr=new Uint16Array(e),Cn.HEAPU32=lr=new Uint32Array(e),Cn.HEAPF32=ur=new Float32Array(e),Cn.HEAPF64=cr=new Float64Array(e)}function b(){var e=mi();d(0==(3&e)),lr[(e>>2)+1]=34821223,lr[(e>>2)+2]=2310721022,dr[0]=1668509029}function S(){if(!fr){var e=mi(),t=lr[(e>>2)+1],n=lr[(e>>2)+2];34821223==t&&2310721022==n||k("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+n.toString(16)+" "+t.toString(16)),1668509029!==dr[0]&&k("Runtime error: The application has corrupted its heap memory area (address zero)!")}}function M(){return er||xr>0}function D(){if(Cn.preRun)for("function"==typeof Cn.preRun&&(Cn.preRun=[Cn.preRun]);Cn.preRun.length;)P(Cn.preRun.shift());W(yr)}function O(){S(),d(!Er),Er=!0,Cn.noFSInit||zr.init.initialized||zr.init(),zr.ignorePermissions=!1,kr.init(),W(_r)}function R(){if(S(),Cn.postRun)for("function"==typeof Cn.postRun&&(Cn.postRun=[Cn.postRun]);Cn.postRun.length;)I(Cn.postRun.shift());W(wr)}function P(e){yr.unshift(e)}function F(e){_r.unshift(e)}function I(e){wr.unshift(e)}function C(e){for(var t=e;;){if(!Dr[e])return e;e=t+Math.random()}}function A(e){br++,Cn.monitorRunDependencies&&Cn.monitorRunDependencies(br),e?(d(!Dr[e]),Dr[e]=1,null===Sr&&"undefined"!=typeof setInterval&&(Sr=setInterval(function(){if(fr)return clearInterval(Sr),void(Sr=null);var e=!1;for(var t in Dr)e||(e=!0,Yn("still waiting on run dependencies:")),Yn("dependency: "+t);e&&Yn("(end of list)")},1e4))):Yn("warning: run dependency added without ID")}function N(e){if(br--,Cn.monitorRunDependencies&&Cn.monitorRunDependencies(br),e?(d(Dr[e]),delete Dr[e]):Yn("warning: run dependency removed without ID"),0==br&&(null!==Sr&&(clearInterval(Sr),Sr=null),Mr)){var t=Mr;Mr=null,t()}}function k(e){Cn.onAbort&&Cn.onAbort(e),e+="",Yn(e),fr=!0,nr=1;var t="abort("+e+") at "+Q();e=t;var n=new WebAssembly.RuntimeError(e);throw n}function U(e){return e.startsWith(Rr)}function H(e){return e.startsWith("file://")}function j(e,t){return function(){var n=e,r=t;return t||(r=Cn.asm),d(Er,"native function `"+n+"` called before runtime initialization"),d(!Tr,"native function `"+n+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),r[e]||d(r[e],"exported native function `"+n+"` not found"),r[e].apply(null,arguments)}}function z(e){try{if(e==Or&&Kn)return new Uint8Array(Kn);if(Xn)return Xn(e);throw"both async and sync fetching of the wasm failed"}catch(e){k(e)}}function $(){if(!Kn&&(Hn||jn)){if("function"==typeof fetch&&!H(Or))return fetch(Or,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Or+"'";return e.arrayBuffer()}).catch(function(){return z(Or)});if(Wn)return new _n.default(function(e,t){Wn(Or,function(t){e(new Uint8Array(t))},t)})}return _n.default.resolve().then(function(){return z(Or)})}function L(){function e(e,t){var n=e.exports;Cn.asm=n,tr=Cn.asm.memory,d(tr,"memory not found in wasm exports"),x(tr.buffer),vr=Cn.asm.__indirect_function_table,d(vr,"table not found in wasm exports"),F(Cn.asm.__wasm_call_ctors),N("wasm-instantiate")}function t(t){d(Cn===o,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),o=null,e(t.instance)}function n(e){return $().then(function(e){var t=WebAssembly.instantiate(e,i);return t}).then(e,function(e){Yn("failed to asynchronously prepare wasm: "+e),H(Or)&&Yn("warning: Loading from a file URI ("+Or+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),k(e)})}function r(){return Kn||"function"!=typeof WebAssembly.instantiateStreaming||U(Or)||H(Or)||"function"!=typeof fetch?n(t):fetch(Or,{credentials:"same-origin"}).then(function(e){var r=WebAssembly.instantiateStreaming(e,i);return r.then(t,function(e){return Yn("wasm streaming compile failed: "+e),Yn("falling back to ArrayBuffer instantiation"),n(t)})})}var i={env:ui,wasi_snapshot_preview1:ui};A("wasm-instantiate");var o=Cn;if(Cn.instantiateWasm)try{var a=Cn.instantiateWasm(i,e);return a}catch(e){return Yn("Module.instantiateWasm callback failed with error: "+e),!1}return r(),{}}function W(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?vr.get(n)():vr.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(Cn)}}function X(e){if(X.recursionGuard=(0|X.recursionGuard)+1,X.recursionGuard>1)return e;var t=Cn.___cxa_demangle||Cn.__cxa_demangle;d(t);var n=gi();try{var r=e;r.startsWith("__Z")&&(r=r.substr(1));var i=p(r)+1,o=yi(i);f(r,o,i);var a=yi(4),s=t(o,0,0,a);if(0===dr[a>>2]&&s)return u(s)}catch(e){}finally{ci(s),vi(n),X.recursionGuard<2&&--X.recursionGuard}return e}function G(e){var t=/\b_Z[\w\d_]+/g;return e.replace(t,function(e){var t=X(e);return e===t?e:t+" ["+e+"]"})}function B(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Q(){var e=B();return Cn.extraStackTrace&&(e+="\n"+Cn.extraStackTrace()),G(e)}function V(e,t,n,r){k("Assertion failed: "+u(e)+", at: "+[t?u(t):"unknown filename",n,r?u(r):"unknown function"])}function q(e){return fi(e+16)+16}function Y(e,t){}function K(e,t){return Y(e,t)}function J(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){dr[this.ptr+4>>2]=e},this.get_type=function(){return dr[this.ptr+4>>2]},this.set_destructor=function(e){dr[this.ptr+8>>2]=e},this.get_destructor=function(){return dr[this.ptr+8>>2]},this.set_refcount=function(e){dr[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,ir[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=ir[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,ir[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=ir[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=dr[this.ptr>>2];dr[this.ptr>>2]=e+1},this.release_ref=function(){var e=dr[this.ptr>>2];return dr[this.ptr>>2]=e-1,d(e>0),1===e}}function Z(e,t,n){var r=new J(e);throw r.init(t,n),Ir=e,Cr++,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s NO_DISABLE_EXCEPTION_CATCHING or -s EXCEPTION_CATCHING_ALLOWED=[..] to catch."}function ee(e){return dr[hi()>>2]=e,e}function te(){if("object"===("undefined"==typeof crypto?"undefined":(0,In.default)(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(zn)try{var t=n(705);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){k("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}}function ne(e,t){or.fill(0,e,e+t)}function re(e,t){return d(t,"alignment argument is required"),Math.ceil(e/t)*t}function ie(e){k("internal error: mmapAlloc called but `memalign` native symbol not exported")}function oe(e,t,n,r){var i=r?"":C("al "+e);Wn(e,function(n){d(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),i&&N(i)},function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()}),i&&A(i)}function ae(e,t,n){$r.varargs=n;try{var r=$r.getStreamFromFD(e);switch(t){case 0:var i=$r.get();if(i<0)return-28;var o;return o=zr.open(r.path,r.flags,0,i),o.fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var i=$r.get();return r.flags|=i,0;case 12:var i=$r.get(),a=0;return ar[i+a>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ee(28),-1;default:return-28}}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),-e.errno}}function se(e,t,n){$r.varargs=n;try{var r=$r.getStreamFromFD(e);switch(t){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var i=$r.get();return dr[i>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:var i=$r.get();return zr.ioctl(r,t,i);case 21523:return r.tty?0:-59;case 21524:return r.tty?0:-59;default:k("bad ioctl syscall "+t)}}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),-e.errno}}function de(e,t,n){$r.varargs=n;try{var r=$r.getStr(e),i=n?$r.get():0,o=zr.open(r,t,i);return o.fd}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),-e.errno}}function le(e,t,n,r,i){}function ue(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ce(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Lr=e}function fe(e){for(var t="",n=e;or[n];)t+=Lr[or[n++]];return t}function pe(e){if(void 0===e)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=Br&&t<=Qr?"_"+e:e}function he(e,t){return e=pe(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function me(e,t){var n=he(t,function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=(0,pn.default)(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}function ge(e){throw new Vr(e)}function ve(e){throw new qr(e)}function ye(e,t,n){function r(t){var r=n(t);r.length!==e.length&&ve("Mismatched type converter count");for(var i=0;i<e.length;++i)_e(e[i],r[i])}e.forEach(function(e){Gr[e]=t});var i=new Array(t.length),o=[],a=0;t.forEach(function(e,t){Xr.hasOwnProperty(e)?i[t]=Xr[e]:(o.push(e),Wr.hasOwnProperty(e)||(Wr[e]=[]),Wr[e].push(function(){i[t]=Xr[e],++a,a===o.length&&r(i)}))}),0===o.length&&r(i)}function _e(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||ge('type "'+r+'" must have a positive integer typeid pointer'),Xr.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;ge("Cannot register type '"+r+"' twice")}if(Xr[e]=t,delete Gr[e],Wr.hasOwnProperty(e)){var i=Wr[e];delete Wr[e],i.forEach(function(e){e()})}}function we(e,t,n,r,i){var o=ue(n);t=fe(t),_e(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=ir;else if(2===n)r=ar;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=dr}return this.fromWireType(r[e>>o])},destructorFunction:null})}function Ee(e){if(!(this instanceof Ae))return!1;if(!(e instanceof Ae))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;r.baseClass;)i=r.upcast(i),r=r.baseClass;return t===r&&n===i}function Te(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function xe(e){function t(e){return e.$$.ptrType.registeredClass.name}ge(t(e)+" instance already deleted")}function be(e){}function Se(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Me(e){e.count.value-=1;var t=0===e.count.value;t&&Se(e)}function De(e){return"undefined"==typeof FinalizationGroup?(De=function(e){return e},e):(Yr=new FinalizationGroup(function(e){for(var t=e.next();!t.done;t=e.next()){var n=t.value;n.ptr?Me(n):console.warn("object already deleted: "+n.ptr)}}),De=function(e){return Yr.register(e,e.$$,e.$$),e},be=function(e){Yr.unregister(e.$$)},De(e))}function Oe(){if(this.$$.ptr||xe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=De((0,pn.default)((0,cn.default)(this),{$$:{value:Te(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function Re(){this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ge("Object already scheduled for deletion"),be(this),Me(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Pe(){return!this.$$.ptr}function Fe(){for(;Jr.length;){var e=Jr.pop();e.$$.deleteScheduled=!1,e.delete()}}function Ie(){return this.$$.ptr||xe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ge("Object already scheduled for deletion"),Jr.push(this),1===Jr.length&&Kr&&Kr(Fe),this.$$.deleteScheduled=!0,this}function Ce(){Ae.prototype.isAliasOf=Ee,Ae.prototype.clone=Oe,Ae.prototype.delete=Re,Ae.prototype.isDeleted=Pe,Ae.prototype.deleteLater=Ie}function Ae(){}function Ne(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ge("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function ke(e,t,n){Cn.hasOwnProperty(e)?((void 0===n||void 0!==Cn[e].overloadTable&&void 0!==Cn[e].overloadTable[n])&&ge("Cannot register public name '"+e+"' twice"),Ne(Cn,e,e),Cn.hasOwnProperty(n)&&ge("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),Cn[e].overloadTable[n]=t):(Cn[e]=t,void 0!==n&&(Cn[e].numArguments=n))}function Ue(e,t,n,r,i,o,a,s){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function He(e,t,n){for(;t!==n;)t.upcast||ge("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function je(e,t){if(null===t)return this.isReference&&ge("null is not a valid "+this.name),0;t.$$||ge('Cannot pass "'+xt(t)+'" as a '+this.name),t.$$.ptr||ge("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass,r=He(t.$$.ptr,n,this.registeredClass);return r}function ze(e,t){var n;if(null===t)return this.isReference&&ge("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,n),n):0;t.$$||ge('Cannot pass "'+xt(t)+'" as a '+this.name),t.$$.ptr||ge("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&ge("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;if(n=He(t.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:ge("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var i=t.clone();n=this.rawShare(n,Et(function(){i.delete()})),null!==e&&e.push(this.rawDestructor,n)}break;default:ge("Unsupporting sharing policy")}return n}function $e(e,t){if(null===t)return this.isReference&&ge("null is not a valid "+this.name),0;t.$$||ge('Cannot pass "'+xt(t)+'" as a '+this.name),t.$$.ptr||ge("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&ge("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass,r=He(t.$$.ptr,n,this.registeredClass);return r}function Le(e){return this.fromWireType(lr[e>>2])}function We(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Xe(e){this.rawDestructor&&this.rawDestructor(e)}function Ge(e){null!==e&&e.delete()}function Be(e,t,n){if(t===n)return e;if(void 0===n.baseClass)return null;var r=Be(e,t,n.baseClass);return null===r?null:n.downcast(r)}function Qe(){return(0,vn.default)(ei).length}function Ve(){var e=[];for(var t in ei)ei.hasOwnProperty(t)&&e.push(ei[t]);return e}function qe(e){Kr=e,Jr.length&&Kr&&Kr(Fe)}function Ye(){Cn.getInheritedInstanceCount=Qe,Cn.getLiveInheritedInstances=Ve,Cn.flushPendingDeletes=Fe,Cn.setDelayFunction=qe}function Ke(e,t){for(void 0===t&&ge("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Je(e,t){return t=Ke(e,t),ei[t]}function Ze(e,t){t.ptrType&&t.ptr||ve("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,r=!!t.smartPtr;return n!==r&&ve("Both smartPtrType and smartPtr must be specified"),t.count={value:1},De((0,pn.default)(e,{$$:{value:t}}))}function et(e){function t(){return this.isSmartPointer?Ze(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:n,smartPtrType:this,smartPtr:e}):Ze(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var n=this.getPointee(e);if(!n)return this.destructor(e),null;var r=Je(this.registeredClass,n);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=n,r.$$.smartPtr=e,r.clone();var i=r.clone();return this.destructor(e),i}var o=this.registeredClass.getActualType(n),a=Zr[o];if(!a)return t.call(this);var s;s=this.isConst?a.constPointerType:a.pointerType;var d=Be(n,this.registeredClass,s.registeredClass);return null===d?t.call(this):this.isSmartPointer?Ze(s.registeredClass.instancePrototype,{ptrType:s,ptr:d,smartPtrType:this,smartPtr:e}):Ze(s.registeredClass.instancePrototype,{ptrType:s,ptr:d})}function tt(){nt.prototype.getPointee=We,nt.prototype.destructor=Xe,nt.prototype.argPackAdvance=8,nt.prototype.readValueFromPointer=Le,nt.prototype.deleteObject=Ge,nt.prototype.fromWireType=et}function nt(e,t,n,r,i,o,a,s,d,l,u){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=r,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=d,this.rawShare=l,this.rawDestructor=u,i||void 0!==t.baseClass?this.toWireType=ze:r?(this.toWireType=je,this.destructorFunction=null):(this.toWireType=$e,this.destructorFunction=null)}function rt(e,t,n){Cn.hasOwnProperty(e)||ve("Replacing nonexistant public symbol"),void 0!==Cn[e].overloadTable&&void 0!==n?Cn[e].overloadTable[n]=t:(Cn[e]=t,Cn[e].argCount=n)}function it(e,t,n){d("dynCall_"+e in Cn,"bad function pointer type - no table for sig '"+e+"'"),d(n&&n.length?n.length===e.substring(1).replace(/j/g,"--").length:1==e.length);var r=Cn["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}function ot(e,t,n){return e.includes("j")?it(e,t,n):(d(vr.get(t),"missing table entry in dynCall: "+t),vr.get(t).apply(null,n))}function at(e,t){d(e.includes("j"),"getDynCaller should only be called with i64 sigs");var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return ot(e,t,n)}}function st(e,t){function n(){return e.includes("j")?at(e,t):vr.get(t)}e=fe(e);var r=n();return"function"!=typeof r&&ge("unknown function pointer with signature "+e+": "+t),r}function dt(e){var t=pi(e),n=fe(t);return ci(t),n}function lt(e,t){function n(e){if(!i[e]&&!Xr[e]){if(Gr[e])return void Gr[e].forEach(n);r.push(e),i[e]=!0}}var r=[],i={};throw t.forEach(n),new ti(e+": "+r.map(dt).join([", "]))}function ut(e,t,n,r,i,o,a,s,d,l,u,c,f){u=fe(u),o=st(i,o),s&&(s=st(a,s)),l&&(l=st(d,l)),f=st(c,f);var p=pe(u);ke(p,function(){lt("Cannot construct "+u+" due to unbound types",[r])}),ye([e,t,n],r?[r]:[],function(t){t=t[0];var n,i;r?(n=t.registeredClass,i=n.instancePrototype):i=Ae.prototype;var a=he(p,function(){if((0,cn.default)(this)!==d)throw new Vr("Use 'new' to construct "+u);if(void 0===c.constructor_body)throw new Vr(u+" has no accessible constructor");var e=c.constructor_body[arguments.length];if(void 0===e)throw new Vr("Tried to invoke ctor of "+u+" with invalid number of parameters ("+arguments.length+") - expected ("+(0,vn.default)(c.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)}),d=(0,pn.default)(i,{constructor:{value:a}});a.prototype=d;var c=new Ue(u,a,d,f,n,o,s,l),h=new nt(u,c,!0,!1,!1),m=new nt(u+"*",c,!1,!1,!1),g=new nt(u+" const*",c,!1,!0,!1);return Zr[e]={pointerType:m,constPointerType:g},rt(p,a),[h,m,g]})}function ct(e,t){for(var n=[],r=0;r<e;r++)n.push(dr[(t>>2)+r]);return n}function ft(e){for(;e.length;){var t=e.pop(),n=e.pop();n(t)}}function pt(e,t,n,r,i,o){d(t>0);var a=ct(t,n);i=st(r,i);ye([],[e],function(e){e=e[0];var n="constructor "+e.name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Vr("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){lt("Cannot construct "+e.name+" due to unbound types",a)},ye([],a,function(r){return r.splice(1,0,null),e.registeredClass.constructor_body[t-1]=mt(n,r,null,i,o),[]}),[]})}function ht(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+("undefined"==typeof e?"undefined":(0,In.default)(e))+" which is not a function");var n=he(e.name||"unknownFunctionName",function(){});n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function mt(e,t,n,r,i){var o=t.length;o<2&&ge("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==n,s=!1,d=1;d<t.length;++d)if(null!==t[d]&&void 0===t[d].destructorFunction){s=!0;break}for(var l="void"!==t[0].name,u="",c="",d=0;d<o-2;++d)u+=(0!==d?", ":"")+"arg"+d,c+=(0!==d?", ":"")+"arg"+d+"Wired";var f="return function "+pe(e)+"("+u+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(f+="var destructors = [];\n");var p=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[ge,r,i,ft,t[0],t[1]];a&&(f+="var thisWired = classParam.toWireType("+p+", this);\n");for(var d=0;d<o-2;++d)f+="var arg"+d+"Wired = argType"+d+".toWireType("+p+", arg"+d+"); // "+t[d+2].name+"\n",h.push("argType"+d),m.push(t[d+2]);if(a&&(c="thisWired"+(c.length>0?", ":"")+c),f+=(l?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+");\n",s)f+="runDestructors(destructors);\n";else for(var d=a?1:2;d<t.length;++d){var g=1===d?"thisWired":"arg"+(d-2)+"Wired";null!==t[d].destructorFunction&&(f+=g+"_dtor("+g+"); // "+t[d].name+"\n",h.push(g+"_dtor"),m.push(t[d].destructorFunction))}l&&(f+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),f+="}\n",h.push(f);var v=ht(Function,h).apply(null,m);return v}function gt(e,t,n,r,i,o,a,s){var d=ct(n,r);t=fe(t),o=st(i,o),ye([],[e],function(e){function r(){lt("Cannot call "+i+" due to unbound types",d)}e=e[0];var i=e.name+"."+t;t.startsWith("@@")&&(t=ln.default[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,u=l[t];return void 0===u||void 0===u.overloadTable&&u.className!==e.name&&u.argCount===n-2?(r.argCount=n-2,r.className=e.name,l[t]=r):(Ne(l,t,i),l[t].overloadTable[n-2]=r),ye([],d,function(r){var s=mt(i,r,e,o,a);return void 0===l[t].overloadTable?(s.argCount=n-2,l[t]=s):l[t].overloadTable[n-2]=s,[]}),[]})}function vt(e){e>4&&0===--ri[e].refcount&&(ri[e]=void 0,ni.push(e))}function yt(){for(var e=0,t=5;t<ri.length;++t)void 0!==ri[t]&&++e;return e}function _t(){for(var e=5;e<ri.length;++e)if(void 0!==ri[e])return ri[e];return null}function wt(){Cn.count_emval_handles=yt,Cn.get_first_emval=_t}function Et(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ni.length?ni.pop():ri.length;return ri[t]={refcount:1,value:e},t}}function Tt(e,t){t=fe(t),_e(e,{name:t,fromWireType:function(e){var t=ri[e].value;return vt(e),t},toWireType:function(e,t){return Et(t)},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:null})}function xt(e){if(null===e)return"null";var t="undefined"==typeof e?"undefined":(0,In.default)(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function bt(e,t){switch(t){case 2:return function(e){return this.fromWireType(ur[e>>2])};case 3:return function(e){return this.fromWireType(cr[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function St(e,t,n){var r=ue(n);t=fe(t),_e(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+xt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:bt(t,r),destructorFunction:null})}function Mt(e,t,n,r,i,o){var a=ct(t,n);e=fe(e),i=st(r,i),ke(e,function(){lt("Cannot call "+e+" due to unbound types",a)},t-1),ye([],a,function(n){var r=[n[0],null].concat(n.slice(1));return rt(e,mt(e,r,null,i,o),t-1),[]})}function Dt(e,t,n){switch(t){case 0:return n?function(e){return ir[e]}:function(e){return or[e]};case 1:return n?function(e){return ar[e>>1]}:function(e){return sr[e>>1]};case 2:return n?function(e){return dr[e>>2]}:function(e){return lr[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Ot(e,t,n,r,i){t=fe(t),i===-1&&(i=4294967295);var o=ue(n),a=function(e){return e};if(0===r){var s=32-8*n;a=function(e){return e<<s>>>s}}var d=t.includes("unsigned");_e(e,{name:t,fromWireType:a,toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+xt(n)+'" to '+this.name);if(n<r||n>i)throw new TypeError('Passing a number "'+xt(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+i+"]!");return d?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:Dt(t,o,0!==r),destructorFunction:null})}function Rt(e,t,n){function r(e){e>>=2;var t=lr,n=t[e],r=t[e+1];return new o(rr,r,n)}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],o=i[t];n=fe(n),_e(e,{name:n,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{ignoreDuplicateRegistrations:!0})}function Pt(e,t){t=fe(t);var n="std::string"===t;_e(e,{name:t,fromWireType:function(e){var t,r=lr[e>>2];if(n)for(var i=e+4,o=0;o<=r;++o){var a=e+4+o;if(o==r||0==or[a]){var s=a-i,d=u(i,s);void 0===t?t=d:(t+=String.fromCharCode(0),t+=d),i=a+1}}else{for(var l=new Array(r),o=0;o<r;++o)l[o]=String.fromCharCode(or[e+4+o]);t=l.join("")}return ci(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ge("Cannot pass non-string to std::string"),r=n&&i?function(){return p(t)}:function(){return t.length};var o=r(),a=fi(4+o+1);if(lr[a>>2]=o,n&&i)f(t,a+4,o+1);else if(i)for(var s=0;s<o;++s){var d=t.charCodeAt(s);d>255&&(ci(a),ge("String has UTF-16 code units that do not fit in 8 bits")),or[a+4+s]=d}else for(var s=0;s<o;++s)or[a+4+s]=t[s];return null!==e&&e.push(ci,a),a},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:function(e){ci(e)}})}function Ft(e,t,n){n=fe(n);var r,i,o,a,s;2===t?(r=h,i=m,a=g,o=function(){return sr},s=1):4===t&&(r=v,i=y,a=_,o=function(){return lr},s=2),_e(e,{name:n,fromWireType:function(e){for(var n,i=lr[e>>2],a=o(),d=e+4,l=0;l<=i;++l){var u=e+4+l*t;if(l==i||0==a[u>>s]){var c=u-d,f=r(d,c);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),d=u+t}}return ci(e),n},toWireType:function(e,r){"string"!=typeof r&&ge("Cannot pass non-string to C++ string type "+n);var o=a(r),d=fi(4+o+t);return lr[d>>2]=o>>s,i(r,d+4,o+t),null!==e&&e.push(ci,d),d},argPackAdvance:8,readValueFromPointer:Le,destructorFunction:function(e){ci(e)}})}function It(e,t){t=fe(t),_e(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function Ct(e){e>4&&(ri[e].refcount+=1)}function At(e,t){var n=Xr[e];return void 0===n&&ge(t+" has unknown type "+dt(e)),n}function Nt(e,t){e=At(e,"_emval_take_value");var n=e.readValueFromPointer(t);return Et(n)}function kt(){k()}function Ut(){return void 0===Ut.start&&(Ut.start=Date.now()),1e3*(Date.now()-Ut.start)|0}function Ht(e,t,n){or.copyWithin(e,t,t+n)}function jt(e){try{return tr.grow(e-rr.byteLength+65535>>>16),x(tr.buffer),1}catch(t){Yn("emscripten_realloc_buffer: Attempted to grow heap from "+rr.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}function zt(e){var t=or.length;e>>>=0,d(e>t);var n=2147483648;if(e>n)return Yn("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+n+" bytes!"),!1;for(var r=1;r<=4;r*=2){var i=t*(1+.2/r);i=Math.min(i,e+100663296);var o=Math.min(n,T(Math.max(e,i),65536)),a=jt(o);if(a)return!0}return Yn("Failed to grow the heap from "+t+" bytes to "+o+" bytes, not enough memory!"),!1}function $t(){return kn||"./this.program"}function Lt(){if(!Lt.strings){var e=("object"===("undefined"==typeof navigator?"undefined":(0,In.default)(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:$t()};for(var n in ii)void 0===ii[n]?delete t[n]:t[n]=ii[n];var r=[];for(var n in t)r.push(n+"="+t[n]);Lt.strings=r}return Lt.strings}function Wt(e,t){var n=0;return Lt().forEach(function(r,i){var o=t+n;dr[e+4*i>>2]=o,E(r,o),n+=r.length+1}),0}function Xt(e,t){var n=Lt();dr[e>>2]=n.length;var r=0;return n.forEach(function(e){r+=e.length+1}),dr[t>>2]=r,0}function Gt(e){try{var t=$r.getStreamFromFD(e);return zr.close(t),0}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),e.errno}}function Bt(e,t,n,r){try{var i=$r.getStreamFromFD(e),o=$r.doReadv(i,t,n);return dr[r>>2]=o,0}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),e.errno}}function Qt(e,t,n,r,i){try{var o=$r.getStreamFromFD(e),a=4294967296,s=n*a+(t>>>0),d=9007199254740992;return s<=-d||s>=d?-61:(zr.llseek(o,s,r),Fr=[o.position>>>0,(Pr=o.position,+Math.abs(Pr)>=1?Pr>0?(0|Math.min(+Math.floor(Pr/4294967296),4294967295))>>>0:~~+Math.ceil((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],dr[i>>2]=Fr[0],dr[i+4>>2]=Fr[1],o.getdents&&0===s&&0===r&&(o.getdents=null),0)}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),e.errno}}function Vt(e,t,n,r){try{var i=$r.getStreamFromFD(e),o=$r.doWritev(i,t,n);
return dr[r>>2]=o,0}catch(e){return"undefined"!=typeof zr&&e instanceof zr.ErrnoError||k(e),e.errno}}function qt(e){Zn(e)}function Yt(e){return e%4===0&&(e%100!==0||e%400===0)}function Kt(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}function Jt(e,t){for(var n=new Date(e.getTime());t>0;){var r=Yt(n.getFullYear()),i=n.getMonth(),o=(r?oi:ai)[i];if(!(t>o-n.getDate()))return n.setDate(n.getDate()+t),n;t-=o-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Zt(e,t,n,r){function i(e,t,n){for(var r="number"==typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function o(e,t){return i(e,t,"0")}function a(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function d(e){var t=Jt(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=s(n),o=s(r);return a(i,t)<=0?a(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var l=dr[r+40>>2],c={tm_sec:dr[r>>2],tm_min:dr[r+4>>2],tm_hour:dr[r+8>>2],tm_mday:dr[r+12>>2],tm_mon:dr[r+16>>2],tm_year:dr[r+20>>2],tm_wday:dr[r+24>>2],tm_yday:dr[r+28>>2],tm_isdst:dr[r+32>>2],tm_gmtoff:dr[r+36>>2],tm_zone:l?u(l):""},f=u(n),p={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var h in p)f=f.replace(new RegExp(h,"g"),p[h]);var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],v={"%a":function(e){return m[e.tm_wday].substring(0,3)},"%A":function(e){return m[e.tm_wday]},"%b":function(e){return g[e.tm_mon].substring(0,3)},"%B":function(e){return g[e.tm_mon]},"%C":function(e){var t=e.tm_year+1900;return o(t/100|0,2)},"%d":function(e){return o(e.tm_mday,2)},"%e":function(e){return i(e.tm_mday,2," ")},"%g":function(e){return d(e).toString().substring(2)},"%G":function(e){return d(e)},"%H":function(e){return o(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),o(t,2)},"%j":function(e){return o(e.tm_mday+Kt(Yt(e.tm_year+1900)?oi:ai,e.tm_mon-1),3)},"%m":function(e){return o(e.tm_mon+1,2)},"%M":function(e){return o(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return o(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:Jt(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(a(n,r)<0){var i=Kt(Yt(r.getFullYear())?oi:ai,r.getMonth()-1)-31,s=31-n.getDate(),d=s+i+r.getDate();return o(Math.ceil(d/7),2)}return 0===a(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),r=s(t),i=s(n),d=Jt(new Date(e.tm_year+1900,0,1),e.tm_yday);if(a(d,r)<0)return"53";if(a(i,d)<=0)return"01";var l;return l=r.getFullYear()<e.tm_year+1900?e.tm_yday+32-r.getDate():e.tm_yday+1-r.getDate(),o(Math.ceil(l/7),2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:Jt(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(a(n,r)<0){var i=Kt(Yt(r.getFullYear())?oi:ai,r.getMonth()-1)-31,s=31-n.getDate(),d=s+i+r.getDate();return o(Math.ceil(d/7),2)}return 0===a(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=Math.abs(t)/60,t=t/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var h in v)f.includes(h)&&(f=f.replace(new RegExp(h,"g"),v[h](c)));var y=nn(f,!1);return y.length>t?0:(w(y,e),y.length-1)}function en(e,t,n,r){return Zt(e,t,n,r)}function tn(e){var t=Date.now()/1e3|0;return e&&(dr[e>>2]=t),t}function nn(e,t,n){var r=n>0?n:p(e)+1,i=new Array(r),o=c(e,i,0,i.length);return t&&(i.length=o),i}function rn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function on(){_i(),b()}function an(e){function t(){Ei||(Ei=!0,Cn.calledRun=!0,fr||(O(),Cn.onRuntimeInitialized&&Cn.onRuntimeInitialized(),d(!Cn._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),R()))}e=e||Nn,br>0||(on(),D(),br>0||(Cn.setStatus?(Cn.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Cn.setStatus("")},1),t()},1)):t(),S()))}var sn,dn=n(221),ln=o(dn),un=n(416),cn=o(un),fn=n(411),pn=o(fn),hn=n(412),mn=o(hn),gn=n(54),vn=o(gn),yn=n(220),_n=o(yn),wn=n(410),En=o(wn),Tn=n(407),xn=o(Tn),bn=n(408),Sn=o(bn),Mn=n(409),Dn=o(Mn),On=n(421),Rn=(o(On),n(415)),Pn=o(Rn),Fn=n(64),In=o(Fn),Cn="undefined"!=typeof Cn?Cn:{},An={};for(sn in Cn)Cn.hasOwnProperty(sn)&&(An[sn]=Cn[sn]);var Nn=[],kn="./this.program",Un=function(e,t){throw t},Hn="object"===("undefined"==typeof window?"undefined":(0,In.default)(window)),jn="function"==typeof importScripts,zn="object"===("undefined"==typeof e?"undefined":(0,In.default)(e))&&"object"===(0,In.default)(e.versions)&&"string"==typeof e.versions.node,$n=!Hn&&!zn&&!jn;if(Cn.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var Ln,Wn,Xn,Gn,Bn,Qn,Vn="";if(zn){if("object"!==("undefined"==typeof e?"undefined":(0,In.default)(e)))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Vn=jn?n(205).dirname(Vn)+"/":t+"/",Ln=function(e,t){return Bn||(Bn=n(299)),Qn||(Qn=n(205)),e=Qn.normalize(e),Bn.readFileSync(e,t?null:"utf8")},Xn=function(e){var t=Ln(e,!0);return t.buffer||(t=new Uint8Array(t)),d(t.buffer),t},Wn=function(e,t,r){Bn||(Bn=n(299)),Qn||(Qn=n(205)),e=Qn.normalize(e),Bn.readFile(e,function(e,n){e?r(e):t(n.buffer)})},e.argv.length>1&&(kn=e.argv[1].replace(/\\/g,"/")),Nn=e.argv.slice(2),r.exports=Cn,e.on("uncaughtException",function(e){if(!(e instanceof rn))throw e}),e.on("unhandledRejection",k),Un=function(t,n){if(M())throw e.exitCode=t,n;e.exit(t)},Cn.inspect=function(){return"[Emscripten Module object]"}}else if($n){if("object"===("undefined"==typeof e?"undefined":(0,In.default)(e))||"object"===("undefined"==typeof window?"undefined":(0,In.default)(window))||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");"undefined"!=typeof read&&(Ln=function(e){return read(e)}),Xn=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),d("object"===("undefined"==typeof t?"undefined":(0,In.default)(t))),t)},Wn=function(e,t,n){setTimeout(function(){t(Xn(e))},0)},"undefined"!=typeof scriptArgs?Nn=scriptArgs:"undefined"!=typeof arguments&&(Nn=arguments),"function"==typeof quit&&(Un=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)}else{if(!Hn&&!jn)throw new Error("environment detection error");if(jn?Vn=self.location.href:"undefined"!=typeof document&&document.currentScript&&(Vn=document.currentScript.src),Vn=0!==Vn.indexOf("blob:")?Vn.substr(0,Vn.lastIndexOf("/")+1):"","object"!==("undefined"==typeof window?"undefined":(0,In.default)(window))&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");Ln=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},jn&&(Xn=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Wn=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){return 200==r.status||0==r.status&&r.response?void t(r.response):void n()},r.onerror=n,r.send(null)},Gn=function(e){document.title=e}}var qn=Cn.print||console.log.bind(console),Yn=Cn.printErr||console.warn.bind(console);for(sn in An)An.hasOwnProperty(sn)&&(Cn[sn]=An[sn]);An=null,Cn.arguments&&(Nn=Cn.arguments),(0,Pn.default)(Cn,"arguments")||Object.defineProperty(Cn,"arguments",{configurable:!0,get:function(){k("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Cn.thisProgram&&(kn=Cn.thisProgram),(0,Pn.default)(Cn,"thisProgram")||Object.defineProperty(Cn,"thisProgram",{configurable:!0,get:function(){k("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Cn.quit&&(Un=Cn.quit),(0,Pn.default)(Cn,"quit")||Object.defineProperty(Cn,"quit",{configurable:!0,get:function(){k("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),d("undefined"==typeof Cn.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),d("undefined"==typeof Cn.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),d("undefined"==typeof Cn.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),d("undefined"==typeof Cn.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),d("undefined"==typeof Cn.read,"Module.read option was removed (modify read_ in JS)"),d("undefined"==typeof Cn.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),d("undefined"==typeof Cn.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),d("undefined"==typeof Cn.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),d("undefined"==typeof Cn.TOTAL_MEMORY,"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),(0,Pn.default)(Cn,"read")||Object.defineProperty(Cn,"read",{configurable:!0,get:function(){k("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),(0,Pn.default)(Cn,"readAsync")||Object.defineProperty(Cn,"readAsync",{configurable:!0,get:function(){k("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),(0,Pn.default)(Cn,"readBinary")||Object.defineProperty(Cn,"readBinary",{configurable:!0,get:function(){k("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),(0,Pn.default)(Cn,"setWindowTitle")||Object.defineProperty(Cn,"setWindowTitle",{configurable:!0,get:function(){k("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});d(!$n,"shell environment detected but not enabled at build time.  Add 'shell' to `-s ENVIRONMENT` to enable.");var Kn,Jn=0,Zn=function(e){Jn=e};Cn.wasmBinary&&(Kn=Cn.wasmBinary),(0,Pn.default)(Cn,"wasmBinary")||Object.defineProperty(Cn,"wasmBinary",{configurable:!0,get:function(){k("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});var er=Cn.noExitRuntime||!0;(0,Pn.default)(Cn,"noExitRuntime")||Object.defineProperty(Cn,"noExitRuntime",{configurable:!0,get:function(){k("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),"object"!==("undefined"==typeof WebAssembly?"undefined":(0,In.default)(WebAssembly))&&k("no native wasm support detected");var tr,nr,rr,ir,or,ar,sr,dr,lr,ur,cr,fr=!1,pr="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,hr="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,mr=5242880;Cn.TOTAL_STACK&&d(mr===Cn.TOTAL_STACK,"the stack size can no longer be determined at runtime");var gr=Cn.INITIAL_MEMORY||16777216;(0,Pn.default)(Cn,"INITIAL_MEMORY")||Object.defineProperty(Cn,"INITIAL_MEMORY",{configurable:!0,get:function(){k("Module.INITIAL_MEMORY has been replaced with plain INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),d(gr>=mr,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+gr+"! (TOTAL_STACK="+mr+")"),d("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),d(!Cn.wasmMemory,"Use of `wasmMemory` detected.  Use -s IMPORTED_MEMORY to define wasmMemory externally"),d(16777216==gr,"Detected runtime INITIAL_MEMORY setting.  Use -s IMPORTED_MEMORY to define wasmMemory dynamically");var vr;!function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -s SUPPORT_BIG_ENDIAN=1 to bypass)"}();var yr=[],_r=[],wr=[],Er=!1,Tr=!1,xr=0;d(Dn.default,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),d(Sn.default,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),d(xn.default,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),d(En.default,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var br=0,Sr=null,Mr=null,Dr={};Cn.preloadedImages={},Cn.preloadedAudios={};var Or,Rr="data:application/octet-stream;base64,";Or="libtest_lib.wasm",U(Or)||(Or=a(Or));var Pr,Fr;Cn.callRuntimeCallbacks=W,Cn.demangle=X,Cn.demangleAll=G,Cn.jsStackTrace=B,Cn.stackTrace=Q,Cn.___assert_fail=V,Cn.___cxa_allocate_exception=q,Cn._atexit=Y,Cn.___cxa_atexit=K,Cn.ExceptionInfo=J;var Ir=0;Cn.exceptionLast=Ir;var Cr=0;Cn.uncaughtExceptionCount=Cr,Cn.___cxa_throw=Z,Cn.setErrNo=ee;var Ar={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=Ar.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ar.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";e=Ar.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},extname:function(e){return Ar.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ar.normalize(e.join("/"))},join2:function(e,t){return Ar.normalize(e+"/"+t)}};Cn.PATH=Ar,Cn.getRandomDevice=te;var Nr={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:zr.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=Ar.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Nr.resolve(e).substr(1),t=Nr.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}for(var d=[],s=a;s<r.length;s++)d.push("..");return d=d.concat(i.slice(a)),d.join("/")}};Cn.PATH_FS=Nr;var kr={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){kr.ttys[e]={input:[],output:[],ops:t},zr.registerDevice(e,kr.stream_ops)},stream_ops:{open:function(e){var t=kr.ttys[e.node.rdev];if(!t)throw new zr.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new zr.ErrnoError(60);for(var o=0,a=0;a<r;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new zr.ErrnoError(29)}if(void 0===s&&0===o)throw new zr.ErrnoError(6);if(null===s||void 0===s)break;o++,t[n+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new zr.ErrnoError(60);try{for(var o=0;o<r;o++)e.tty.ops.put_char(e.tty,t[n+o])}catch(e){throw new zr.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(t){if(!t.input.length){var n=null;if(zn){var r=256,o=i.alloc(r),a=0;try{a=Bn.readSync(e.stdin.fd,o,0,r,null)}catch(e){if(!e.toString().includes("EOF"))throw e;a=0}n=a>0?o.slice(0,a).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(n=window.prompt("Input: "),null!==n&&(n+="\n")):"function"==typeof readline&&(n=readline(),null!==n&&(n+="\n"));if(!n)return null;t.input=nn(n,!0)}return t.input.shift()},put_char:function(e,t){null===t||10===t?(qn(l(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(qn(l(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Yn(l(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(Yn(l(e.output,0)),e.output=[])}}};Cn.TTY=kr,Cn.zeroMemory=ne,Cn.alignMemory=re,Cn.mmapAlloc=ie;var Ur={ops_table:null,mount:function(e){return Ur.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(zr.isBlkdev(n)||zr.isFIFO(n))throw new zr.ErrnoError(63);Ur.ops_table||(Ur.ops_table={dir:{node:{getattr:Ur.node_ops.getattr,setattr:Ur.node_ops.setattr,lookup:Ur.node_ops.lookup,mknod:Ur.node_ops.mknod,rename:Ur.node_ops.rename,unlink:Ur.node_ops.unlink,rmdir:Ur.node_ops.rmdir,readdir:Ur.node_ops.readdir,symlink:Ur.node_ops.symlink},stream:{llseek:Ur.stream_ops.llseek}},file:{node:{getattr:Ur.node_ops.getattr,setattr:Ur.node_ops.setattr},stream:{llseek:Ur.stream_ops.llseek,read:Ur.stream_ops.read,write:Ur.stream_ops.write,allocate:Ur.stream_ops.allocate,mmap:Ur.stream_ops.mmap,msync:Ur.stream_ops.msync}},link:{node:{getattr:Ur.node_ops.getattr,setattr:Ur.node_ops.setattr,readlink:Ur.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ur.node_ops.getattr,setattr:Ur.node_ops.setattr},stream:zr.chrdev_stream_ops}});var i=zr.createNode(e,t,n,r);return zr.isDir(i.mode)?(i.node_ops=Ur.ops_table.dir.node,i.stream_ops=Ur.ops_table.dir.stream,i.contents={}):zr.isFile(i.mode)?(i.node_ops=Ur.ops_table.file.node,i.stream_ops=Ur.ops_table.file.stream,i.usedBytes=0,i.contents=null):zr.isLink(i.mode)?(i.node_ops=Ur.ops_table.link.node,i.stream_ops=Ur.ops_table.link.stream):zr.isChrdev(i.mode)&&(i.node_ops=Ur.ops_table.chrdev.node,i.stream_ops=Ur.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){var r=1048576;t=Math.max(t,n*(n<r?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var i=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=zr.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,zr.isDir(e.mode)?t.size=4096:zr.isFile(e.mode)?t.size=e.usedBytes:zr.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ur.resizeFileStorage(e,t.size)},lookup:function(e,t){throw zr.genericErrors[44]},mknod:function(e,t,n,r){return Ur.createNode(e,t,n,r)},rename:function(e,t,n){if(zr.isDir(e.mode)){var r;try{r=zr.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new zr.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=zr.lookupNode(e,t);for(var r in n.contents)throw new zr.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=Ur.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!zr.isLink(e.mode))throw new zr.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,r);if(d(a>=0),a>8&&o.subarray)t.set(o.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=o[i+s];return a},write:function(e,t,n,r,i,o){if(d(!(t instanceof ArrayBuffer)),t.buffer===ir.buffer&&(o=!1),!r)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(o)return d(0===i,"canOwn must imply no weird position inside the file"),a.contents=t.subarray(n,n+r),a.usedBytes=r,r;if(0===a.usedBytes&&0===i)return a.contents=t.slice(n,n+r),a.usedBytes=r,r;if(i+r<=a.usedBytes)return a.contents.set(t.subarray(n,n+r),i),r}if(Ur.expandFileStorage(a,i+r),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)a.contents[i+s]=t[n+s];return a.usedBytes=Math.max(a.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&zr.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new zr.ErrnoError(28);return r},allocate:function(e,t,n){Ur.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,o){if(0!==t)throw new zr.ErrnoError(28);if(!zr.isFile(e.node.mode))throw new zr.ErrnoError(43);var a,s,d=e.node.contents;if(2&o||d.buffer!==rr){if((r>0||r+n<d.length)&&(d=d.subarray?d.subarray(r,r+n):Array.prototype.slice.call(d,r,r+n)),s=!0,a=ie(n),!a)throw new zr.ErrnoError(48);ir.set(d,a)}else s=!1,a=d.byteOffset;return{ptr:a,allocated:s}},msync:function(e,t,n,r,i){if(!zr.isFile(e.node.mode))throw new zr.ErrnoError(43);if(2&i)return 0;Ur.stream_ops.write(e,t,0,r,n,!1);return 0}}};Cn.MEMFS=Ur,Cn.asyncLoad=oe;var Hr={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"};Cn.ERRNO_MESSAGES=Hr;var jr={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};Cn.ERRNO_CODES=jr;var zr={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(e=Nr.resolve(zr.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new zr.ErrnoError(32);for(var i=Ar.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=zr.root,a="/",s=0;s<i.length;s++){var d=s===i.length-1;if(d&&t.parent)break;if(o=zr.lookupNode(o,i[s]),a=Ar.join2(a,i[s]),zr.isMountpoint(o)&&(!d||d&&t.follow_mount)&&(o=o.mounted.root),!d||t.follow)for(var l=0;zr.isLink(o.mode);){var u=zr.readlink(a);a=Nr.resolve(Ar.dirname(a),u);var c=zr.lookupPath(a,{recurse_count:t.recurse_count});if(o=c.node,l++>40)throw new zr.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(zr.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%zr.nameTable.length},hashAddNode:function(e){var t=zr.hashName(e.parent.id,e.name);e.name_next=zr.nameTable[t],zr.nameTable[t]=e},hashRemoveNode:function(e){var t=zr.hashName(e.parent.id,e.name);if(zr.nameTable[t]===e)zr.nameTable[t]=e.name_next;else for(var n=zr.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=zr.mayLookup(e);if(n)throw new zr.ErrnoError(n,e);for(var r=zr.hashName(e.id,t),i=zr.nameTable[r];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return zr.lookup(e,t)},createNode:function(e,t,n,r){d("object"===("undefined"==typeof e?"undefined":(0,In.default)(e)));var i=new zr.FSNode(e,t,n,r);return zr.hashAddNode(i),i},destroyNode:function(e){zr.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=zr.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return zr.ignorePermissions?0:(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2;
},mayLookup:function(e){var t=zr.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:2},mayCreate:function(e,t){try{zr.lookupNode(e,t);return 20}catch(e){}return zr.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=zr.lookupNode(e,t)}catch(e){return e.errno}var i=zr.nodePermissions(e,"wx");if(i)return i;if(n){if(!zr.isDir(r.mode))return 54;if(zr.isRoot(r)||zr.getPath(r)===zr.cwd())return 10}else if(zr.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?zr.isLink(e.mode)?32:zr.isDir(e.mode)&&("r"!==zr.flagsToPermissionString(t)||512&t)?31:zr.nodePermissions(e,zr.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||zr.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!zr.streams[n])return n;throw new zr.ErrnoError(33)},getStream:function(e){return zr.streams[e]},createStream:function(e,t,n){zr.FSStream||(zr.FSStream=function(){},zr.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new zr.FSStream;for(var i in e)r[i]=e[i];e=r;var o=zr.nextfd(t,n);return e.fd=o,zr.streams[o]=e,e},closeStream:function(e){zr.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=zr.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new zr.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){zr.devices[e]={stream_ops:t}},getDevice:function(e){return zr.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function n(e){return d(zr.syncFSRequests>0),zr.syncFSRequests--,t(e)}function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else++o>=i.length&&n(null)}"function"==typeof e&&(t=e,e=!1),zr.syncFSRequests++,zr.syncFSRequests>1&&Yn("warning: "+zr.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=zr.getMounts(zr.root.mount),o=0;i.forEach(function(t){return t.type.syncfs?void t.type.syncfs(t,e,r):r(null)})},mount:function e(t,n,r){if("string"==typeof t)throw t;var i,o="/"===r,a=!r;if(o&&zr.root)throw new zr.ErrnoError(10);if(!o&&!a){var s=zr.lookupPath(r,{follow_mount:!1});if(r=s.path,i=s.node,zr.isMountpoint(i))throw new zr.ErrnoError(10);if(!zr.isDir(i.mode))throw new zr.ErrnoError(54)}var e={type:t,opts:n,mountpoint:r,mounts:[]},d=t.mount(e);return d.mount=e,e.root=d,o?zr.root=d:i&&(i.mounted=e,i.mount&&i.mount.mounts.push(e)),d},unmount:function(e){var t=zr.lookupPath(e,{follow_mount:!1});if(!zr.isMountpoint(t.node))throw new zr.ErrnoError(28);var n=t.node,r=n.mounted,i=zr.getMounts(r);(0,vn.default)(zr.nameTable).forEach(function(e){for(var t=zr.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&zr.destroyNode(t),t=n}}),n.mounted=null;var o=n.mount.mounts.indexOf(r);d(o!==-1),n.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=zr.lookupPath(e,{parent:!0}),i=r.node,o=Ar.basename(e);if(!o||"."===o||".."===o)throw new zr.ErrnoError(28);var a=zr.mayCreate(i,o);if(a)throw new zr.ErrnoError(a);if(!i.node_ops.mknod)throw new zr.ErrnoError(63);return i.node_ops.mknod(i,o,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,zr.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,zr.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{zr.mkdir(r,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,n){return"undefined"==typeof n&&(n=t,t=438),t|=8192,zr.mknod(e,t,n)},symlink:function(e,t){if(!Nr.resolve(e))throw new zr.ErrnoError(44);var n=zr.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new zr.ErrnoError(44);var i=Ar.basename(t),o=zr.mayCreate(r,i);if(o)throw new zr.ErrnoError(o);if(!r.node_ops.symlink)throw new zr.ErrnoError(63);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,o=Ar.dirname(e),a=Ar.dirname(t),s=Ar.basename(e),d=Ar.basename(t);if(n=zr.lookupPath(e,{parent:!0}),r=n.node,n=zr.lookupPath(t,{parent:!0}),i=n.node,!r||!i)throw new zr.ErrnoError(44);if(r.mount!==i.mount)throw new zr.ErrnoError(75);var l=zr.lookupNode(r,s),u=Nr.relative(e,a);if("."!==u.charAt(0))throw new zr.ErrnoError(28);if(u=Nr.relative(t,o),"."!==u.charAt(0))throw new zr.ErrnoError(55);var c;try{c=zr.lookupNode(i,d)}catch(e){}if(l!==c){var f=zr.isDir(l.mode),p=zr.mayDelete(r,s,f);if(p)throw new zr.ErrnoError(p);if(p=c?zr.mayDelete(i,d,f):zr.mayCreate(i,d))throw new zr.ErrnoError(p);if(!r.node_ops.rename)throw new zr.ErrnoError(63);if(zr.isMountpoint(l)||c&&zr.isMountpoint(c))throw new zr.ErrnoError(10);if(i!==r&&(p=zr.nodePermissions(r,"w")))throw new zr.ErrnoError(p);try{zr.trackingDelegate.willMovePath&&zr.trackingDelegate.willMovePath(e,t)}catch(n){Yn("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}zr.hashRemoveNode(l);try{r.node_ops.rename(l,i,d)}catch(e){throw e}finally{zr.hashAddNode(l)}try{zr.trackingDelegate.onMovePath&&zr.trackingDelegate.onMovePath(e,t)}catch(n){Yn("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=zr.lookupPath(e,{parent:!0}),n=t.node,r=Ar.basename(e),i=zr.lookupNode(n,r),o=zr.mayDelete(n,r,!0);if(o)throw new zr.ErrnoError(o);if(!n.node_ops.rmdir)throw new zr.ErrnoError(63);if(zr.isMountpoint(i))throw new zr.ErrnoError(10);try{zr.trackingDelegate.willDeletePath&&zr.trackingDelegate.willDeletePath(e)}catch(t){Yn("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),zr.destroyNode(i);try{zr.trackingDelegate.onDeletePath&&zr.trackingDelegate.onDeletePath(e)}catch(t){Yn("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=zr.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new zr.ErrnoError(54);return n.node_ops.readdir(n)},unlink:function(e){var t=zr.lookupPath(e,{parent:!0}),n=t.node,r=Ar.basename(e),i=zr.lookupNode(n,r),o=zr.mayDelete(n,r,!1);if(o)throw new zr.ErrnoError(o);if(!n.node_ops.unlink)throw new zr.ErrnoError(63);if(zr.isMountpoint(i))throw new zr.ErrnoError(10);try{zr.trackingDelegate.willDeletePath&&zr.trackingDelegate.willDeletePath(e)}catch(t){Yn("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),zr.destroyNode(i);try{zr.trackingDelegate.onDeletePath&&zr.trackingDelegate.onDeletePath(e)}catch(t){Yn("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=zr.lookupPath(e),n=t.node;if(!n)throw new zr.ErrnoError(44);if(!n.node_ops.readlink)throw new zr.ErrnoError(28);return Nr.resolve(zr.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=zr.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new zr.ErrnoError(44);if(!r.node_ops.getattr)throw new zr.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return zr.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){var i=zr.lookupPath(e,{follow:!n});r=i.node}else r=e;if(!r.node_ops.setattr)throw new zr.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|r.mode&-4096,timestamp:Date.now()})},lchmod:function(e,t){zr.chmod(e,t,!0)},fchmod:function(e,t){var n=zr.getStream(e);if(!n)throw new zr.ErrnoError(8);zr.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){var o=zr.lookupPath(e,{follow:!r});i=o.node}else i=e;if(!i.node_ops.setattr)throw new zr.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){zr.chown(e,t,n,!0)},fchown:function(e,t,n){var r=zr.getStream(e);if(!r)throw new zr.ErrnoError(8);zr.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new zr.ErrnoError(28);var n;if("string"==typeof e){var r=zr.lookupPath(e,{follow:!0});n=r.node}else n=e;if(!n.node_ops.setattr)throw new zr.ErrnoError(63);if(zr.isDir(n.mode))throw new zr.ErrnoError(31);if(!zr.isFile(n.mode))throw new zr.ErrnoError(28);var i=zr.nodePermissions(n,"w");if(i)throw new zr.ErrnoError(i);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=zr.getStream(e);if(!n)throw new zr.ErrnoError(8);if(0===(2097155&n.flags))throw new zr.ErrnoError(28);zr.truncate(n.node,t)},utime:function(e,t,n){var r=zr.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new zr.ErrnoError(44);t="string"==typeof t?zr.modeStringToFlags(t):t,n="undefined"==typeof n?438:n,n=64&t?4095&n|32768:0;var o;if("object"===("undefined"==typeof e?"undefined":(0,In.default)(e)))o=e;else{e=Ar.normalize(e);try{var a=zr.lookupPath(e,{follow:!(131072&t)});o=a.node}catch(e){}}var s=!1;if(64&t)if(o){if(128&t)throw new zr.ErrnoError(20)}else o=zr.mknod(e,n,0),s=!0;if(!o)throw new zr.ErrnoError(44);if(zr.isChrdev(o.mode)&&(t&=-513),65536&t&&!zr.isDir(o.mode))throw new zr.ErrnoError(54);if(!s){var d=zr.mayOpen(o,t);if(d)throw new zr.ErrnoError(d)}512&t&&zr.truncate(o,0),t&=-131713;var l=zr.createStream({node:o,path:zr.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Cn.logReadFiles||1&t||(zr.readFiles||(zr.readFiles={}),e in zr.readFiles||(zr.readFiles[e]=1,Yn("FS.trackingDelegate error on read file: "+e)));try{if(zr.trackingDelegate.onOpenFile){var u=0;1!==(2097155&t)&&(u|=zr.tracking.openFlags.READ),0!==(2097155&t)&&(u|=zr.tracking.openFlags.WRITE),zr.trackingDelegate.onOpenFile(e,u)}}catch(t){Yn("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(zr.isClosed(e))throw new zr.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{zr.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(zr.isClosed(e))throw new zr.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new zr.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new zr.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new zr.ErrnoError(28);if(zr.isClosed(e))throw new zr.ErrnoError(8);if(1===(2097155&e.flags))throw new zr.ErrnoError(8);if(zr.isDir(e.node.mode))throw new zr.ErrnoError(31);if(!e.stream_ops.read)throw new zr.ErrnoError(28);var o="undefined"!=typeof i;if(o){if(!e.seekable)throw new zr.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,n,r,i);return o||(e.position+=a),a},write:function(e,t,n,r,i,o){if(r<0||i<0)throw new zr.ErrnoError(28);if(zr.isClosed(e))throw new zr.ErrnoError(8);if(0===(2097155&e.flags))throw new zr.ErrnoError(8);if(zr.isDir(e.node.mode))throw new zr.ErrnoError(31);if(!e.stream_ops.write)throw new zr.ErrnoError(28);e.seekable&&1024&e.flags&&zr.llseek(e,0,2);var a="undefined"!=typeof i;if(a){if(!e.seekable)throw new zr.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,o);a||(e.position+=s);try{e.path&&zr.trackingDelegate.onWriteToFile&&zr.trackingDelegate.onWriteToFile(e.path)}catch(t){Yn("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return s},allocate:function(e,t,n){if(zr.isClosed(e))throw new zr.ErrnoError(8);if(t<0||n<=0)throw new zr.ErrnoError(28);if(0===(2097155&e.flags))throw new zr.ErrnoError(8);if(!zr.isFile(e.node.mode)&&!zr.isDir(e.node.mode))throw new zr.ErrnoError(43);if(!e.stream_ops.allocate)throw new zr.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,o){if(0!==(2&i)&&0===(2&o)&&2!==(2097155&e.flags))throw new zr.ErrnoError(2);if(1===(2097155&e.flags))throw new zr.ErrnoError(2);if(!e.stream_ops.mmap)throw new zr.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new zr.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=zr.open(e,t.flags),i=zr.stat(e),o=i.size,a=new Uint8Array(o);return zr.read(r,a,0,o,0),"utf8"===t.encoding?n=l(a,0):"binary"===t.encoding&&(n=a),zr.close(r),n},writeFile:function(e,t,n){n=n||{},n.flags=n.flags||577;var r=zr.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(p(t)+1),o=c(t,i,0,i.length);zr.write(r,i,0,o,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");zr.write(r,t,0,t.byteLength,void 0,n.canOwn)}zr.close(r)},cwd:function(){return zr.currentPath},chdir:function(e){var t=zr.lookupPath(e,{follow:!0});if(null===t.node)throw new zr.ErrnoError(44);if(!zr.isDir(t.node.mode))throw new zr.ErrnoError(54);var n=zr.nodePermissions(t.node,"x");if(n)throw new zr.ErrnoError(n);zr.currentPath=t.path},createDefaultDirectories:function(){zr.mkdir("/tmp"),zr.mkdir("/home"),zr.mkdir("/home/web_user")},createDefaultDevices:function(){zr.mkdir("/dev"),zr.registerDevice(zr.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),zr.mkdev("/dev/null",zr.makedev(1,3)),kr.register(zr.makedev(5,0),kr.default_tty_ops),kr.register(zr.makedev(6,0),kr.default_tty1_ops),zr.mkdev("/dev/tty",zr.makedev(5,0)),zr.mkdev("/dev/tty1",zr.makedev(6,0));var e=te();zr.createDevice("/dev","random",e),zr.createDevice("/dev","urandom",e),zr.mkdir("/dev/shm"),zr.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){zr.mkdir("/proc");var e=zr.mkdir("/proc/self");zr.mkdir("/proc/self/fd"),zr.mount({mount:function(){var t=zr.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=zr.getStream(n);if(!r)throw new zr.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){Cn.stdin?zr.createDevice("/dev","stdin",Cn.stdin):zr.symlink("/dev/tty","/dev/stdin"),Cn.stdout?zr.createDevice("/dev","stdout",null,Cn.stdout):zr.symlink("/dev/tty","/dev/stdout"),Cn.stderr?zr.createDevice("/dev","stderr",null,Cn.stderr):zr.symlink("/dev/tty1","/dev/stderr");var e=zr.open("/dev/stdin",0),t=zr.open("/dev/stdout",1),n=zr.open("/dev/stderr",1);d(0===e.fd,"invalid handle for stdin ("+e.fd+")"),d(1===t.fd,"invalid handle for stdout ("+t.fd+")"),d(2===n.fd,"invalid handle for stderr ("+n.fd+")")},ensureErrnoError:function(){zr.ErrnoError||(zr.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in jr)if(jr[t]===e){this.code=t;break}},this.setErrno(e),this.message=Hr[e],this.stack&&(Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0}),this.stack=G(this.stack))},zr.ErrnoError.prototype=new Error,zr.ErrnoError.prototype.constructor=zr.ErrnoError,[44].forEach(function(e){zr.genericErrors[e]=new zr.ErrnoError(e),zr.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){zr.ensureErrnoError(),zr.nameTable=new Array(4096),zr.mount(Ur,{},"/"),zr.createDefaultDirectories(),zr.createDefaultDevices(),zr.createSpecialDirectories(),zr.filesystems={MEMFS:Ur}},init:function(e,t,n){d(!zr.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),zr.init.initialized=!0,zr.ensureErrnoError(),Cn.stdin=e||Cn.stdin,Cn.stdout=t||Cn.stdout,Cn.stderr=n||Cn.stderr,zr.createStandardStreams()},quit:function(){zr.init.initialized=!1;var e=Cn._fflush;e&&e(0);for(var t=0;t<zr.streams.length;t++){var n=zr.streams[t];n&&zr.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=zr.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{var n=zr.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=zr.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=Ar.basename(e),n=zr.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,n,r){e="string"==typeof e?e:zr.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=Ar.join2(e,o);try{zr.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,n,r,i){var o=Ar.join2("string"==typeof e?e:zr.getPath(e),t),a=zr.getMode(r,i);return zr.create(o,a)},createDataFile:function(e,t,n,r,i,o){var a=t?Ar.join2("string"==typeof e?e:zr.getPath(e),t):e,s=zr.getMode(r,i),d=zr.create(a,s);if(n){if("string"==typeof n){for(var l=new Array(n.length),u=0,c=n.length;u<c;++u)l[u]=n.charCodeAt(u);n=l}zr.chmod(d,146|s);var f=zr.open(d,577);zr.write(f,n,0,n.length,0,o),zr.close(f),zr.chmod(d,s)}return d},createDevice:function(e,t,n,r){var i=Ar.join2("string"==typeof e?e:zr.getPath(e),t),o=zr.getMode(!!n,!!r);zr.createDevice.major||(zr.createDevice.major=64);var a=zr.makedev(zr.createDevice.major++,0);return zr.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,o){for(var a=0,s=0;s<i;s++){var d;try{d=n()}catch(e){throw new zr.ErrnoError(29)}if(void 0===d&&0===a)throw new zr.ErrnoError(6);if(null===d||void 0===d)break;a++,t[r+s]=d}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,i,o){for(var a=0;a<i;a++)try{r(t[n+a])}catch(e){throw new zr.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),zr.mkdev(i,o,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Ln)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=nn(Ln(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new zr.ErrnoError(29)}},createLazyFile:function(e,t,n,r,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=r);var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):nn(i.responseText||"",!0)},d=this;d.setDataGetter(function(e){var t=e*a,n=(e+1)*a-1;if(n=Math.min(n,r-1),"undefined"==typeof d.chunks[e]&&(d.chunks[e]=s(t,n)),"undefined"==typeof d.chunks[e])throw new Error("doXHR failed!");return d.chunks[e]}),!o&&r||(a=r=1,r=this.getter(0).length,a=r,qn("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!jn)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;(0,mn.default)(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else var s={isDevice:!1,url:n};var l=zr.createFile(e,t,s,r,i);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),(0,mn.default)(l,{usedBytes:{get:function(){return this.contents.length}}});var u={},c=(0,vn.default)(l.stream_ops);return c.forEach(function(e){var t=l.stream_ops[e];u[e]=function(){return zr.forceLoadFile(l),t.apply(null,arguments)}}),u.read=function(e,t,n,r,i){zr.forceLoadFile(l);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,r);if(d(a>=0),o.slice)for(var s=0;s<a;s++)t[n+s]=o[i+s];else for(var s=0;s<a;s++)t[n+s]=o.get(i+s);return a},l.stream_ops=u,l},createPreloadedFile:function(e,t,n,r,i,o,a,s,d,l){function u(n){function u(n){l&&l(),s||zr.createDataFile(e,t,n,r,i,d),o&&o(),N(f)}var p=!1;Cn.preloadPlugins.forEach(function(e){p||e.canHandle(c)&&(e.handle(n,c,u,function(){a&&a(),N(f)}),p=!0)}),p||u(n)}Browser.init();var c=t?Nr.resolve(Ar.join2(e,t)):e,f=C("cp "+c);A(f),"string"==typeof n?oe(n,function(e){u(e)},a):u(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=zr.indexedDB();try{var i=r.open(zr.DB_NAME(),zr.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){qn("creating db");var e=i.result;e.createObjectStore(zr.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==l?t():n()}var o=i.result,a=o.transaction([zr.DB_STORE_NAME],"readwrite"),s=a.objectStore(zr.DB_STORE_NAME),d=0,l=0,u=e.length;e.forEach(function(e){var t=s.put(zr.analyzePath(e).object.contents,e);t.onsuccess=function(){d++,d+l==u&&r()},t.onerror=function(){l++,d+l==u&&r()}}),a.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=zr.indexedDB();try{var i=r.open(zr.DB_NAME(),zr.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==l?t():n()}var o=i.result;try{var a=o.transaction([zr.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=a.objectStore(zr.DB_STORE_NAME),d=0,l=0,u=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){zr.analyzePath(e).exists&&zr.unlink(e),zr.createDataFile(Ar.dirname(e),Ar.basename(e),t.result,!0,!0,!0),d++,d+l==u&&r()},t.onerror=function(){l++,d+l==u&&r()}}),a.onerror=n},i.onerror=n},absolutePath:function(){k("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder:function(){k("FS.createFolder has been removed; use FS.mkdir instead")},createLink:function(){k("FS.createLink has been removed; use FS.symlink instead")},joinPath:function(){k("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc:function(){k("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath:function(){k("FS.standardizePath has been removed; use PATH.normalize instead")}};Cn.FS=zr;var $r={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t,n){if("/"===t[0])return t;var r;if(e===-100)r=zr.cwd();else{var i=zr.getStream(e);if(!i)throw new zr.ErrnoError(8);r=i.path}if(0==t.length){if(!n)throw new zr.ErrnoError(44);return r}return Ar.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&Ar.normalize(t)!==Ar.normalize(zr.getPath(e.node)))return-54;throw e}return dr[n>>2]=r.dev,dr[n+4>>2]=0,dr[n+8>>2]=r.ino,dr[n+12>>2]=r.mode,dr[n+16>>2]=r.nlink,dr[n+20>>2]=r.uid,dr[n+24>>2]=r.gid,dr[n+28>>2]=r.rdev,dr[n+32>>2]=0,Fr=[r.size>>>0,(Pr=r.size,+Math.abs(Pr)>=1?Pr>0?(0|Math.min(+Math.floor(Pr/4294967296),4294967295))>>>0:~~+Math.ceil((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],dr[n+40>>2]=Fr[0],dr[n+44>>2]=Fr[1],dr[n+48>>2]=4096,dr[n+52>>2]=r.blocks,dr[n+56>>2]=r.atime.getTime()/1e3|0,dr[n+60>>2]=0,dr[n+64>>2]=r.mtime.getTime()/1e3|0,dr[n+68>>2]=0,dr[n+72>>2]=r.ctime.getTime()/1e3|0,dr[n+76>>2]=0,Fr=[r.ino>>>0,(Pr=r.ino,+Math.abs(Pr)>=1?Pr>0?(0|Math.min(+Math.floor(Pr/4294967296),4294967295))>>>0:~~+Math.ceil((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],dr[n+80>>2]=Fr[0],dr[n+84>>2]=Fr[1],0},doMsync:function(e,t,n,r,i){var o=or.slice(e,e+n);zr.msync(t,o,i,n,r)},doMkdir:function(e,t){return e=Ar.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),zr.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return zr.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var r=zr.readlink(e),i=Math.min(n,p(r)),o=ir[t+i];return f(r,t,n+1),ir[t+i]=o,i},doAccess:function(e,t){if(t&-8)return-28;var n,r=zr.lookupPath(e,{follow:!0});if(n=r.node,!n)return-44;var i="";return 4&t&&(i+="r"),2&t&&(i+="w"),1&t&&(i+="x"),i&&zr.nodePermissions(n,i)?-2:0},doDup:function(e,t,n){var r=zr.getStream(n);return r&&zr.close(r),zr.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=dr[t+8*o>>2],s=dr[t+(8*o+4)>>2],d=zr.read(e,ir,a,s,r);if(d<0)return-1;if(i+=d,d<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=dr[t+8*o>>2],s=dr[t+(8*o+4)>>2],d=zr.write(e,ir,a,s,r);if(d<0)return-1;i+=d}return i},varargs:void 0,get:function(){d(void 0!=$r.varargs),$r.varargs+=4;var e=dr[$r.varargs-4>>2];return e},getStr:function(e){var t=u(e);return t},getStreamFromFD:function(e){var t=zr.getStream(e);if(!t)throw new zr.ErrnoError(8);return t},get64:function(e,t){return d(e>=0?0===t:t===-1),e}};Cn.SYSCALLS=$r,Cn.___sys_fcntl64=ae,Cn.___sys_ioctl=se,Cn.___sys_open=de,Cn.__embind_register_bigint=le,Cn.getShiftFromSize=ue,Cn.embind_init_charCodes=ce;var Lr=void 0;Cn.embind_charCodes=Lr,Cn.readLatin1String=fe;var Wr={};Cn.awaitingDependencies=Wr;var Xr={};Cn.registeredTypes=Xr;var Gr={};Cn.typeDependencies=Gr;var Br=48;Cn.char_0=Br;var Qr=57;Cn.char_9=Qr,Cn.makeLegalFunctionName=pe,Cn.createNamedFunction=he,Cn.extendError=me;var Vr=void 0;Cn.BindingError=Vr,Cn.throwBindingError=ge;var qr=void 0;Cn.InternalError=qr,Cn.throwInternalError=ve,Cn.whenDependentTypesAreResolved=ye,Cn.registerType=_e,Cn.__embind_register_bool=we,Cn.ClassHandle_isAliasOf=Ee,Cn.shallowCopyInternalPointer=Te,Cn.throwInstanceAlreadyDeleted=xe;var Yr=!1;Cn.finalizationGroup=Yr,Cn.detachFinalizer=be,Cn.runDestructor=Se,Cn.releaseClassHandle=Me,Cn.attachFinalizer=De,Cn.ClassHandle_clone=Oe,Cn.ClassHandle_delete=Re,Cn.ClassHandle_isDeleted=Pe;var Kr=void 0;Cn.delayFunction=Kr;var Jr=[];Cn.deletionQueue=Jr,Cn.flushPendingDeletes=Fe,Cn.ClassHandle_deleteLater=Ie,Cn.init_ClassHandle=Ce,Cn.ClassHandle=Ae;var Zr={};Cn.registeredPointers=Zr,Cn.ensureOverloadTable=Ne,Cn.exposePublicSymbol=ke,Cn.RegisteredClass=Ue,Cn.upcastPointer=He,Cn.constNoSmartPtrRawPointerToWireType=je,Cn.genericPointerToWireType=ze,Cn.nonConstNoSmartPtrRawPointerToWireType=$e,Cn.simpleReadValueFromPointer=Le,Cn.RegisteredPointer_getPointee=We,Cn.RegisteredPointer_destructor=Xe,Cn.RegisteredPointer_deleteObject=Ge,Cn.downcastPointer=Be,Cn.getInheritedInstanceCount=Qe,Cn.getLiveInheritedInstances=Ve,Cn.setDelayFunction=qe,Cn.init_embind=Ye;var ei={};Cn.registeredInstances=ei,Cn.getBasestPointer=Ke,Cn.getInheritedInstance=Je,Cn.makeClassHandle=Ze,Cn.RegisteredPointer_fromWireType=et,Cn.init_RegisteredPointer=tt,Cn.RegisteredPointer=nt,Cn.replacePublicSymbol=rt,Cn.dynCallLegacy=it,Cn.dynCall=ot,Cn.getDynCaller=at,Cn.embind__requireFunction=st;var ti=void 0;Cn.UnboundTypeError=ti,Cn.getTypeName=dt,Cn.throwUnboundTypeError=lt,Cn.__embind_register_class=ut,Cn.heap32VectorToArray=ct,Cn.runDestructors=ft,Cn.__embind_register_class_constructor=pt,Cn.new_=ht,Cn.craftInvokerFunction=mt,Cn.__embind_register_class_function=gt;var ni=[];Cn.emval_free_list=ni;var ri=[{},{value:void 0},{value:null},{value:!0},{value:!1}];Cn.emval_handle_array=ri,Cn.__emval_decref=vt,Cn.count_emval_handles=yt,Cn.get_first_emval=_t,Cn.init_emval=wt,Cn.__emval_register=Et,Cn.__embind_register_emval=Tt,Cn._embind_repr=xt,Cn.floatReadValueFromPointer=bt,Cn.__embind_register_float=St,Cn.__embind_register_function=Mt,Cn.integerReadValueFromPointer=Dt,Cn.__embind_register_integer=Ot,Cn.__embind_register_memory_view=Rt,Cn.__embind_register_std_string=Pt,Cn.__embind_register_std_wstring=Ft,Cn.__embind_register_void=It,Cn.__emval_incref=Ct,Cn.requireRegisteredType=At,Cn.__emval_take_value=Nt,Cn._abort=kt,Cn._clock=Ut,Cn._emscripten_memcpy_big=Ht,Cn.emscripten_realloc_buffer=jt,Cn._emscripten_resize_heap=zt;var ii={};Cn.ENV=ii,Cn.getExecutableName=$t,Cn.getEnvStrings=Lt,Cn._environ_get=Wt,Cn._environ_sizes_get=Xt,Cn._fd_close=Gt,Cn._fd_read=Bt,Cn._fd_seek=Qt,Cn._fd_write=Vt,Cn._setTempRet0=qt,Cn.__isLeapYear=Yt,Cn.__arraySum=Kt;var oi=[31,29,31,30,31,30,31,31,30,31,30,31];Cn.__MONTH_DAYS_LEAP=oi;var ai=[31,28,31,30,31,30,31,31,30,31,30,31];Cn.__MONTH_DAYS_REGULAR=ai,Cn.__addDays=Jt,Cn._strftime=Zt,Cn._strftime_l=en,Cn._time=tn;var si=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=zr.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},di=365,li=146;(0,mn.default)(si.prototype,{read:{get:function(){return(this.mode&di)===di},set:function(e){e?this.mode|=di:this.mode&=~di}},write:{get:function(){return(this.mode&li)===li},set:function(e){e?this.mode|=li:this.mode&=~li}},isFolder:{get:function(){return zr.isDir(this.mode)}},isDevice:{get:function(){return zr.isChrdev(this.mode)}}}),zr.FSNode=si,zr.staticInit(),ce(),Vr=Cn.BindingError=me(Error,"BindingError"),qr=Cn.InternalError=me(Error,"InternalError"),Ce(),tt(),Ye(),ti=Cn.UnboundTypeError=me(Error,"UnboundTypeError"),wt();var ui={__assert_fail:V,__cxa_allocate_exception:q,__cxa_atexit:K,__cxa_throw:Z,__sys_fcntl64:ae,__sys_ioctl:se,__sys_open:de,_embind_register_bigint:le,_embind_register_bool:we,_embind_register_class:ut,_embind_register_class_constructor:pt,_embind_register_class_function:gt,_embind_register_emval:Tt,_embind_register_float:St,_embind_register_function:Mt,_embind_register_integer:Ot,_embind_register_memory_view:Rt,_embind_register_std_string:Pt,_embind_register_std_wstring:Ft,_embind_register_void:It,_emval_decref:vt,_emval_incref:Ct,_emval_take_value:Nt,abort:kt,clock:Ut,emscripten_memcpy_big:Ht,emscripten_resize_heap:zt,environ_get:Wt,environ_sizes_get:Xt,fd_close:Gt,fd_read:Bt,fd_seek:Qt,fd_write:Vt,setTempRet0:qt,strftime_l:en,time:tn},ci=(L(),Cn.___wasm_call_ctors=j("__wasm_call_ctors"),Cn._free=j("free")),fi=Cn._malloc=j("malloc"),pi=Cn.___getTypeName=j("__getTypeName"),hi=(Cn.___embind_register_native_and_builtin_types=j("__embind_register_native_and_builtin_types"),Cn.___errno_location=j("__errno_location")),mi=(Cn._fflush=j("fflush"),Cn._emscripten_stack_get_end=function(){return(mi=Cn._emscripten_stack_get_end=Cn.asm.emscripten_stack_get_end).apply(null,arguments)}),gi=Cn.stackSave=j("stackSave"),vi=Cn.stackRestore=j("stackRestore"),yi=Cn.stackAlloc=j("stackAlloc"),_i=Cn._emscripten_stack_init=function(){return(_i=Cn._emscripten_stack_init=Cn.asm.emscripten_stack_init).apply(null,arguments)},wi=Cn._emscripten_stack_get_free=function(){return(wi=Cn._emscripten_stack_get_free=Cn.asm.emscripten_stack_get_free).apply(null,arguments)};Cn.___cxa_demangle=j("__cxa_demangle"),Cn.dynCall_iij=j("dynCall_iij"),Cn.dynCall_jiji=j("dynCall_jiji"),Cn.dynCall_iiiiij=j("dynCall_iiiiij"),Cn.dynCall_iiiiijj=j("dynCall_iiiiijj"),Cn.dynCall_iiiiiijj=j("dynCall_iiiiiijj"),Cn.dynCall_viijii=j("dynCall_viijii");(0,Pn.default)(Cn,"intArrayFromString")||(Cn.intArrayFromString=function(){k("'intArrayFromString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)");
}),(0,Pn.default)(Cn,"intArrayToString")||(Cn.intArrayToString=function(){k("'intArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ccall")||(Cn.ccall=function(){k("'ccall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"cwrap")||(Cn.cwrap=function(){k("'cwrap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setValue")||(Cn.setValue=function(){k("'setValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getValue")||(Cn.getValue=function(){k("'getValue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"allocate")||(Cn.allocate=function(){k("'allocate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UTF8ArrayToString")||(Cn.UTF8ArrayToString=function(){k("'UTF8ArrayToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UTF8ToString")||(Cn.UTF8ToString=function(){k("'UTF8ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToUTF8Array")||(Cn.stringToUTF8Array=function(){k("'stringToUTF8Array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToUTF8")||(Cn.stringToUTF8=function(){k("'stringToUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"lengthBytesUTF8")||(Cn.lengthBytesUTF8=function(){k("'lengthBytesUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stackTrace")||(Cn.stackTrace=function(){k("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addOnPreRun")||(Cn.addOnPreRun=function(){k("'addOnPreRun' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addOnInit")||(Cn.addOnInit=function(){k("'addOnInit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addOnPreMain")||(Cn.addOnPreMain=function(){k("'addOnPreMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addOnExit")||(Cn.addOnExit=function(){k("'addOnExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Cn.addOnPostRun=I,(0,Pn.default)(Cn,"writeStringToMemory")||(Cn.writeStringToMemory=function(){k("'writeStringToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeArrayToMemory")||(Cn.writeArrayToMemory=function(){k("'writeArrayToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeAsciiToMemory")||(Cn.writeAsciiToMemory=function(){k("'writeAsciiToMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addRunDependency")||(Cn.addRunDependency=function(){k("'addRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"removeRunDependency")||(Cn.removeRunDependency=function(){k("'removeRunDependency' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_createFolder")||(Cn.FS_createFolder=function(){k("'FS_createFolder' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"FS_createPath")||(Cn.FS_createPath=function(){k("'FS_createPath' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_createDataFile")||(Cn.FS_createDataFile=function(){k("'FS_createDataFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_createPreloadedFile")||(Cn.FS_createPreloadedFile=function(){k("'FS_createPreloadedFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_createLazyFile")||(Cn.FS_createLazyFile=function(){k("'FS_createLazyFile' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_createLink")||(Cn.FS_createLink=function(){k("'FS_createLink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"FS_createDevice")||(Cn.FS_createDevice=function(){k("'FS_createDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"FS_unlink")||(Cn.FS_unlink=function(){k("'FS_unlink' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),(0,Pn.default)(Cn,"getLEB")||(Cn.getLEB=function(){k("'getLEB' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getFunctionTables")||(Cn.getFunctionTables=function(){k("'getFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"alignFunctionTables")||(Cn.alignFunctionTables=function(){k("'alignFunctionTables' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerFunctions")||(Cn.registerFunctions=function(){k("'registerFunctions' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"addFunction")||(Cn.addFunction=function(){k("'addFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"removeFunction")||(Cn.removeFunction=function(){k("'removeFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getFuncWrapper")||(Cn.getFuncWrapper=function(){k("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"prettyPrint")||(Cn.prettyPrint=function(){k("'prettyPrint' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"dynCall")||(Cn.dynCall=function(){k("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getCompilerSetting")||(Cn.getCompilerSetting=function(){k("'getCompilerSetting' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"print")||(Cn.print=function(){k("'print' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"printErr")||(Cn.printErr=function(){k("'printErr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getTempRet0")||(Cn.getTempRet0=function(){k("'getTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setTempRet0")||(Cn.setTempRet0=function(){k("'setTempRet0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"callMain")||(Cn.callMain=function(){k("'callMain' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"abort")||(Cn.abort=function(){k("'abort' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"keepRuntimeAlive")||(Cn.keepRuntimeAlive=function(){k("'keepRuntimeAlive' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"zeroMemory")||(Cn.zeroMemory=function(){k("'zeroMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToNewUTF8")||(Cn.stringToNewUTF8=function(){k("'stringToNewUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setFileTime")||(Cn.setFileTime=function(){k("'setFileTime' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emscripten_realloc_buffer")||(Cn.emscripten_realloc_buffer=function(){k("'emscripten_realloc_buffer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ENV")||(Cn.ENV=function(){k("'ENV' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ERRNO_CODES")||(Cn.ERRNO_CODES=function(){k("'ERRNO_CODES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ERRNO_MESSAGES")||(Cn.ERRNO_MESSAGES=function(){k("'ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setErrNo")||(Cn.setErrNo=function(){k("'setErrNo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"inetPton4")||(Cn.inetPton4=function(){k("'inetPton4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"inetNtop4")||(Cn.inetNtop4=function(){k("'inetNtop4' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"inetPton6")||(Cn.inetPton6=function(){k("'inetPton6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"inetNtop6")||(Cn.inetNtop6=function(){k("'inetNtop6' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readSockaddr")||(Cn.readSockaddr=function(){k("'readSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeSockaddr")||(Cn.writeSockaddr=function(){k("'writeSockaddr' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"DNS")||(Cn.DNS=function(){k("'DNS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getHostByName")||(Cn.getHostByName=function(){k("'getHostByName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"GAI_ERRNO_MESSAGES")||(Cn.GAI_ERRNO_MESSAGES=function(){k("'GAI_ERRNO_MESSAGES' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"Protocols")||(Cn.Protocols=function(){k("'Protocols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"Sockets")||(Cn.Sockets=function(){k("'Sockets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getRandomDevice")||(Cn.getRandomDevice=function(){k("'getRandomDevice' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"traverseStack")||(Cn.traverseStack=function(){k("'traverseStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UNWIND_CACHE")||(Cn.UNWIND_CACHE=function(){k("'UNWIND_CACHE' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"withBuiltinMalloc")||(Cn.withBuiltinMalloc=function(){k("'withBuiltinMalloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readAsmConstArgsArray")||(Cn.readAsmConstArgsArray=function(){k("'readAsmConstArgsArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readAsmConstArgs")||(Cn.readAsmConstArgs=function(){k("'readAsmConstArgs' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"mainThreadEM_ASM")||(Cn.mainThreadEM_ASM=function(){k("'mainThreadEM_ASM' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"jstoi_q")||(Cn.jstoi_q=function(){k("'jstoi_q' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"jstoi_s")||(Cn.jstoi_s=function(){k("'jstoi_s' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getExecutableName")||(Cn.getExecutableName=function(){k("'getExecutableName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"listenOnce")||(Cn.listenOnce=function(){k("'listenOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"autoResumeAudioContext")||(Cn.autoResumeAudioContext=function(){k("'autoResumeAudioContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"dynCallLegacy")||(Cn.dynCallLegacy=function(){k("'dynCallLegacy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getDynCaller")||(Cn.getDynCaller=function(){k("'getDynCaller' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"dynCall")||(Cn.dynCall=function(){k("'dynCall' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"callRuntimeCallbacks")||(Cn.callRuntimeCallbacks=function(){k("'callRuntimeCallbacks' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"runtimeKeepalivePush")||(Cn.runtimeKeepalivePush=function(){k("'runtimeKeepalivePush' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"runtimeKeepalivePop")||(Cn.runtimeKeepalivePop=function(){k("'runtimeKeepalivePop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"callUserCallback")||(Cn.callUserCallback=function(){k("'callUserCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"maybeExit")||(Cn.maybeExit=function(){k("'maybeExit' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"safeSetTimeout")||(Cn.safeSetTimeout=function(){k("'safeSetTimeout' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"asmjsMangle")||(Cn.asmjsMangle=function(){k("'asmjsMangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"asyncLoad")||(Cn.asyncLoad=function(){k("'asyncLoad' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"alignMemory")||(Cn.alignMemory=function(){k("'alignMemory' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"mmapAlloc")||(Cn.mmapAlloc=function(){k("'mmapAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"reallyNegative")||(Cn.reallyNegative=function(){k("'reallyNegative' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"unSign")||(Cn.unSign=function(){k("'unSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"reSign")||(Cn.reSign=function(){k("'reSign' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"formatString")||(Cn.formatString=function(){k("'formatString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"PATH")||(Cn.PATH=function(){k("'PATH' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"PATH_FS")||(Cn.PATH_FS=function(){k("'PATH_FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SYSCALLS")||(Cn.SYSCALLS=function(){k("'SYSCALLS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"syscallMmap2")||(Cn.syscallMmap2=function(){k("'syscallMmap2' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"syscallMunmap")||(Cn.syscallMunmap=function(){k("'syscallMunmap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getSocketFromFD")||(Cn.getSocketFromFD=function(){k("'getSocketFromFD' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getSocketAddress")||(Cn.getSocketAddress=function(){k("'getSocketAddress' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"JSEvents")||(Cn.JSEvents=function(){k("'JSEvents' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerKeyEventCallback")||(Cn.registerKeyEventCallback=function(){k("'registerKeyEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"specialHTMLTargets")||(Cn.specialHTMLTargets=function(){k("'specialHTMLTargets' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"maybeCStringToJsString")||(Cn.maybeCStringToJsString=function(){k("'maybeCStringToJsString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"findEventTarget")||(Cn.findEventTarget=function(){k("'findEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"findCanvasEventTarget")||(Cn.findCanvasEventTarget=function(){k("'findCanvasEventTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getBoundingClientRect")||(Cn.getBoundingClientRect=function(){k("'getBoundingClientRect' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillMouseEventData")||(Cn.fillMouseEventData=function(){k("'fillMouseEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerMouseEventCallback")||(Cn.registerMouseEventCallback=function(){k("'registerMouseEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerWheelEventCallback")||(Cn.registerWheelEventCallback=function(){k("'registerWheelEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerUiEventCallback")||(Cn.registerUiEventCallback=function(){k("'registerUiEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerFocusEventCallback")||(Cn.registerFocusEventCallback=function(){k("'registerFocusEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillDeviceOrientationEventData")||(Cn.fillDeviceOrientationEventData=function(){k("'fillDeviceOrientationEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerDeviceOrientationEventCallback")||(Cn.registerDeviceOrientationEventCallback=function(){k("'registerDeviceOrientationEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillDeviceMotionEventData")||(Cn.fillDeviceMotionEventData=function(){k("'fillDeviceMotionEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerDeviceMotionEventCallback")||(Cn.registerDeviceMotionEventCallback=function(){k("'registerDeviceMotionEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"screenOrientation")||(Cn.screenOrientation=function(){k("'screenOrientation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillOrientationChangeEventData")||(Cn.fillOrientationChangeEventData=function(){k("'fillOrientationChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerOrientationChangeEventCallback")||(Cn.registerOrientationChangeEventCallback=function(){k("'registerOrientationChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillFullscreenChangeEventData")||(Cn.fillFullscreenChangeEventData=function(){k("'fillFullscreenChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerFullscreenChangeEventCallback")||(Cn.registerFullscreenChangeEventCallback=function(){k("'registerFullscreenChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerRestoreOldStyle")||(Cn.registerRestoreOldStyle=function(){k("'registerRestoreOldStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"hideEverythingExceptGivenElement")||(Cn.hideEverythingExceptGivenElement=function(){k("'hideEverythingExceptGivenElement' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"restoreHiddenElements")||(Cn.restoreHiddenElements=function(){k("'restoreHiddenElements' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setLetterbox")||(Cn.setLetterbox=function(){k("'setLetterbox' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"currentFullscreenStrategy")||(Cn.currentFullscreenStrategy=function(){k("'currentFullscreenStrategy' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"restoreOldWindowedStyle")||(Cn.restoreOldWindowedStyle=function(){k("'restoreOldWindowedStyle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"softFullscreenResizeWebGLRenderTarget")||(Cn.softFullscreenResizeWebGLRenderTarget=function(){k("'softFullscreenResizeWebGLRenderTarget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"doRequestFullscreen")||(Cn.doRequestFullscreen=function(){k("'doRequestFullscreen' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillPointerlockChangeEventData")||(Cn.fillPointerlockChangeEventData=function(){k("'fillPointerlockChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerPointerlockChangeEventCallback")||(Cn.registerPointerlockChangeEventCallback=function(){k("'registerPointerlockChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerPointerlockErrorEventCallback")||(Cn.registerPointerlockErrorEventCallback=function(){k("'registerPointerlockErrorEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"requestPointerLock")||(Cn.requestPointerLock=function(){k("'requestPointerLock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillVisibilityChangeEventData")||(Cn.fillVisibilityChangeEventData=function(){k("'fillVisibilityChangeEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerVisibilityChangeEventCallback")||(Cn.registerVisibilityChangeEventCallback=function(){k("'registerVisibilityChangeEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerTouchEventCallback")||(Cn.registerTouchEventCallback=function(){k("'registerTouchEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillGamepadEventData")||(Cn.fillGamepadEventData=function(){k("'fillGamepadEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerGamepadEventCallback")||(Cn.registerGamepadEventCallback=function(){k("'registerGamepadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerBeforeUnloadEventCallback")||(Cn.registerBeforeUnloadEventCallback=function(){k("'registerBeforeUnloadEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"fillBatteryEventData")||(Cn.fillBatteryEventData=function(){k("'fillBatteryEventData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"battery")||(Cn.battery=function(){k("'battery' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerBatteryEventCallback")||(Cn.registerBatteryEventCallback=function(){k("'registerBatteryEventCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setCanvasElementSize")||(Cn.setCanvasElementSize=function(){k("'setCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getCanvasElementSize")||(Cn.getCanvasElementSize=function(){k("'getCanvasElementSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"polyfillSetImmediate")||(Cn.polyfillSetImmediate=function(){k("'polyfillSetImmediate' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"demangle")||(Cn.demangle=function(){k("'demangle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"demangleAll")||(Cn.demangleAll=function(){k("'demangleAll' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"jsStackTrace")||(Cn.jsStackTrace=function(){k("'jsStackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stackTrace")||(Cn.stackTrace=function(){k("'stackTrace' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getEnvStrings")||(Cn.getEnvStrings=function(){k("'getEnvStrings' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"checkWasiClock")||(Cn.checkWasiClock=function(){k("'checkWasiClock' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeI53ToI64")||(Cn.writeI53ToI64=function(){k("'writeI53ToI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeI53ToI64Clamped")||(Cn.writeI53ToI64Clamped=function(){k("'writeI53ToI64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeI53ToI64Signaling")||(Cn.writeI53ToI64Signaling=function(){k("'writeI53ToI64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeI53ToU64Clamped")||(Cn.writeI53ToU64Clamped=function(){k("'writeI53ToU64Clamped' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeI53ToU64Signaling")||(Cn.writeI53ToU64Signaling=function(){k("'writeI53ToU64Signaling' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readI53FromI64")||(Cn.readI53FromI64=function(){k("'readI53FromI64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readI53FromU64")||(Cn.readI53FromU64=function(){k("'readI53FromU64' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"convertI32PairToI53")||(Cn.convertI32PairToI53=function(){k("'convertI32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"convertU32PairToI53")||(Cn.convertU32PairToI53=function(){k("'convertU32PairToI53' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"uncaughtExceptionCount")||(Cn.uncaughtExceptionCount=function(){k("'uncaughtExceptionCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"exceptionLast")||(Cn.exceptionLast=function(){k("'exceptionLast' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"exceptionCaught")||(Cn.exceptionCaught=function(){k("'exceptionCaught' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ExceptionInfo")||(Cn.ExceptionInfo=function(){k("'ExceptionInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"CatchInfo")||(Cn.CatchInfo=function(){k("'CatchInfo' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"exception_addRef")||(Cn.exception_addRef=function(){k("'exception_addRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"exception_decRef")||(Cn.exception_decRef=function(){k("'exception_decRef' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"Browser")||(Cn.Browser=function(){k("'Browser' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"funcWrappers")||(Cn.funcWrappers=function(){k("'funcWrappers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getFuncWrapper")||(Cn.getFuncWrapper=function(){k("'getFuncWrapper' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setMainLoop")||(Cn.setMainLoop=function(){k("'setMainLoop' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"wget")||(Cn.wget=function(){k("'wget' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"FS")||(Cn.FS=function(){k("'FS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"MEMFS")||(Cn.MEMFS=function(){k("'MEMFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"TTY")||(Cn.TTY=function(){k("'TTY' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"PIPEFS")||(Cn.PIPEFS=function(){k("'PIPEFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SOCKFS")||(Cn.SOCKFS=function(){k("'SOCKFS' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"_setNetworkCallback")||(Cn._setNetworkCallback=function(){k("'_setNetworkCallback' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"tempFixedLengthArray")||(Cn.tempFixedLengthArray=function(){k("'tempFixedLengthArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"miniTempWebGLFloatBuffers")||(Cn.miniTempWebGLFloatBuffers=function(){k("'miniTempWebGLFloatBuffers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"heapObjectForWebGLType")||(Cn.heapObjectForWebGLType=function(){k("'heapObjectForWebGLType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"heapAccessShiftForWebGLHeap")||(Cn.heapAccessShiftForWebGLHeap=function(){k("'heapAccessShiftForWebGLHeap' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"GL")||(Cn.GL=function(){k("'GL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emscriptenWebGLGet")||(Cn.emscriptenWebGLGet=function(){k("'emscriptenWebGLGet' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"computeUnpackAlignedImageSize")||(Cn.computeUnpackAlignedImageSize=function(){k("'computeUnpackAlignedImageSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emscriptenWebGLGetTexPixelData")||(Cn.emscriptenWebGLGetTexPixelData=function(){k("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emscriptenWebGLGetUniform")||(Cn.emscriptenWebGLGetUniform=function(){k("'emscriptenWebGLGetUniform' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"webglGetUniformLocation")||(Cn.webglGetUniformLocation=function(){k("'webglGetUniformLocation' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"webglPrepareUniformLocationsBeforeFirstUse")||(Cn.webglPrepareUniformLocationsBeforeFirstUse=function(){k("'webglPrepareUniformLocationsBeforeFirstUse' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"webglGetLeftBracePos")||(Cn.webglGetLeftBracePos=function(){
k("'webglGetLeftBracePos' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emscriptenWebGLGetVertexAttrib")||(Cn.emscriptenWebGLGetVertexAttrib=function(){k("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"writeGLArray")||(Cn.writeGLArray=function(){k("'writeGLArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"AL")||(Cn.AL=function(){k("'AL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SDL_unicode")||(Cn.SDL_unicode=function(){k("'SDL_unicode' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SDL_ttfContext")||(Cn.SDL_ttfContext=function(){k("'SDL_ttfContext' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SDL_audio")||(Cn.SDL_audio=function(){k("'SDL_audio' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"SDL")||(Cn.SDL=function(){k("'SDL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")});(0,Pn.default)(Cn,"SDL_gfx")||(Cn.SDL_gfx=function(){k("'SDL_gfx' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")});(0,Pn.default)(Cn,"GLUT")||(Cn.GLUT=function(){k("'GLUT' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"EGL")||(Cn.EGL=function(){k("'EGL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"GLFW_Window")||(Cn.GLFW_Window=function(){k("'GLFW_Window' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"GLFW")||(Cn.GLFW=function(){k("'GLFW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"GLEW")||(Cn.GLEW=function(){k("'GLEW' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"IDBStore")||(Cn.IDBStore=function(){k("'IDBStore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"runAndAbortIfError")||(Cn.runAndAbortIfError=function(){k("'runAndAbortIfError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_handle_array")||(Cn.emval_handle_array=function(){k("'emval_handle_array' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_free_list")||(Cn.emval_free_list=function(){k("'emval_free_list' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_symbols")||(Cn.emval_symbols=function(){k("'emval_symbols' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"init_emval")||(Cn.init_emval=function(){k("'init_emval' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"count_emval_handles")||(Cn.count_emval_handles=function(){k("'count_emval_handles' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"get_first_emval")||(Cn.get_first_emval=function(){k("'get_first_emval' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getStringOrSymbol")||(Cn.getStringOrSymbol=function(){k("'getStringOrSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"requireHandle")||(Cn.requireHandle=function(){k("'requireHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_newers")||(Cn.emval_newers=function(){k("'emval_newers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"craftEmvalAllocator")||(Cn.craftEmvalAllocator=function(){k("'craftEmvalAllocator' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_get_global")||(Cn.emval_get_global=function(){k("'emval_get_global' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"emval_methodCallers")||(Cn.emval_methodCallers=function(){k("'emval_methodCallers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"InternalError")||(Cn.InternalError=function(){k("'InternalError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"BindingError")||(Cn.BindingError=function(){k("'BindingError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UnboundTypeError")||(Cn.UnboundTypeError=function(){k("'UnboundTypeError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"PureVirtualError")||(Cn.PureVirtualError=function(){k("'PureVirtualError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"init_embind")||(Cn.init_embind=function(){k("'init_embind' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"throwInternalError")||(Cn.throwInternalError=function(){k("'throwInternalError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"throwBindingError")||(Cn.throwBindingError=function(){k("'throwBindingError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"throwUnboundTypeError")||(Cn.throwUnboundTypeError=function(){k("'throwUnboundTypeError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ensureOverloadTable")||(Cn.ensureOverloadTable=function(){k("'ensureOverloadTable' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"exposePublicSymbol")||(Cn.exposePublicSymbol=function(){k("'exposePublicSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"replacePublicSymbol")||(Cn.replacePublicSymbol=function(){k("'replacePublicSymbol' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"extendError")||(Cn.extendError=function(){k("'extendError' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"createNamedFunction")||(Cn.createNamedFunction=function(){k("'createNamedFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registeredInstances")||(Cn.registeredInstances=function(){k("'registeredInstances' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getBasestPointer")||(Cn.getBasestPointer=function(){k("'getBasestPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerInheritedInstance")||(Cn.registerInheritedInstance=function(){k("'registerInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"unregisterInheritedInstance")||(Cn.unregisterInheritedInstance=function(){k("'unregisterInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getInheritedInstance")||(Cn.getInheritedInstance=function(){k("'getInheritedInstance' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getInheritedInstanceCount")||(Cn.getInheritedInstanceCount=function(){k("'getInheritedInstanceCount' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getLiveInheritedInstances")||(Cn.getLiveInheritedInstances=function(){k("'getLiveInheritedInstances' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registeredTypes")||(Cn.registeredTypes=function(){k("'registeredTypes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"awaitingDependencies")||(Cn.awaitingDependencies=function(){k("'awaitingDependencies' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"typeDependencies")||(Cn.typeDependencies=function(){k("'typeDependencies' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registeredPointers")||(Cn.registeredPointers=function(){k("'registeredPointers' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"registerType")||(Cn.registerType=function(){k("'registerType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"whenDependentTypesAreResolved")||(Cn.whenDependentTypesAreResolved=function(){k("'whenDependentTypesAreResolved' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"embind_charCodes")||(Cn.embind_charCodes=function(){k("'embind_charCodes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"embind_init_charCodes")||(Cn.embind_init_charCodes=function(){k("'embind_init_charCodes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"readLatin1String")||(Cn.readLatin1String=function(){k("'readLatin1String' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getTypeName")||(Cn.getTypeName=function(){k("'getTypeName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"heap32VectorToArray")||(Cn.heap32VectorToArray=function(){k("'heap32VectorToArray' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"requireRegisteredType")||(Cn.requireRegisteredType=function(){k("'requireRegisteredType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"getShiftFromSize")||(Cn.getShiftFromSize=function(){k("'getShiftFromSize' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"integerReadValueFromPointer")||(Cn.integerReadValueFromPointer=function(){k("'integerReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"enumReadValueFromPointer")||(Cn.enumReadValueFromPointer=function(){k("'enumReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"floatReadValueFromPointer")||(Cn.floatReadValueFromPointer=function(){k("'floatReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"simpleReadValueFromPointer")||(Cn.simpleReadValueFromPointer=function(){k("'simpleReadValueFromPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"runDestructors")||(Cn.runDestructors=function(){k("'runDestructors' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"new_")||(Cn.new_=function(){k("'new_' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"craftInvokerFunction")||(Cn.craftInvokerFunction=function(){k("'craftInvokerFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"embind__requireFunction")||(Cn.embind__requireFunction=function(){k("'embind__requireFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"tupleRegistrations")||(Cn.tupleRegistrations=function(){k("'tupleRegistrations' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"structRegistrations")||(Cn.structRegistrations=function(){k("'structRegistrations' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"genericPointerToWireType")||(Cn.genericPointerToWireType=function(){k("'genericPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"constNoSmartPtrRawPointerToWireType")||(Cn.constNoSmartPtrRawPointerToWireType=function(){k("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"nonConstNoSmartPtrRawPointerToWireType")||(Cn.nonConstNoSmartPtrRawPointerToWireType=function(){k("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"init_RegisteredPointer")||(Cn.init_RegisteredPointer=function(){k("'init_RegisteredPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredPointer")||(Cn.RegisteredPointer=function(){k("'RegisteredPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredPointer_getPointee")||(Cn.RegisteredPointer_getPointee=function(){k("'RegisteredPointer_getPointee' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredPointer_destructor")||(Cn.RegisteredPointer_destructor=function(){k("'RegisteredPointer_destructor' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredPointer_deleteObject")||(Cn.RegisteredPointer_deleteObject=function(){k("'RegisteredPointer_deleteObject' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredPointer_fromWireType")||(Cn.RegisteredPointer_fromWireType=function(){k("'RegisteredPointer_fromWireType' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"runDestructor")||(Cn.runDestructor=function(){k("'runDestructor' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"releaseClassHandle")||(Cn.releaseClassHandle=function(){k("'releaseClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"finalizationGroup")||(Cn.finalizationGroup=function(){k("'finalizationGroup' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"detachFinalizer_deps")||(Cn.detachFinalizer_deps=function(){k("'detachFinalizer_deps' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"detachFinalizer")||(Cn.detachFinalizer=function(){k("'detachFinalizer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"attachFinalizer")||(Cn.attachFinalizer=function(){k("'attachFinalizer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"makeClassHandle")||(Cn.makeClassHandle=function(){k("'makeClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"init_ClassHandle")||(Cn.init_ClassHandle=function(){k("'init_ClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle")||(Cn.ClassHandle=function(){k("'ClassHandle' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle_isAliasOf")||(Cn.ClassHandle_isAliasOf=function(){k("'ClassHandle_isAliasOf' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"throwInstanceAlreadyDeleted")||(Cn.throwInstanceAlreadyDeleted=function(){k("'throwInstanceAlreadyDeleted' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle_clone")||(Cn.ClassHandle_clone=function(){k("'ClassHandle_clone' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle_delete")||(Cn.ClassHandle_delete=function(){k("'ClassHandle_delete' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"deletionQueue")||(Cn.deletionQueue=function(){k("'deletionQueue' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle_isDeleted")||(Cn.ClassHandle_isDeleted=function(){k("'ClassHandle_isDeleted' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"ClassHandle_deleteLater")||(Cn.ClassHandle_deleteLater=function(){k("'ClassHandle_deleteLater' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"flushPendingDeletes")||(Cn.flushPendingDeletes=function(){k("'flushPendingDeletes' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"delayFunction")||(Cn.delayFunction=function(){k("'delayFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"setDelayFunction")||(Cn.setDelayFunction=function(){k("'setDelayFunction' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"RegisteredClass")||(Cn.RegisteredClass=function(){k("'RegisteredClass' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"shallowCopyInternalPointer")||(Cn.shallowCopyInternalPointer=function(){k("'shallowCopyInternalPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"downcastPointer")||(Cn.downcastPointer=function(){k("'downcastPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"upcastPointer")||(Cn.upcastPointer=function(){k("'upcastPointer' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"validateThis")||(Cn.validateThis=function(){k("'validateThis' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"char_0")||(Cn.char_0=function(){k("'char_0' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"char_9")||(Cn.char_9=function(){k("'char_9' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"makeLegalFunctionName")||(Cn.makeLegalFunctionName=function(){k("'makeLegalFunctionName' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"warnOnce")||(Cn.warnOnce=function(){k("'warnOnce' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stackSave")||(Cn.stackSave=function(){k("'stackSave' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stackRestore")||(Cn.stackRestore=function(){k("'stackRestore' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stackAlloc")||(Cn.stackAlloc=function(){k("'stackAlloc' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"AsciiToString")||(Cn.AsciiToString=function(){k("'AsciiToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToAscii")||(Cn.stringToAscii=function(){k("'stringToAscii' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UTF16ToString")||(Cn.UTF16ToString=function(){k("'UTF16ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToUTF16")||(Cn.stringToUTF16=function(){k("'stringToUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"lengthBytesUTF16")||(Cn.lengthBytesUTF16=function(){k("'lengthBytesUTF16' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"UTF32ToString")||(Cn.UTF32ToString=function(){k("'UTF32ToString' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"stringToUTF32")||(Cn.stringToUTF32=function(){k("'stringToUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"lengthBytesUTF32")||(Cn.lengthBytesUTF32=function(){k("'lengthBytesUTF32' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"allocateUTF8")||(Cn.allocateUTF8=function(){k("'allocateUTF8' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),(0,Pn.default)(Cn,"allocateUTF8OnStack")||(Cn.allocateUTF8OnStack=function(){k("'allocateUTF8OnStack' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Cn.writeStackCookie=b,Cn.checkStackCookie=S,(0,Pn.default)(Cn,"ALLOC_NORMAL")||Object.defineProperty(Cn,"ALLOC_NORMAL",{configurable:!0,get:function(){k("'ALLOC_NORMAL' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),(0,Pn.default)(Cn,"ALLOC_STACK")||Object.defineProperty(Cn,"ALLOC_STACK",{configurable:!0,get:function(){k("'ALLOC_STACK' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var Ei;if(Mr=function e(){Ei||an(),Ei||(Mr=e)},Cn.run=an,Cn.preInit)for("function"==typeof Cn.preInit&&(Cn.preInit=[Cn.preInit]);Cn.preInit.length>0;)Cn.preInit.pop()();an()}).call(t,n(61),"/",n(313)(e),n(11).Buffer)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(29),s=n(301),d=n(824),l=r(d),u=n(815),c=r(u),f=n(808),p=r(f),h=n(829),m=r(h),g=n(816),v=r(g),y=n(818),_=r(y),w=n(828),E=r(w);n(143);t.default={name:"app",data:function(){return{error:null,success:null,navigationExpanded:!1}},beforeCreate:function(){this.$store.dispatch("models/initStory")},mounted:function(){var e=this;window.eventBus.$on("error",function(t){e.error=t,setTimeout(function(){e.error=null},5e3)}),window.eventBus.$on("success",function(t){e.success=t,setTimeout(function(){e.success=null},5e3)}),window.eventBus.$on("reload-grid",function(){document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}),document.addEventListener("keydown",function(t){e.$store.timetravel&&(90===t.keyCode&&(t.ctrlKey||t.metaKey)?(t.shiftKey?e.$store.timetravel.redo():e.$store.timetravel.undo(),t.preventDefault()):89==t.keyCode&&(t.ctrlKey||t.metaKey)&&(e.$store.timetravel.redo(),t.preventDefault()))})},computed:(0,o.default)({},(0,a.mapState)({tool:function(e){return e.application.currentSelections.tool}})),components:{"grid-view":c.default,"canvas-view":p.default,"inspector-view":_.default,navigation:l.default,toolbar:m.default,ImageUpload:v.default,Textures:E.default,PortalTarget:s.PortalTarget}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(809),s=r(a),d=n(29);t.default={name:"app",data:function(){return{}},computed:(0,o.default)({},(0,d.mapState)({mapEnabled:function(e){return e.project.map.enabled},mapVisible:function(e){return e.project.map.visible},northAxis:function(e){return e.project.north_axis}})),components:{"map-view":s.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(29),s=n(143),d=n(821),l=r(d),u=n(770)("AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8",["places"]),c=n(777),f=n(93);t.default={name:"map-view",data:function(){return{view:null,map:null,startResolution:null,autocomplete:null,mapModalVisible:!window.api||window.api.config.showMapDialogOnStart,showGrid:!1}},mounted:function(){this.showGrid=this.gridVisible,this.initAutoComplete(),this.loadMap(),s.ResizeEvents.$on("resize",this.updateMapView),window.eventBus.$on("boundsResolved",this.clearStartResolution)},beforeDestroy:function(){s.ResizeEvents.$off("resize",this.updateMapView),window.eventBus.$off("boundsResolved",this.clearStartResolution)},methods:{clearStartResolution:function(){this.startResolution=null,this.updateMapView()},initAutoComplete:function(){var e=this;u().then(function(t){var n=new t.places.Autocomplete(e.$refs.addressSearch);n.addListener("place_changed",function(){var t=n.getPlace();t.geometry&&(e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng(),e.updateMapView())})})},loadMap:function(){var e=this;window.ol=c,this.$refs.map.innerHTML="",this.view=new c.View,this.map=new c.Map({layers:[new c.layer.Tile({source:new c.source.OSM})],target:"map",view:this.view}),this.view.on("propertychange",function(t){"rotation"===t.key&&(e.rotation=e.view.getRotation())}),this.updateMapView(),_.defer(function(){return e.updateMapView()})},updateMapView:function(){console.log("updateMapView"),this.map.updateSize();var e=c.proj.fromLonLat([this.longitude,this.latitude]),t=this.unAdjustedResolution,n=this.unAdjustedDelta.y,r=this.unAdjustedDelta.x;if(this.view.getCenter()){this.startResolution=this.startResolution||c.proj.getPointResolution(this.view.getProjection(),this.view.getResolution(),this.view.getCenter());var i=1/c.proj.getPointResolution(this.view.getProjection(),1,this.view.getCenter());t*=i,n*=i,r*=i}e[0]+=n,e[1]+=r,this.view.setResolution(t),this.view.setCenter(e),this.view.setRotation(this.rotation)},finishSetup:function(){var e=c.proj.transform(this.view.getCenter(),"EPSG:3857","EPSG:4326");this.longitude=e[0],this.latitude=e[1];var t=c.proj.getPointResolution(this.view.getProjection(),this.view.getResolution(),this.view.getCenter()),n=this.startResolution/t;console.log("scaling to "+this.startResolution+" / "+t+" == "+n),window.eventBus.$emit("scaleTo",n),this.rotation=this.view.getRotation(),this.$store.dispatch("project/setMapInitialized",{initialized:!0}),this.tool="Rectangle",f.select("#reticle").remove(),this.gridVisible=this.showGrid},showReticle:function(){if("Map"===this.tool){this.gridVisible=!1;var e=100,t=this.$refs.map.clientWidth/2,n=this.$refs.map.clientHeight/2;f.select("#reticle").selectAll("#reticle path").data([[{x:t,y:n-e},{x:t,y:n+e}],[{x:t-e,y:n},{x:t+e,y:n}]]).enter().append("path").attr("stroke-width","1").attr("stroke","gray").attr("d",f.line().x(function(e){return e.x}).y(function(e){return e.y}))}}},computed:(0,o.default)({},(0,a.mapState)({projectView:function(e){return e.project.view},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x},min_y:function(e){return e.project.view.min_y},max_y:function(e){return e.project.view.max_y},units:function(e){return e.project.config.units},mapInitialized:function(e){return e.project.map.initialized}}),{mPerFt:function(){return c.proj.METERS_PER_UNIT["us-ft"]},unAdjustedResolutionMeters:function(){return(this.max_x-this.min_x)/this.$refs.map.clientWidth},unAdjustedResolution:function(){return"ip"===this.units?this.mPerFt*this.unAdjustedResolutionMeters:this.unAdjustedResolutionMeters},gridCenterMeters:function(){return{x:(this.min_x+this.max_x)/2,y:(this.min_y+this.max_y)/2}},gridCenter:function(){var e=this;return"ip"===this.units?_.mapValues(this.gridCenterMeters,function(t){return t*e.mPerFt}):this.gridCenterMeters},unAdjustedDelta:function(){var e=this.gridCenter.x*Math.cos(this.rotation)-this.gridCenter.y*Math.sin(this.rotation),t=this.gridCenter.y*Math.cos(this.rotation)+this.gridCenter.x*Math.sin(this.rotation);return{x:t,y:e}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},latitude:{get:function(){return this.$store.state.project.map.latitude},set:function(e){this.$store.dispatch("project/setMapLatitude",{latitude:e})}},longitude:{get:function(){return this.$store.state.project.map.longitude},set:function(e){this.$store.dispatch("project/setMapLongitude",{longitude:e})}},rotation:{get:function(){return this.$store.state.project.map.rotation},set:function(e){this.$store.dispatch("project/setMapRotation",{rotation:e})}}}),watch:{units:function(){this.updateMapView()},projectView:{handler:function(){this.updateMapView()},deep:!0}},components:{MapModal:l.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(108),s=r(a),d=n(29),l=n(811),u=r(l);t.default={computed:(0,o.default)({},(0,d.mapGetters)({componentInstance:"application/currentComponentInstance",currentStory:"application/currentStory",currentComponent:"application/currentComponent"}),{instanceType:function(){return this.componentInstance&&this.componentInstance.type},columns:function(){return this.componentInstance?s.default[this.instanceType].columns:[]},visibleColumns:function(){return _.reject(this.columns,"private")},showInstanceEditor:function(){return this.instanceType&&this.currentComponent.type.replace(/_definitions$/,"s")===this.instanceType}}),methods:{destroyComponent:function(){if("windows"===this.instanceType)this.$store.dispatch("models/destroyWindow",{story_id:this.currentStory.id,object:this.componentInstance});else if("daylighting_controls"===this.instanceType)this.$store.dispatch("models/destroyDaylightingControl",{story_id:this.currentStory.id,object:this.componentInstance});else{if("doors"!==this.instanceType)throw new Error("Unrecognized component type "+this.instanceType);this.$store.dispatch("models/destroyDoor",{story_id:this.currentStory.id,object:this.componentInstance})}},modifyComponentInstance:function(e,t,n){if("windows"===this.instanceType)this.$store.dispatch("models/modifyWindow",{id:e,key:t,value:n,story_id:this.currentStory.id});else if("daylighting_controls"===this.instanceType)this.$store.dispatch("models/modifyDaylightingControl",{id:e,key:t,value:n,story_id:this.currentStory.id});else{if("doors"!==this.instanceType)throw new Error('unrecognized component mode "'+this.mode+'"');this.$store.dispatch("models/modifyDoor",{id:e,key:t,value:n,story_id:this.currentStory.id})}}},components:{EditBar:u.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(308),o=r(i),a=n(211),s=r(a);t.default={props:["row","columns","updateRow","destroy"],components:{GenericInput:o.default,Delete:s.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(813),o=r(i),a=n(309),s=r(a),d=n(141),l=r(d),u=n(866),c=r(u),f=n(858),p=r(f);t.default={name:"EditableSelectList",props:["columns","rows","addRow","editRow","destroyRow","selectRow","selectedRowId","objectTypes","selectedObjectType","searchAvailable","compact","duplicateRow"],data:function(){return{search:""}},computed:{visibleColumns:function(){return _.reject(this.columns,"private")},searchedRows:function(){var e=this;return this.rows.filter(function(t){return _.chain(t).omit(["color"]).values().compact().some(function(t){return t.toLowerCase&&t.toLowerCase().includes(e.search.toLowerCase())}).value()})}},methods:{toggleCompact:function(){this.$emit("toggleCompact",!this.compact)}},watch:{rows:function(e,t){e===t&&e.length>t.length&&this.selectRow(_.maxBy(this.rows,function(e){return+e.id}))}},components:{EditableTable:o.default,LibrarySelect:s.default,PrettySelect:l.default,DoubleArrows:c.default,AddNew:p.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(729);n(746);var s=(n(29),n(211)),d=r(s),l=n(311),u=r(l);t.default={name:"EditableTable",props:["columns","rows","deleteRow","updateRow","selectRow","selectedItemId","duplicateRow"],data:function(){return{sortKey:function(e){return+e.id},sortDescending:!1}},computed:{visibleColumns:function(){return o.default.reject(this.columns,"private")},sortedRows:function(){var e=o.default.sortBy(this.rows,this.sortKey);return this.sortDescending&&e.reverse(),e}},methods:{sortChange:function(e){var t=e.prop,n=e.order;this.sortKey=t,this.sortDescending="descending"===n},sortBy:function(e){this.sortDescending=this.sortKey!==e||!this.sortDescending,this.sortKey=e}},components:{Delete:d.default,Copy:u.default,"el-table":a.Table,TableColumn:a.TableColumn}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["title"],data:function(){return{expanded:!1}},computed:{caret:function(){return this.expanded?"▼":"►"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e};
}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),o=r(i),a=n(3),s=r(a),d=n(827),l=r(d),u=n(820),c=r(u),f=n(399);t.default={name:"GenericInput",props:["col","row","onChange"],data:function(){return{showColorModal:!1}},methods:{blurOnEnter:function(e){13===e.keyCode&&this.$el.blur(),27==e.keyCode&&(this.$el.value=row[col.name],this.$el.blur())}},computed:{selectData:function(){return s.default.toPairs(this.col.select_data(this.row,this.$store.state)).map(function(e){var t=(0,o.default)(e,2),n=t[0],r=t[1];return{val:r,display:n}})},rootState:function(){return this.$store.state},disabled:function(){return!!this.col.enabled&&!this.col.enabled(this.row)},colorStyles:function(){var e=this.row[this.col.name],t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return{color:(0,f.brightness)(t,n,r)<123?"#fff":"#000",background:e}},value:function(){return this.col.get?this.col.get(this.row,this.rootState):this.row[this.col.name]}},components:{TextureSelect:l.default,ColorPickerModal:c.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),o=r(i),a=n(5),s=r(a),d=n(29),l=n(109),u=n(400),c=r(u),f=n(370),p=r(f),h=n(18),m=r(h),g=n(53),v=r(g),y=n(80),w=r(y),E=n(143),T=n(369),x=r(T),b=n(142),S=n(93);t.default={name:"grid",data:function(){var e=this,t=function(t){return e.rwuToGrid(t,"x")},n=function(t){return e.rwuToGrid(t,"y")};return(0,s.default)({points:[],axis:{x:null,y:null},axis_generator:{x:null,y:null},reduceTicks:!1,componentFacingSelection:null,transform:{k:1,x:0,y:0},transformAtLastRender:S.zoomIdentity,lastMousePosition:null,handleMouseMove:null},(0,x.default)({xScale:t,yScale:n,selectImage:function(t){e.currentImage=t},updateImage:function(e){return window.application.$store.dispatch("models/updateImageWithData",e)}}),{crosshatchModifiers:{"-highlight":"green","-selected":"green","-facing-selection":"blue","":"#222"}})},mounted:function(){this.handleMouseMove=(0,c.default)(this.highlightSnapTarget,100),this.renderGrid(),this.renderGrid=(0,l.debounce)(this.renderGrid,5),this.$refs.grid.addEventListener("reloadGrid",this.reloadGridAndScales),window.addEventListener("keyup",this.escapeAction),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("resize",this.reloadGridAndScales),E.ResizeEvents.$on("resize",this.reloadGridAndScales),window.eventBus.$on("zoomToFit",this.zoomToFit),window.eventBus.$on("scaleTo",this.scaleTo)},beforeDestroy:function(){this.$refs.grid.removeEventListener("reloadGrid",this.reloadGridAndScales),window.removeEventListener("keyup",this.escapeAction),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("resize",this.reloadGridAndScales),E.ResizeEvents.$off("resize",this.reloadGridAndScales),window.eventBus.$off("zoomToFit",this.zoomToFit),window.eventBus.$off("scaleTo",this.scaleTo)},computed:(0,s.default)({},(0,d.mapState)({currentMode:function(e){return e.application.currentSelections.mode},modeTab:function(e){return e.application.currentSelections.modeTab},currentTool:function(e){return e.application.currentSelections.tool},snapMode:function(e){return e.application.currentSelections.snapMode},previousStoryVisible:function(e){return e.project.previous_story.visible},gridVisible:function(e){return e.project.grid.visible},units:function(e){return e.project.config.units},spacing:function(e){return e.project.grid.spacing},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y},windowDefs:function(e){return e.models.library.window_definitions},doorDefs:function(e){return e.models.library.door_definitions},windowWidths:function(e){return _.sumBy(e.models.library.window_definitions,"width")},allVertices:function(e){return _.flatMap(e.geometry,"vertices")}}),(0,d.mapGetters)({currentStory:"application/currentStory",currentStoryGeometry:"application/currentStoryGeometry",denormalizedGeometry:"application/currentStoryDenormalizedGeom",currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentComponent:"application/currentComponent",currentComponentInstance:"application/currentComponentInstance",currentSpaceProperty:"application/currentSpaceProperty"}),{spacePropertyKey:function(){switch(this.currentSpaceProperty.type){case"building_units":return"building_unit_id";case"thermal_zones":return"thermal_zone_id";case"space_types":return"space_type_id";case"pitched_roofs":return"pitched_roof_id";case"construction_sets":return"construction_set_id";default:throw new Error("unrecognized space property type "+this.currentSpaceProperty.type)}},windowAndDoorDefs:function(){return[].concat((0,o.default)(this.windowDefs),(0,o.default)(this.doorDefs.map(function(e){return(0,s.default)({},e,{window_definition_mode:"Single Window"})})))},currentImage:{get:function(){return this.$store.getters["application/currentImage"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentComponentType:function(){return this.currentComponent.type},currentComponentDefinition:function(){return this.currentComponent.definition},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentComponentInstanceId:{get:function(){return"components"===this.$store.state.application.currentSelections.modeTab&&this.$store.state.application.currentSelections.component_instance_id},set:function(e){this.$store.dispatch("application/setCurrentComponentInstanceId",{id:e})}},min_x:{get:function(){return this.$store.state.project.view.min_x},set:function(e){this.$store.dispatch("project/setViewMinX",{min_x:e})}},min_y:{get:function(){return this.$store.state.project.view.min_y},set:function(e){this.$store.dispatch("project/setViewMinY",{min_y:e})}},max_x:{get:function(){return this.$store.state.project.view.max_x},set:function(e){this.$store.dispatch("project/setViewMaxX",{max_x:e})}},max_y:{get:function(){return this.$store.state.project.view.max_y},set:function(e){this.$store.dispatch("project/setViewMaxY",{max_y:e})}},dimensions:{get:function(){return{min_x:this.$store.state.project.view.min_x,max_x:this.$store.state.project.view.max_x,min_y:this.$store.state.project.view.min_y,max_y:this.$store.state.project.view.max_y}},set:function(e){this.$store.dispatch("project/setDimensions",e)}},previousStory:function(){var e=this,t=this.$store.state.models.stories.findIndex(function(t){return t===e.currentStory});return 0===t?null:this.$store.state.models.stories[t-1]},previousStoryGeometry:function(){var e=this;return this.previousStory?this.$store.state.geometry.find(function(t){return t.id===e.previousStory.geometry_id}):null},previousStoryPolygons:function(){return this.previousStoryVisible&&this.previousStoryGeometry?this.polygonsFromGeometry(this.previousStoryGeometry,{previous_story:!0}):[]},images:function(){var e=this;return this.currentStory.images.map(function(t){return(0,s.default)({},t,{current:"Image"===e.currentTool&&e.currentImage&&e.currentImage.id===t.id,clickable:"Image"===e.currentTool&&(!e.currentImage||e.currentImage.id!==t.id)})})},polygons:function(){var e=this.polygonsFromGeometry(this.currentStoryGeometry);return this.previousStoryPolygons?this.previousStoryPolygons.concat(e):e},walls:function(){var e=_.keyBy(this.currentStoryGeometry.edges,"id"),t=_.keyBy(this.currentStoryGeometry.vertices,"id");return _.chain(this.currentStoryGeometry.faces).flatMap(function(e){return _.map(e.edgeRefs,"edge_id")}).sortBy(_.identity).groupBy(_.identity).mapValues("length").map(function(n,r){var i=e[r];return{id:r,start:t[i.v1],end:t[i.v2],interior:n>1}}).value()},daylightingControlLocs:function(){var e=this;return _.flatten(this.currentStory.spaces.map(function(t){return t.daylighting_controls.map(function(n){return(0,s.default)({},n,m.default.vertexForId(n.vertex_id,e.currentStoryGeometry),{id:n.id,type:"daylighting_controls",face_id:t.face_id})})}))},spaceFaces:function(){var e=this;return this.denormalizedGeometry.faces.filter(function(t){return _.find(e.currentStory.spaces,{face_id:t.id})})},spaceEdges:function(){return _.flatMap(this.spaceFaces,"edges")},visibleVerts:function(){var e=this;return this.allVertices.filter(function(t){return e.min_x<=t.x&&t.x<=e.max_x&&e.min_y<=t.y&&t.y<=e.max_y})}}),watch:{gridVisible:function(){this.showOrHideAxes()},spacing:function(){this.updateGrid()},units:function(){this.reloadGridAndScales()},currentMode:function(){this.draw()},polygons:function(){this.draw()},images:function(){this.draw()},windowDefs:function(){this.draw()},doorDefs:function(){this.draw()},currentTool:function(){this.points=[],this.draw(),this.clearHighlights(),"Image"===this.currentTool&&this.currentStory.images.length?this.currentImage&&_.includes(_.map(this.currentStory.images,"id"),this.currentImage.id)||(this.currentImage=this.currentStory.images[0]):_.includes(_.map(this.currentStory.spaces,"id"),this.currentSubSelection.id)||(this.currentSubSelection=this.currentStory.spaces[0])},currentSpace:function(){this.points=[],this.draw()},currentShading:function(){this.points=[],this.draw()},transform:function(e,t){e.k<.5?S.select("#svg-grid").selectAll(".polygon-text").style("display","none"):S.select("#svg-grid").selectAll(".polygon-text").style("display","initial")}},methods:(0,s.default)({},p.default,{windowCenterLocs:function(e){var t=this;return this.currentStory.windows.map(function(e){return{w:e,e:_.find(t.denormalizedGeometry.edges,{id:e.edge_id})}}).map(function(n){var r=n.w,i=n.e,o=t.denormalizeWindowOrDoor(i,r),a=(0,h.pointDistanceToSegment)(e,o),d=a.proj;return(0,s.default)({},o,{id:r.id,type:"windows"},d)})},doorCenterLocs:function(e){var t=this;return this.currentStory.doors.map(function(e){return{w:e,e:_.find(t.denormalizedGeometry.edges,{id:e.edge_id})}}).map(function(n){var r=n.w,i=n.e,o=t.denormalizeWindowOrDoor(i,r),a=(0,h.pointDistanceToSegment)(e,o),d=a.proj;return(0,s.default)({},o,{id:r.id,type:"doors"},d)})},currentComponentTypeLocs:function(e){if("window_definitions"===this.currentComponentType)return this.windowCenterLocs(e);if("daylighting_control_definitions"===this.currentComponentType)return this.daylightingControlLocs;if("door_definitions"===this.currentComponentType)return this.doorCenterLocs(e);throw new Error("unrecognized componentType: "+this.currentComponentType)},denormalizeWindowOrDoor:function(e,t){var n=(t.edge_id,t.alpha),r=t.window_definition_id,i=t.door_definition_id,o=_.find(this.windowAndDoorDefs,{id:r||i}),a=(0,b.windowLocation)(e,{alpha:n});return(0,s.default)({},(0,b.expandWindowAlongEdge)(e,a,o),{window_definition_mode:o.window_definition_mode,windowOrDoor:o.window_definition_mode?"window":"door",width:o.width,spacing:o.window_spacing,texture:o.texture})},windowsOnFace:function(e){var t=this;return _.flatMap(e.edges,function(e){return _.filter(t.currentStory.windows,{edge_id:e.id}).map(function(n){return(0,s.default)({},t.denormalizeWindowOrDoor(e,n),{selected:n.id===t.currentComponentInstanceId,facingSelection:n.id===t.componentFacingSelection})})})},doorsOnFace:function(e){var t=this;return _.flatMap(e.edges,function(e){return _.filter(t.currentStory.doors,{edge_id:e.id}).map(function(n){return(0,s.default)({},t.denormalizeWindowOrDoor(e,n),{windowOrDoor:"door",selected:n.id===t.currentComponentInstanceId,facingSelection:n.id===t.componentFacingSelection})})})},polygonsFromGeometry:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m.default.denormalize(e),i=r.faces.map(function(r){var i=v.default.modelForFace(t.$store.state.models,r.id),o=r.vertices.slice(0,-1),a=(0,s.default)({face_id:r.id,name:i.name,modelType:i.type,color:i.color,points:o,labelPosition:t.polygonLabelPosition(o),windows:t.windowsOnFace(r),doors:t.doorsOnFace(r),current:"Apply Property"!==t.currentTool&&t.currentSpace&&r.id===t.currentSpace.face_id||"Apply Property"!==t.currentTool&&t.currentShading&&r.id===t.currentShading.face_id||"Apply Property"===t.currentTool&&t.currentSpaceProperty&&i[t.spacePropertyKey]===t.currentSpaceProperty.id,daylighting_controls:(i.daylighting_controls||[]).map(function(n){return(0,s.default)({},m.default.vertexForId(n.vertex_id,e),{selected:n.id===t.currentComponentInstanceId,facingSelection:n.id===t.componentFacingSelection})})},n);if(!o.length)return null;if("space"===i.type)if("thermal_zones"===t.currentMode){var d=v.default.libraryObjectWithId(t.$store.state.models,i.thermal_zone_id);a.color=d?d.color:w.default.config.palette.neutral}else if("space_types"===t.currentMode){var l=v.default.libraryObjectWithId(t.$store.state.models,i.space_type_id);a.color=l?l.color:w.default.config.palette.neutral}else if("building_units"===t.currentMode){var u=v.default.libraryObjectWithId(t.$store.state.models,i.building_unit_id);a.color=u?u.color:w.default.config.palette.neutral}else if("pitched_roofs"===t.currentMode){var c=v.default.libraryObjectWithId(t.$store.state.models,i.pitched_roof_id);a.color=c?c.color:w.default.config.palette.neutral}else if("construction_sets"===t.currentMode){var f=v.default.libraryObjectWithId(t.$store.state.models,i.construction_set_id);a.color=f?f.color:w.default.config.palette.neutral}else if("spaces"!==t.currentMode)throw new Error("unknown assignable property: "+t.currentMode);return a});return _.sortBy(_.compact(i),"current")}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(29),s=n(53),d=r(s);t.default={name:"ImageUpload",mounted:function(){window.eventBus.$on("uploadImage",this.promptUpload.bind(this))},computed:(0,o.default)({},(0,a.mapState)({pxPerRWU:function(e){var t=e.application.scale.x,n=t.pixels,r=t.rwuRange;return n/(r[1]-r[0])},max_y:function(e){return e.project.view.max_y},min_y:function(e){return e.project.view.min_y},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x}}),(0,a.mapGetters)({currentStory:"application/currentStory"})),methods:{promptUpload:function(){this.$refs.imageInput.click()},uploadImage:function(e){for(var t=e.target.files,n=this,r=function(e){var r=t[e],i=new FileReader;i.addEventListener("load",function(){var e=new Image;e.onload=function(){var t=e.height/n.pxPerRWU/4,r=e.width/n.pxPerRWU/4;n.$store.dispatch("models/createImageForStory",{story_id:n.currentStory.id,src:e.src,name:d.default.generateName(n.$store.state.models,"images",n.currentStory),height:t,width:r,x:(n.min_x+n.max_x)/2,y:(n.min_y+n.max_y)/2,naturalHeight:e.height,naturalWidth:e.width}),n.$refs.imageInput.value=""},e.src=i.result},!1),r&&i.readAsDataURL(r)},i=0;i<t.length;i++)r(i)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(312),o=r(i);t.default={name:"Info",components:{InfoIcon:o.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(29),s=n(18),d=r(s);t.default={name:"inspector",data:function(){return{geometryInspector:!0,storyInspector:!1}},methods:{startpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var n=this.vertexForId(t.v2);return"v2 "+n.id+" ("+n.x+", "+n.y+")"}var r=this.vertexForId(t.v1);return"v1 "+r.id+" ("+r.x+", "+r.y+")"},endpoint:function(e){var t=this.edgeForId(e.edge_id);if(!e.reverse){var n=this.vertexForId(t.v2);return n.id+" (v2) ("+n.x+", "+n.y+")"}var r=this.vertexForId(t.v1);return r.id+" (v1) ("+r.x+", "+r.y+")"},edgeForId:function(e){return d.default.edgeForId(e,this.currentStoryGeometry)},vertexForId:function(e){return d.default.vertexForId(e,this.currentStoryGeometry)}},computed:(0,o.default)({},(0,a.mapGetters)({currentStory:"application/currentStory",currentSubSelectionFace:"application/currentSubSelectionFace",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"stories"===e?"currentStory":_.includes(T.componentTypes,e)?"currentComponentDef":_.includes(T.assignableProperties,e)?"currentSpaceProperty":_.includes(["windows","daylighting_controls"],e)?"currentComponentInstance":"currentSubSelection"}Object.defineProperty(t,"__esModule",{value:!0});var o=n(423),a=r(o),s=n(422),d=r(s),l=n(34),u=r(l),c=n(5),f=r(c),p=n(29),h=n(108),m=r(h),g=n(812),v=r(g),y=n(53),w=r(y),E=n(18),T=n(30);t.default={name:"Library",props:["objectTypes","mode","searchAvailable","compact","addNewOnHotkey"],mounted:function(){document.body.addEventListener("keyup",this.hotkeyAddNew)},beforeDestroy:function(){document.body.removeEventListener("keyup",this.hotkeyAddNew)},computed:(0,f.default)({},(0,p.mapGetters)({currentStoryGeom:"application/currentStoryGeometry"}),{objectTypesDisplay:function(){return this.objectTypes.map(function(e){return{val:e,display:m.default[e].displayName}})},columns:function(){return m.default[this.mode]?m.default[this.mode].columns:[]},currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentSpaceProperty:{get:function(){return this.$store.getters["application/currentSpaceProperty"]},set:function(e){this.$store.dispatch("application/setCurrentSpacePropertyId",{id:e.id})}},currentComponentDef:{get:function(){return this.$store.getters["application/currentComponentDefinition"]},set:function(e){this.$store.dispatch("application/setCurrentComponentDefinitionId",{id:e.id})}},currentComponentInstance:{get:function(){return this.$store.getters["application/currentComponentInstance"]},set:function(e){this.$store.dispatch("application/setCurrentComponentInstanceId",{id:e.id})}},selectedObject:{get:function(){return this[this.keyForCurrentMode]},set:function(e){this[this.keyForCurrentMode]=e}},keyForCurrentMode:function(){return i(this.mode)}},(0,p.mapState)({stories:function(e){return e.models.stories},modeTab:function(e){return e.application.currentSelections.modeTab}}),{spaces:function(){return this.currentStory.spaces},shading:function(){return this.currentStory.shading},images:function(){return this.currentStory.images},windows:function(){return this.currentStory.windows},daylighting_controls:function(){return _.flatMap(this.currentStory.spaces,function(e){return e.daylighting_controls})},rows:function(){return _.includes(["stories","spaces","shading","images","windows","daylighting_controls"],this.mode)?this[this.mode]:this.$store.state.models.library[this.mode]},componentInstanceMode:function(){return _.includes(["windows","daylighting_controls"],this.mode)},addRowPermitted:function(){return"stories"!==this.mode||"floorplan"===this.modeTab},renderByMode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}}}),watch:{rows:function(){this.selectedObject&&_.includes(_.map(this.rows,"id"),this.selectedObject.id)||!(this.rows.length>0)||(this.selectedObject=this.rows[0])},mode:function(e,t){"currentSpaceProperty"===i(e)?this.renderByMode=this.mode:"currentSpaceProperty"===i(t)&&(this.renderByMode="spaces")}},methods:{hotkeyAddNew:function(e){this.addNewOnHotkey&&this.addRowPermitted&&e.ctrlKey&&"a"===e.key&&this.createObject()},changeMode:function(e){if(!_.includes(this.objectTypes,e))throw new Error("Unable to find "+e+" in options "+(0,u.default)(this.objectTypes));this.$emit("changeMode",e)},modifyObject:function(e,t,n){if(this.componentInstanceMode)return this.modifyComponentInstance(e,t,n);var r=_.find(this.rows,{id:e}),i=w.default.setValueForKey(r,this.$store,this.mode,t,n);i.success||window.eventBus.$emit("error",i.error)},modifyComponentInstance:function(e,t,n){if("windows"===this.mode)this.$store.dispatch("models/modifyWindow",{id:e,key:t,value:n,story_id:this.currentStory.id});else{if("daylighting_controls"!==this.mode)throw new Error('unrecognized component mode "'+this.mode+'"');this.$store.dispatch("models/modifyDaylightingControl",{id:e,key:t,value:n,story_id:this.currentStory.id})}},createObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.duplicate,n=void 0!==t&&t;if(n){var r=this.currentStory.floor_to_ceiling_height;this.$store.dispatch("models/initStory"),this.$store.dispatch("models/updateStoryWithData",{story:this.currentStory,floor_to_ceiling_height:r}),this.$store.dispatch("application/setCurrentTool",{tool:"Rectangle"})}else switch(this.mode){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"images":window.eventBus.$emit("uploadImage");break;case"windows":case"daylighting_controls":window.eventBus.$emit("error","Create components by clicking where you would like it to be");break;default:this.$store.dispatch("models/createObjectWithType",{type:this.mode})}this.selectLatest()},duplicateRow:function(e){var t=this;return(0,d.default)(a.default.mark(function n(){var r,i;return a.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.stories.find(function(e){return e.id===t.selectedObject.id})){n.next=4;break}t.cloneStory(t.selectedObject),n.next=11;break;case 4:return t.createObject(),n.next=7,t.$nextTick();case 7:for(r=e.name;_.find(t.rows,{name:r});)i=r.match(/\((\d+)\)/),r=i?r.slice(0,i.index)+"("+(+i[1]+1)+")":r+" (2)";t.modifyObject(t.selectedObject.id,"name",r),t.columns.forEach(function(n){var r=n.name,i=n.readonly,o=n.private;"id"!==r&&"name"!==r&&"color"!==r&&(i||o||t.selectedObject[r]!==e[r]&&t.modifyObject(t.selectedObject.id,r,e[r]))});case 11:case"end":return n.stop()}},n,t)}))()},selectLatest:function(){var e=_.maxBy(this.rows,function(e){return+e.id});e&&(this.selectedObject=e)},cloneStory:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id});var t=(0,E.replaceIdsForCloning)(this.currentStoryGeom),n=t.clonedGeometry,r=t.idMap;this.createObject({duplicate:!0});var i=w.default.replaceIdsUpdateInfoForCloning(e,r,this.state,this.currentStory),o=i.clonedStory;this.destroyDuplicateSpaces(),this.$store.dispatch("models/cloneStory",o),this.$store.dispatch("geometry/cloneStoryGeometry",n);for(var a=this.currentStory.shading.length-1;a>=0;a--)this.$store.dispatch("models/destroyShading",{shading:this.currentStory.shading[a],story:this.currentStory})},destroyDuplicateSpaces:function(){this.$store.dispatch("models/destroySpace",{space:this.currentStory.spaces[0],story:this.currentStory})},destroyObject:function(e){var t=this;switch(this.mode){case"stories":return void this.$store.dispatch("models/destroyStory",{story:e});case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.$store.state.models.stories.find(function(n){return n[t.mode].find(function(t){return t.id===e.id})})});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.$store.state.models.stories.find(function(n){return n[t.mode].find(function(t){return t.id===e.id})})});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.$store.state.models.stories.find(function(n){return n[t.mode].find(function(t){return t.id===e.id})})});break;case"window_definitions":this.$store.dispatch("models/destroyWindowDef",{object:e});break;case"daylighting_control_definitions":this.$store.dispatch("models/destroyDaylightingControlDef",{object:e});break;case"door_definitions":this.$store.dispatch("models/destroyDoorDef",{object:e});break;case"windows":this.$store.dispatch("models/destroyWindow",{story_id:this.currentStory.id,object:e});break;case"daylighting_controls":this.$store.dispatch("models/destroyDaylightingControl",{story_id:this.currentStory.id,object:e});break;default:this.$store.dispatch("models/destroyObject",{object:e})}}},components:{EditableSelectList:v.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(211),o=r(i),a=n(311),s=r(a);t.default={name:"LibrarySelect",props:["rows","selectedItemId","selectItem","destroyItem","duplicateRow"],components:{Delete:o.default,Copy:s.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(894),o=r(i);t.default={name:"ColorPickerModal",props:["value"],computed:{color:{get:function(){return this.value},set:function(e){this.$emit("change",e)}}},mounted:function(){document.addEventListener("keydown",this.closeOnEsc)},beforeDestroy:function(){document.removeEventListener("keydown",this.closeOnEsc)},methods:{closeOnEsc:function(e){27===e.keyCode&&this.$emit("close")}},components:{Swatches:o.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(215),s=r(a),d=n(825),l=r(d);t.default={name:"MapModal",data:function(){return{address:""}},computed:{online:function(){return!window.api||!window.api.config||window.api.config.online},mapEnabled:{get:function(){return this.$store.state.project.map.enabled},set:function(e){this.$store.dispatch("project/setMapEnabled",{enabled:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}}},methods:{importFloorplanAsFile:function(e){var t=this,n=e.target.files[0],r=new FileReader;r.addEventListener("load",function(){t.importFloorplan(r.result)},!1),n&&r.readAsText(n)},importFloorplan:function(e){this.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)}),this.$emit("close")}},components:(0,o.default)({},s.default,{NonChromeWarning:l.default})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ModalBase",props:["title"],methods:{close:function(){this.$emit("close")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=r(i),a=n(310),s=r(a);t.default={name:"SaveAsModal",props:[],mounted:function(){this.$refs.downloadName.focus()},computed:{enable3DPreview:{get:function(){return this.$store.state.project.preview3D.enabled}}},data:function(){return{exportType:"floorspace"}},methods:{downloadFile:function(){var e=document.createElement("a"),t=(0,o.default)(this.$store.getters.exportData);this.$emit("close");var n=t;"floorspace"!==this.exportType&&(n=Module.floorplanToThreeJS(t,!1));var r=new Blob([n],{type:"text/json;charset=utf-8"});e.setAttribute("href",URL.createObjectURL(r)),e.setAttribute("download",this.$refs.downloadName.value+".json"),e.click(),console.log("exported data for: "+this.exportType)}},components:{ModalBase:s.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(29),s=n(310),d=r(s),l=n(817),u=r(l),c=n(814),f=r(c);t.default={name:"Settings",computed:(0,o.default)({},(0,a.mapState)({ground:function(e){return e.project.ground},mapEnabled:function(e){return e.project.map.enabled}}),{floor_offset:{get:function(){return this.ground.floor_offset},set:function(e){this.$store.dispatch("project/modifyGround",{key:"floor_offset",val:e})}},azimuth_angle:{get:function(){return this.ground.azimuth_angle},set:function(e){this.$store.dispatch("project/modifyGround",{key:"azimuth_angle",val:e})}},tilt_slope:{get:function(){return this.ground.tilt_slope},set:function(e){this.$store.dispatch("project/modifyGround",{key:"tilt_slope",val:e})}},northAxis:{get:function(){return this.$store.state.project.north_axis+"°"},set:function(e){this.$store.dispatch("project/setNorthAxis",{north_axis:e})}}}),components:{ModalBase:d.default,Info:u.default,ExpandableDrawer:f.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(3),s=r(a),d=n(29),l=(n(109),n(80)),u=(r(l),n(53)),c=(r(u),n(214)),f=r(c),p=n(819),h=r(p),m=n(309);r(m);t.default={name:"navigation",data:function(){return{libraryExpanded:!1}},computed:(0,o.default)({},(0,d.mapGetters)({currentComponent:"application/currentComponent"}),(0,d.mapState)({modeTab:function(e){return e.application.currentSelections.modeTab}}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e?e.id:null})}},spaces:function(){return this.currentStory.spaces},shading:function(){return this.currentStory.shading},images:function(){return this.currentStory.images},objectTypesForTab:function(){switch(this.modeTab){case"floorplan":return["spaces","shading","images"];case"shading":return["shading"];case"components":return["window_definitions","daylighting_control_definitions","door_definitions"];case"assign":return["building_units","thermal_zones","space_types","construction_sets","pitched_roofs"]}},mode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}},subselectionType:{get:function(){return this.$store.state.application.currentSelections.subselectionType},set:function(e){this.$store.dispatch("application/setCurrentSubselectionType",{subselectionType:e})}}}),methods:{resetSize:function(){this.libraryExpanded},setWidthForOpenLibrary:function(){this.$emit("expanded",!!this.libraryExpanded),f.default.$emit("resize")}},watch:{libraryExpanded:function(){this.setWidthForOpenLibrary()},objectTypesForTab:function(e){s.default.includes(e,this.subselectionType)||("assign"===this.modeTab?this.subselectionType="thermal_zones":this.subselectionType=e[0])}},components:{Library:h.default}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={computed:{isChrome:function(){var e=window.chrome||window.qt,t=window.navigator,n=t.vendor,r=t.userAgent.indexOf("OPR")>-1,i=t.userAgent.indexOf("Edge")>-1,o=t.userAgent.match("CriOS");return!o&&(null!==e&&"undefined"!=typeof e&&"Google Inc."===n&&r===!1&&i===!1)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i);t.default={name:"PrettySelect",props:["options","value","label","disabled"],computed:{normalizedOpts:function(){if(o.default.isArray(this.options)){if(!this.options.length)return[];if(o.default.has(this.options[0],"val")&&o.default.has(this.options[0],"display"))return this.options;if(o.default.isString(this.options[0]))return this.options.map(function(e){return{val:e,display:e}})}return console.warn("unrecognized options structure",this.options),this.options}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(80),o=n(141),a=r(o);t.default={computed:{renderableProperties:function(){return["spaces","building_units","thermal_zones","space_types","construction_sets","pitched_roofs"]},renderableOptions:function(){
return this.renderableProperties.map(function(e){return{display:(0,i.displayNameForMode)(e),val:e}})},currentMode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}}},components:{PrettySelect:a.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=(r(i),n(301)),a=n(30),s=n(3);r(s);t.default={name:"TextureSelect",props:["value","label","disabled"],data:function(){return{open:!1}},computed:{textures:function(){return a.textures}},methods:{choose:function(e){this.$emit("change",e),this.open=!1},ulStyle:function(){var e=this.$el&&this.$el.getBoundingClientRect();return e?{left:e.left+"px",top:e.top+e.height-17+"px",width:e.width+"px"}:{}}},components:{Portal:o.Portal}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),o=r(i),a=n(218),s=r(a),d=n(54),l=r(d),u=n(3),c=r(u),f=n(30);t.default={name:"Textures",data:function(){return{modifiers:{"-highlight":"green","-selected":"green","-facing-selection":"blue","":"#222"}}},mounted:function(){this.loadCssStyles(),this.checkTexturesList()},methods:{loadCssStyles:function(){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=this.styles:e.appendChild(document.createTextNode(this.styles)),document.head.appendChild(e)},checkTexturesList:function(){var e=c.default.difference(f.textures,c.default.map(this.patterns,"id")),t=c.default.difference(c.default.map(this.patterns,"id"),f.textures);e.length&&console.error("[warning]: Textures were added to Textures.vue, but not to appconfig.js.\n  This will cause those textures not to be used. The following are missing from appconfig:\n  "+e),t.length&&console.error("[warning]: Textures were added to appconfig.js, but not to Textures.vue.\n  Those textures will not be visible. The following are missing from Textures.vue:\n  "+t)}},computed:{modSuffixes:function(){return c.default.filter((0,l.default)(this.modifiers),c.default.identity)},patterns:function(){var e=this;return c.default.reject((0,s.default)(this.$el.querySelectorAll("pattern")),function(t){return e.modSuffixes.some(function(e){return c.default.endsWith(t.getAttribute("id"),e)})})},cssStyles:function(){return this.patterns.map(function(e){var t=e.getAttribute("id"),n=e.getAttribute("width"),r=e.getAttribute("height"),i=e.innerHTML,o="<svg xmlns='http://www.w3.org/2000/svg' width='"+n+"' height='"+r+"'>"+i+"</svg>";return"\n            .texture-"+t+' {\n              background-image: url("data:image/svg+xml;base64,'+btoa(o)+'");\n              background-repeat: repeat;\n            }'})},windowStyles:function(){return c.default.map(this.patterns,function(e){return e.getAttribute("id")}).map(function(e){return'\n            #grid svg .polygons .window .hatch[data-texture="'+e+'"] {\n              fill: url(#'+e+');\n            }\n            #grid svg .polygons .window .facing-selection .hatch[data-texture="'+e+'"] {\n              fill: url(#'+e+'-facing-selection);\n            }\n            #grid svg .polygons .window .selected .hatch[data-texture="'+e+'"] {\n              fill: url(#'+e+'-selected);\n            }\n            #grid svg .highlight .window .hatch[data-texture="'+e+'"] {\n              fill: url(#'+e+"-highlight);\n            }\n          "})},styles:function(){return[].concat((0,o.default)(this.cssStyles),(0,o.default)(this.windowStyles)).join("\n")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(34),s=r(a),d=n(29),l=n(822),u=r(l),c=n(823),f=r(c),p=n(141),h=r(p),m=n(80),g=r(m),v=n(215),y=r(v),w=n(826),E=r(w),T=n(810),x=r(T),b=n(30),S=r(b);t.default={name:"toolbar",data:function(){return{componentTypes:{daylighting_control_definitions:"Daylighting Control Definitions",window_definitions:"Window Definitions"},showSaveModal:!1,visibleComponentType:null,showGroundPropsModal:!1}},methods:{setImageTool:function(){this.tool="Image",0===this.currentStory.images.length&&window.eventBus.$emit("uploadImage")},zoomToFit:function(){window.eventBus.$emit("zoomToFit")},exportData:function(){return this.showSaveModal=!0,this.$store.getters.exportData},open3DPreviewer:function(){localStorage.setItem("floorplan3DExport",(0,s.default)(application.$store.getters.exportData)),window.open("3DViewer")},importDataAsFile:function(e,t){var n=this,r=e.target.files[0],i=new FileReader;i.addEventListener("load",function(){var e=void 0;try{e=JSON.parse(i.result)}catch(e){return void window.eventBus.$emit("error","Invalid JSON")}"library"===t?n.$store.dispatch("importLibrary",{data:e}):"floorplan"===t&&n.$store.dispatch("importFloorplan",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:e})},!1),r&&i.readAsText(r)},undo:function(){this.$store.timetravel.undo()},redo:function(){this.$store.timetravel.redo()},updateUnits:function(e){this.allowSettingUnits?this.rwUnits=e:window.eventBus.$emit("error","Units must be set before any geometry is drawn.")},displayNameForMode:function(e){return g.default.displayNameForMode(e)}},computed:(0,o.default)({latestCreatedCompId:function(){return _.chain(this.allComponents).map("defs").flatten().map("id").map(Number).max().value()+""},allComponents:function(){var e=this;return b.componentTypes.map(function(t){return{defs:e.$store.state.models.library[t],name:S.default.modes[t],type:t}})},currentComponentType:function(){return this.currentComponent.type},currentComponentDefinition:function(){return this.currentComponent.definition}},(0,d.mapGetters)({currentSpaceProperty:"application/currentSpaceProperty",currentStory:"application/currentStory"}),(0,d.mapState)({mapEnabled:function(e){return e.project.map.enabled},timetravelInitialized:function(e){return e.timetravelInitialized},showImportExport:function(e){return e.project.show_import_export},allowSettingUnits:function(e){return!1}}),{currentSubselectionType:{get:function(){return this.$store.state.application.currentSelections.subselectionType},set:function(e){this.$store.dispatch("application/setCurrentSubselectionType",{subselectionType:e})}},enable3DPreview:{get:function(){return this.$store.state.project.preview3D.enabled}},availableTools:function(){var e=[];switch(this.modeTab){case"floorplan":e=["Rectangle","Polygon","Eraser","Select","Image"];break;case"shading":e=["Rectangle","Polygon","Eraser","Select"];break;case"components":e=["Place Component"];break;case"assign":e=["Apply Property"]}return!this.previousStoryVisible||"floorplan"!==this.modeTab&&"shading"!==this.currentMode||e.push("Fill"),e},currentMode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}},modeTab:{get:function(){return this.$store.state.application.currentSelections.modeTab},set:function(e){this.$store.dispatch("application/setCurrentModeTab",{modeTab:e})}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},mapVisible:{get:function(){return this.$store.state.project.map.visible},set:function(e){this.$store.dispatch("project/setMapVisible",{visible:e})}},previousStoryVisible:{get:function(){return this.$store.state.project.previous_story.visible},set:function(e){this.$store.dispatch("project/setPreviousStoryVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},spacing:{get:function(){return this.$store.state.project.grid.spacing},set:function(e){this.$store.dispatch("project/setSpacing",{spacing:e})}},currentComponent:{get:function(){return this.$store.getters["application/currentComponent"]},set:function(e){e&&e.definition&&e.definition.id&&this.$store.dispatch("application/setCurrentComponentDefinitionId",{id:e.definition.id})}},rwUnits:{get:function(){return"ip"===this.$store.state.project.config.units?"ft":"m"},set:function(e){this.$store.dispatch("project/setUnits",{units:"ft"===e?"ip":"si"})}},snapMode:{get:function(){return this.$store.state.application.currentSelections.snapMode},set:function(e){this.$store.dispatch("application/setCurrentSnapMode",{snapMode:e})}}}),watch:{modeTab:function(){"assign"===this.modeTab&&this.currentSpaceProperty?this.currentMode=this.currentSpaceProperty.type:this.currentMode="spaces"},tool:function(e){this.availableTools.indexOf(e)===-1&&"Map"!==e&&(this.tool=this.availableTools[0]),"Image"===this.tool&&"images"!==this.currentSubselectionType?this.currentSubselectionType="images":"Image"!==this.tool&&"images"===this.currentSubselectionType&&(this.currentSubselectionType="spaces")},availableTools:function(){_.includes(this.availableTools,this.tool)||(this.tool=this.availableTools[0])},currentSubselectionType:function(e){"images"===e&&"Image"!==this.tool?this.tool="Image":"images"!==e&&"Image"===this.tool&&(this.tool=this.availableTools[0])},latestCreatedCompId:function(){this.$store.dispatch("application/setCurrentComponentDefinitionId",{id:this.latestCreatedCompId})}},components:(0,o.default)({PrettySelect:h.default,SaveAsModal:u.default,Settings:f.default,RenderByDropdown:E.default,ComponentInstanceEditBar:x.default},y.default)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.xScale,n=e.yScale,r=e.edge,i=e.offset,o=(0,D.unitPerpVector)(r.start,r.end),a=o.dx,s=o.dy;return[[t(r.start.x)+i*a,n(r.start.y)+i*s],[t(r.start.x)-i*a,n(r.start.y)-i*s],[t(r.end.x)-i*a,n(r.end.y)-i*s],[t(r.end.x)+i*a,n(r.end.y)+i*s],[t(r.start.x)+i*a,n(r.start.y)+i*s]]}function a(e,t,n,r){b.select(n).selectAll(".single-window, .repeating-windows").remove();var i=b.select(n).selectAll(".window-wall-ratio").data([r]),a=i.enter().append("g").attr("class","window-wall-ratio");a.append("path").attr("class","hatch");var s=b.line(),d=i.merge(a);d.classed("selected",function(e){return e.selected}),d.classed("facing-selection",function(e){return e.facingSelection}),d.select(".hatch").attr("d",s(o({edge:r,xScale:e,yScale:t,offset:8}))).attr("data-texture",r.texture||"diagonal-stripes-4")}function s(e,t,n,r){var i=b.select(n).selectAll(".door").data([r]),a=i.enter().append("g").attr("class","door");a.append("path").attr("class","hatch");var s=b.line(),d=i.merge(a);d.exit().remove(),d.classed("selected",function(e){return e.selected}),d.classed("facing-selection",function(e){return e.facingSelection}),d.select(".hatch").attr("d",s(o({edge:r,xScale:e,yScale:t,offset:8}))).attr("data-texture",r.texture)}function d(e,t,n,r){b.select(n).selectAll(".window-wall-ratio, .repeating-windows").remove();var i=b.select(n).selectAll(".single-window").data([r]),o=i.enter().append("g").attr("class","single-window");o.append("line").attr("class","pane"),o.append("circle"),o.append("line").attr("class","start-linecap"),o.append("line").attr("class","end-linecap");var a=i.merge(o);a.classed("selected",function(e){return e.selected}),a.classed("facing-selection",function(e){return e.facingSelection}),a.select("line.pane").attr("x1",function(t){return e(t.start.x)}).attr("y1",function(e){return t(e.start.y)}).attr("x2",function(t){return e(t.end.x)}).attr("y2",function(e){return t(e.end.y)}),a.each(function(n){var r=(0,D.unitPerpVector)(n.start,n.end),i=r.dx,o=r.dy,a=6,s=b.select(this);s.select(".start-linecap").attr("x1",e(n.start.x)+a*i).attr("y1",t(n.start.y)+a*o).attr("x2",e(n.start.x)-a*i).attr("y2",t(n.start.y)-a*o),s.select(".end-linecap").attr("x1",e(n.end.x)+a*i).attr("y1",t(n.end.y)+a*o).attr("x2",e(n.end.x)-a*i).attr("y2",t(n.end.y)-a*o),(n.selected||n.facingSelection)&&s.raise()}),a.select("circle").attr("cx",function(t){return e(t.center.x)}).attr("cy",function(e){return t(e.center.y)}).attr("r","2")}function l(e,t,n,r){var i=r.start,a=r.end,s=r.width,l=r.spacing;b.select(n).selectAll(".window-wall-ratio, .single-window").remove();var u=b.select(n).selectAll(".repeating-windows").data([r]),c=u.enter().append("g").attr("class","repeating-windows");c.append("path").attr("class","box"),c.append("g").attr("class","sub-windows");var f=b.line(),p=u.merge(c);p.classed("selected",function(e){return e.selected}),p.classed("facing-selection",function(e){return e.facingSelection}),p.select(".box").attr("d",f(o({edge:r,xScale:e,yScale:t,offset:6})));var h=(0,D.unitVector)(i,a),m=(0,D.repeatingWindowCenters)({start:i,end:a,spacing:l,width:s}),g=h.dx*s,v=h.dy*s,y=m.map(function(e){return(0,T.default)({},r,{center:e,start:{x:e.x-g/2,y:e.y-v/2},end:{x:e.x+g/2,y:e.y+v/2}})}),_=p.select(".sub-windows").selectAll(".sub-window").data(y);_.exit().remove(),_.merge(_.enter().append("g").attr("class","sub-window")).each(function(n){d(e,t,this,n)})}function u(){function e(e){e.exit().remove(),e.merge(e.enter().append("g").attr("class","window")).each(function(e){if("door"===e.windowOrDoor)s(t,n,this,e);else if("Single Window"===e.window_definition_mode)d(t,n,this,e);else if("Window to Wall Ratio"===e.window_definition_mode)a(t,n,this,e);else{if("Repeating Windows"!==e.window_definition_mode)throw new Error("unexpected window_definition_mode: "+e.window_definition_mode);l(t,n,this,e)}})}var t=M.default.identity,n=M.default.identity;return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e}function c(){function e(e){e.exit().remove();var o=e.enter().append("g").attr("class","distance-measure").attr("transform",function(e){var t=(0,D.unitPerpVector)(e.start,e.end),n=t.dx,i=t.dy,o=r*n,a=r*i;return"translate("+o+", "+a+")"});o.append("line"),o.append("text"),o.append("path").attr("class","start"),o.append("path").attr("class","end");var a=e.merge(o);a.select("text").attr("x",function(e){return(1-i)*t(e.start.x)+i*t(e.end.x)}).attr("y",function(e){return(1-i)*n(e.start.y)+i*n(e.end.y)}).attr("dominant-baseline","text-before-edge").attrs(function(e){var t=(0,D.unitPerpVector)(e.start,e.end),n=t.dx,r=t.dy,i=4;return{dx:n*i,dy:r*i}}).text(function(e){var t=(0,D.distanceBetweenPoints)(e.start,e.end),n=Math.round(100*t)/100;return""+n}),a.select("line").attrs(function(e){var r=(0,D.unitVector)(e.start,e.end),i=r.dx,o=r.dy,a=11.5,s=i*a,d=o*a;return{x1:t(e.start.x)+s,y1:n(e.start.y)-d,x2:t(e.end.x)-s,y2:n(e.end.y)+d}});var s="M -6,-2 V 2 L0,0 Z",d=function(e){var t=180*(0,D.edgeDirection)(e)/Math.PI,n=e.start.x===e.end.x?e.start.y>e.end.y?0:180:e.start.x>e.end.x?0:180;return n-t};a.select("path.start").attr("transform",function(e){return"translate("+t(e.start.x)+", "+n(e.start.y)+") scale(2) rotate("+d(e)+")"}).attr("d",s),a.select("path.end").attr("transform",function(e){return"translate("+t(e.end.x)+", "+n(e.end.y)+") scale(2) rotate("+(180+d(e))+")"}).attr("d",s)}var t=M.default.identity,n=M.default.identity,r=20,i=1;return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e.lineOffset=function(t){return arguments.length?(r=t,e):r},e.labelPosition=function(t){return arguments.length?((t<0||t>1)&&console.warn("Expected labelPosition to be in [0, 1] (got "+t+")"),i=t,e):i},e}function f(){function e(e){r.xScale(t).yScale(n),e.exit().remove(),e.merge(e.enter().append("g").classed("window-guideline component-guideline",!0)).selectAll(".distance-measure").data(e.merge(e.enter()).data().map(function(e){return{start:e.edge_start,end:e.center}})).filter(function(e){return"Single Window"===e.window_definition_mode}).call(r)}var t=M.default.identity,n=M.default.identity,r=c();return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e}function p(){function e(e){e.exit().remove();var r=e.enter().append("g").attr("class","daylighting-control");r.append("circle").attr("class","bg"),r.append("path").attr("class","quadrants");var i=e.merge(r);i.classed("selected",function(e){return e.selected}),i.classed("facing-selection",function(e){return e.facingSelection}),i.select("circle.bg").attr("cx",function(e){return t(e.x)}).attr("cy",function(e){return n(e.y)}).attr("r",10),i.select("path.quadrants").attr("d",function(e){var r=t(e.x),i=n(e.y),o=10;return"M"+r+" "+i+" L"+(r+o)+" "+i+" A "+o+" "+o+" 0 0 1 "+r+" "+(i+o)+" L "+r+" "+(i-o)+" A "+o+" "+o+" 0 0 0 "+(r-o)+" "+i+" Z"}),i.each(function(e){(e.selected||e.facingSelection)&&b.select(this).raise()})}var t=M.default.identity,n=M.default.identity;return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e}function h(){function e(e){r.xScale(t).yScale(n),e.exit().remove();var i=e.enter().append("g").classed("daylighting-control-guideline component-guideline",!0),o=M.default.flatMap(e.merge(e.enter()).data(),function(e){var t=(0,D.unitVector)(e.nearestEdge.v1,e.nearestEdge.v2),n={start:e.loc,end:e.nearestEdge.proj},r=(n.end.x-n.start.x)*t.dx+(n.end.y-n.start.y)*t.dy,i={start:n.start,end:{x:n.start.x+r*t.dx,y:n.start.y+r*t.dy}},o={start:i.end,end:n.end};return[n,o,i].filter(function(e){var t=e.start,n=e.end;return(0,D.distanceBetweenPoints)(t,n)>.01})}),a=e.merge(i);a.selectAll(".distance-measure").data(o).call(r)}var t=M.default.identity,n=M.default.identity,r=c().lineOffset(0).labelPosition(.5);return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e}function m(e,t,n){var r=Math.sqrt(e*e+t*t),i=e/r,o=t/r,a=Math.PI*n/180,s={x:i*Math.cos(a)-o*Math.sin(a),y:i*Math.sin(a)+o*Math.cos(a)};return M.default.minBy(R,function(e){return(0,D.distanceBetweenPoints)(e.vec,s)}).cursor}function g(){function e(e){var o=(t(100)-t(0))/100,a=void 0,s=void 0,d=void 0,l=void 0,u=function(e){var t=d-a,n=l-s,r=-1*e.r*Math.PI/180;return{dx:t*Math.cos(r)-n*Math.sin(r),dy:t*Math.sin(r)+n*Math.cos(r)}},c=b.drag().on("start",function(){b.event.sourceEvent.stopPropagation();var e=b.mouse(document.querySelector("#grid svg")),t=(0,w.default)(e,2);a=t[0],s=t[1],d=l=void 0}).on("drag",function(e){var t=b.mouse(document.querySelector("#grid svg")),n=(0,w.default)(t,2);d=n[0],l=n[1];var r=u(e),i=r.dx,o=r.dy;b.select(this).attr("transform","translate("+i+", "+o+")")}).on("end",function(e){if("undefined"!=typeof d){var t=u(e);t.dx,t.dy;r({image:e,x:e.x+(d-a)/o,y:e.y-(l-s)/o})}}),f=function(e){var r={x:t(e.x),y:n(e.y)},i={x:r.x+(r.x-a),y:r.y+(r.y-s)},o={x:a-i.x,y:s-i.y},u=(0,D.distanceBetweenPoints)({x:d,y:l},i),c=(0,D.distanceBetweenPoints)({x:a,y:s},i),f={x:u*o.x/c,y:u*o.y/c},p=u/c,h={x:(f.x-o.x)/2,y:(f.y-o.y)/2},m=b.zoomIdentity.translate(h.x,h.y).scale(p);return m},p=b.drag().on("start",function(){b.event.sourceEvent.stopPropagation();var e=b.mouse(document.querySelector("#grid svg")),t=(0,w.default)(e,2);a=t[0],s=t[1],d=l=void 0}).on("drag",function(e){var t=b.mouse(document.querySelector("#grid svg")),n=(0,w.default)(t,2);d=n[0],l=n[1],b.select(this.parentNode.parentNode).attr("transform",f(e))}).on("end",function(e){if("undefined"!=typeof d){var t=f(e);r({image:e,width:e.width*t.k,height:e.height*t.k,x:e.x+t.x/o,y:e.y-t.y/o})}}),h=function(e){var r={x:t(e.x),y:n(e.y)},i=(0,D.edgeDirection)({start:r,end:{x:a,y:s}}),o=(0,D.edgeDirection)({start:r,end:{x:d,y:l}});return 180*(o-i)/Math.PI+180*(t(e.x)>d!=t(e.x)>a)},g=b.drag().on("start",function(){b.event.sourceEvent.stopPropagation();var e=b.mouse(document.querySelector("#grid svg")),t=(0,w.default)(e,2);a=t[0],s=t[1],d=l=void 0}).on("drag",function(e){var t=b.mouse(document.querySelector("#grid svg")),n=(0,w.default)(t,2);d=n[0],l=n[1],b.select(this.parentNode.parentNode).attr("transform","rotate("+h(e)+")")}).on("end",function(e){if("undefined"!=typeof d){var t=h(e);r({image:e,r:t+e.r})}});e.exit().remove();var v=e.enter().append("g").attr("class","image-group"),y=v.append("g").attr("class","moveable-wrapper");y.append("image");var _=y.append("g").attr("class","controls");_.append("line").attr("class","rotation-to-center"),_.append("circle").attr("class","rotation-handle"),["tl","tr","bl","br"].forEach(function(e){return _.append("circle").attr("class","corner "+e)});var E=e.merge(v);E.attr("transform",function(e){return"translate("+t(e.x)+", "+n(e.y)+") rotate("+e.r+")"}),E.select("image").attr("x",function(e){return-1*o*e.width/2}).attr("y",function(e){return-1*o*e.height/2}).attr("width",function(e){return o*e.width}).attr("height",function(e){return o*e.height}).attr("opacity",function(e){return e.opacity}).attr("xlink:href",function(e){return e.src}),E.select(".moveable-wrapper").attr("transform","translate(0,0)").style("cursor",function(e){return e.current?"move":e.clickable?"pointer":null}).style("pointer-events",function(e){return e.current?"auto":"none"}),E.select(".controls").attr("display",function(e){return e.current?"":"none"}),E.each(function(e){var t=b.select(this);e.clickable?t.on("click",function(e){b.event.stopPropagation(),i(e)}):t.on("click",null),e.current?(t.select(".moveable-wrapper").call(c),t.select(".controls .center").attr("cx",0).attr("cy",0).attr("r",3),t.select(".controls .rotation-handle").attr("cx",0).attr("cy",o*e.height*.7).attr("r",5).style("cursor",P).call(g),t.select(".controls .rotation-to-center").attr("x1",0).attr("y1",o*e.height/2).attr("x2",0).attr("y2",o*e.height*.7-5),M.default.forIn({tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1]},function(n,r){var i=(0,w.default)(n,2),a=i[0],s=i[1];t.select(".controls ."+r).attr("cx",a*o*e.width/2).attr("cy",s*o*e.height/2).attr("r",5).style("cursor",m(a,s,e.r)).call(p)})):t.select(".moveable-wrapper, .rotation-handle, .corner").on(".drag",null)})}var t=M.default.identity,n=M.default.identity,r=M.default.identity,i=M.default.identity;return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e.updateImage=function(t){return arguments.length?(r=t,e):r},e.selectImage=function(t){return arguments.length?(i=t,e):i},e}function v(){function e(e){e.exit().remove();var t=e.enter().append("path").attr("class","wall"),n=e.merge(t);n.attr("d",function(e){return r([e.start,e.end])}).attr("class",function(e){return"wall "+(e.interior?"interior":"exterior")}).attr("data-edge-id",function(e){return e.id})}var t=M.default.identity,n=M.default.identity,r=b.line().x(function(e){return t(e.x)}).y(function(e){return n(e.y)});return e.xScale=function(n){return arguments.length?(t=n,e):t},e.yScale=function(t){return arguments.length?(n=t,e):n},e}function y(e){var t=e.xScale,n=e.yScale,r=e.updateImage,i=e.selectImage;return{drawWindow:u().xScale(t).yScale(n),drawWindowGuideline:f().xScale(t).yScale(n),drawDaylightingControl:p().xScale(t).yScale(n),drawDaylightingControlGuideline:h().xScale(t).yScale(n),drawImage:g().xScale(t).yScale(n).updateImage(r).selectImage(i),drawWall:v().xScale(t).yScale(n)}}Object.defineProperty(t,"__esModule",{value:!0});var _=n(63),w=i(_),E=n(5),T=i(E);t.drawWindow=u,t.drawWindowGuideline=f,t.drawDaylightingControl=p,t.drawDaylightingControlGuideline=h,t.drawImage=g,t.drawWall=v,t.default=y;var x=n(93),b=r(x);n(720);var S=n(3),M=i(S),D=n(18),O=1/Math.sqrt(2),R=[{vec:{x:1,y:0},cursor:"ew-resize"},{vec:{x:-1,y:0},cursor:"ew-resize"},{vec:{x:0,y:1},cursor:"ns-resize"},{vec:{x:0,y:-1},cursor:"ns-resize"},{vec:{x:O,y:O},cursor:"nwse-resize"},{vec:{x:-1*O,y:-1*O},cursor:"nwse-resize"},{vec:{x:O,y:-1*O},cursor:"nesw-resize"},{vec:{x:-1*O,y:O},cursor:"nesw-resize"}],P="url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="25.6" height="25.6" viewBox="0 0 25.6 25.6">  <path transform="scale(0.5)" d="M25.6,44.8c7.9406,0,14.4-6.4594,14.4-14.4s-6.4594-14.4-14.4-14.4v9.6L9.6,12.8L25.6,0v9.6c11.4688,0,20.8,9.3313,20.8,20.8s-9.3313,20.8-20.8,20.8S4.8,41.8688,4.8,30.4h6.4C11.2,38.3406,17.6594,44.8,25.6,44.8z"/></svg>')+") 12.8 12.8, pointer"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return T.default.range(Math.ceil(e/n)*n,t,n)}function a(e,t){return new y.zoomIdentity.constructor(t.k/e.k,(t.x/t.k-e.x/e.k)*t.k,(t.y/t.k-e.y/e.k)*t.k)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(34),d=i(s),l=n(63),u=i(l),c=n(40),f=i(c),p=n(5),h=i(p),m=n(81),g=i(m),v=n(93),y=r(v),_=n(780),w=i(_),E=n(3),T=i(E),x=n(142),b=n(18),S=i(b),M=n(53),D=i(M);t.default={gridClicked:function(){"Eraser"!==this.currentTool&&("Rectangle"!==this.currentTool&&"Polygon"!==this.currentTool||!this.currentSpace&&!this.currentShading)||this.addPoint(),"Place Component"===this.currentTool&&this.placeOrSelectComponent(),"Image"===this.currentTool&&this.deselectImages(),"Apply Property"===this.currentTool&&this.assignProperty()},assignProperty:function(){var e=this;if(this.currentSpaceProperty){var t=y.mouse(this.$refs.grid),n={x:t[0],y:t[1]},r=this.gridPointToRWU(n),i=this.currentStory.spaces.find(function(t){var n=T.default.find(e.denormalizedGeometry.faces,{id:t.face_id});return!!n&&S.default.pointInFace(r,n.vertices)});i&&this.$store.dispatch("models/updateSpaceWithData",(0,g.default)({space:i},this.spacePropertyKey,this.currentSpaceProperty.id))}},deselectImages:function(){this.$store.dispatch("application/setCurrentSubSelectionId",this.currentStory.spaces[0])},componentToSelect:function(){var e=y.mouse(this.$refs.grid),t={x:e[0],y:e[1]},n=this.gridPointToRWU(t),r=T.default.minBy(this.currentComponentTypeLocs(n),function(e){return(0,b.distanceBetweenPoints)(e,n)}),i=r&&(0,b.distanceBetweenPoints)(r,n);return!r||i>this.spacing/2?null:r},handleKeyDown:function(e){8!==e.keyCode&&46!==e.keyCode||T.default.includes(["input","textarea"],document.activeElement.tagName.toLowerCase())||this.deleteElement()},deleteElement:function(){"components"===this.modeTab&&this.removeSelectedComponent()},removeSelectedComponent:function(){var e=this.currentComponentInstance;if(e){var t={story_id:this.currentStory.id,object:{id:e.id}};"windows"===e.type?this.$store.dispatch("models/destroyWindow",t):"daylighting_controls"===e.type?this.$store.dispatch("models/destroyDaylightingControl",t):"doors"===e.type?this.$store.dispatch("models/destroyDoor",t):console.error("unrecognized component to remove: "+e)}},placeOrSelectComponent:function(){var e=!y.event.shiftKey&&this.componentToSelect();if(e)return void(this.currentComponentInstanceId=e.id);if("daylighting_control_definitions"===this.currentComponentType)this.placeDaylightingControl();else{if("window_definitions"!==this.currentComponentType&&"door_definitions"!==this.currentComponentType)throw new Error("unrecognized componentType: "+this.currentComponentType);this.placeWindowOrDoor()}},highlightComponentToSelect:function(){if(y.event.shiftKey)return null;var e=this.componentToSelect();if(this.componentFacingSelection=e&&e.id,e)if("windows"===e.type||"doors"===e.type)this.highlightWindowGuideline(e);else{if("daylighting_controls"!==e.type)throw new Error("unrecognized componentType: "+this.currentComponentType);this.highlightDaylightingControlGuideline(e)}else;return e},placeWindowOrDoor:function(){var e,t=y.mouse(this.$refs.grid),n={x:t[0],y:t[1]},r=this.gridPointToRWU(n),i=(0,x.snapWindowToEdge)(this.snapMode,this.spaceEdges,r,this.currentComponentDefinition,2*this.spacing,this.spacing),o="window_definitions"===this.currentComponentType?"Window":"Door";if(i){var a=(e={story_id:this.currentStory.id,edge_id:i.edge_id},(0,g.default)(e,o.toLowerCase()+"_definition_id",this.currentComponentDefinition.id),(0,g.default)(e,"alpha",i.alpha),e);this.$store.dispatch("models/create"+o,a)}},raiseOrLowerImages:function(){"Image"===this.currentTool?y.select("#grid svg .images").raise():y.select("#grid svg .images").lower()},placeDaylightingControl:function(){var e=y.mouse(this.$refs.grid),t={x:e[0],y:e[1]},n={x:this.gridToRWU(t.x,"x"),y:this.gridToRWU(t.y,"y")},r=(0,x.snapToVertexWithinFace)(this.snapMode,this.spaceFaces,n,this.spacing);if(r){var i=(0,h.default)({story_id:this.currentStory.id,face_id:r.face_id,daylighting_control_definition_id:this.currentComponentDefinition.id},r);this.$store.dispatch("models/createDaylightingControl",i)}},addPoint:function(){var e=y.mouse(this.$refs.grid),t={x:e[0],y:e[1]},n=this.findSnapTarget(t);if("vertex"===n.type&&n.origin&&"Polygon"===this.currentTool)return void this.savePolygonFace();var r="edge"===n.type?n.projection:n;this.points.push(r),this.drawPoints(),"Eraser"===this.currentTool&&2===this.points.length&&this.eraseRectangularSelection(),"Rectangle"===this.currentTool&&2===this.points.length&&this.saveRectangularFace()},highlightSnapTarget:function(e){if("Eraser"===this.currentTool||"Place Component"===this.currentTool&&this.currentComponentDefinition||("Rectangle"===this.currentTool||"Polygon"===this.currentTool)&&(this.currentSpace||this.currentShading)){this.clearHighlights();var t=void 0;if(y.event instanceof MouseEvent){var n=y.mouse(this.$refs.grid);t={x:n[0],y:n[1]}}else t=this.lastMousePosition;if(t){if("Place Component"===this.currentTool)return void this.highlightComponentToPlaceOrSelect(t);var r=this.findSnapTarget(t),i="edge"===r.type?r.projection:r,o=r.synthetic?r.originalPt:i;this.drawGuideLines(e,i),"vertex"===r.type?y.select("#grid svg").append("ellipse").attr("cx",this.rwuToGrid(o.x,"x")).attr("cy",this.rwuToGrid(o.y,"y")).attr("rx",5).attr("ry",5).classed("highlight",!0).attr("data-transform-plz","").attr("vector-effect","non-scaling-stroke"):y.select("#grid svg").append("ellipse").attr("cx",this.rwuToGrid(o.x,"x")).attr("cy",this.rwuToGrid(o.y,"y")).attr("rx",3).attr("ry",3).classed("gridpoint",!0).attr("data-transform-plz","").attr("vector-effect","non-scaling-stroke"),"edge"===r.type&&"Eraser"!==this.currentTool&&y.select("#grid svg").append("line").attr("x1",this.rwuToGrid(r.v1GridCoords.x,"x")).attr("y1",this.rwuToGrid(r.v1GridCoords.y,"y")).attr("x2",this.rwuToGrid(r.v2GridCoords.x,"x")).attr("y2",this.rwuToGrid(r.v2GridCoords.y,"y")).attr("stroke-width",1).classed("highlight",!0).attr("data-transform-plz","").attr("vector-effect","non-scaling-stroke"),this.lastMousePosition=t}}},clearHighlights:function(){y.selectAll("#grid .highlight, #grid .gridpoint, #grid .guideline").remove(),this.componentFacingSelection=null},clearComponentHighlights:function(){y.selectAll("#grid .highlight, #grid .component-guideline").remove(),this.componentFacingSelection=null},highlightComponentToPlaceOrSelect:function(e){this.highlightComponentToSelect()||this.highlightComponentToPlace(e)},highlightComponentToPlace:function(e){if("window_definitions"===this.currentComponentType)this.highlightWindow(e);else if("daylighting_control_definitions"===this.currentComponentType)this.highlightDaylightingControl(e);else{if("door_definitions"!==this.currentComponentType)throw new Error("unrecognized componentType: "+this.currentComponentType);this.highlightDoor(e)}},highlightWindow:function(e){var t=this.gridPointToRWU(e),n=(0,x.snapWindowToEdge)(this.snapMode,this.spaceEdges,t,this.currentComponentDefinition,2*this.spacing,this.spacing);n&&("Single Window"!==this.currentComponentDefinition.window_definition_mode&&T.default.filter(this.windowCenterLocs(t),{edge_id:n.edge_id}).filter(function(e){return"Single Window"!==e.window_definition_mode}).length||(y.select("#grid svg").append("g").classed("highlight",!0).selectAll(".window").data([(0,h.default)({},n,{window_definition_mode:this.currentComponentDefinition.window_definition_mode,width:this.currentComponentDefinition.width,spacing:this.currentComponentDefinition.window_spacing,texture:this.currentComponentDefinition.texture
})]).call(this.drawWindow),this.highlightWindowGuideline(n)))},highlightDoor:function(e){var t=this.gridPointToRWU(e),n=(0,x.snapWindowToEdge)(this.snapMode,this.spaceEdges,t,this.currentComponentDefinition,2*this.spacing,this.spacing);n&&(y.select("#grid svg").append("g").classed("highlight",!0).selectAll(".window").data([(0,h.default)({},n,{window_definition_mode:null,windowOrDoor:"door",width:this.currentComponentDefinition.width,texture:this.currentComponentDefinition.texture})]).call(this.drawWindow),this.highlightWindowGuideline(n))},highlightWindowGuideline:function(e){y.select("#grid svg").append("g").classed("guideline",!0).selectAll(".window-guideline").data([e]).call(this.drawWindowGuideline)},highlightDaylightingControl:function(e){var t=this.gridPointToRWU(e),n=(0,x.snapToVertexWithinFace)(this.snapMode,this.spaceFaces,t,this.spacing);n&&(y.select("#grid svg").append("g").classed("highlight",!0).selectAll(".daylighting-control").data([n]).call(this.drawDaylightingControl),this.highlightDaylightingControlGuideline(n))},highlightDaylightingControlGuideline:function(e){var t=T.default.find(this.denormalizedGeometry.faces,{id:e.face_id}),n=this.windowsOnFace(t),r=(0,x.findClosestWindow)(n,e)||(0,x.findClosestEdge)(t.edges,e);y.select("#grid svg").append("g").classed("guideline",!0).selectAll(".daylighting-control-guideline").data([{loc:e,nearestEdge:r}]).call(this.drawDaylightingControlGuideline)},drawGuideLines:function(e,t){var n=this;if(this.points.length){this.eraseGuidelines();var r=void 0,i=void 0;"Polygon"===this.currentTool?(r=[t,this.points[this.points.length-1]],i=[r]):"Rectangle"!==this.currentTool&&"Eraser"!==this.currentTool||(r=[this.points[0],{x:t.x,y:this.points[0].y},t,{x:this.points[0].x,y:t.y},this.points[0]],i=[[r[0],r[1]],[r[1],r[2]]]);var o="Polygon"===this.currentTool?[].concat((0,f.default)(this.points),[t,this.points[0]]):r,a=[o,this.points],s=y.select("#grid svg");if(s.selectAll(".guideline-line").append("path").datum(r).attr("fill","none").classed("guideline guideline-line",!0).attr("vector-effect","non-scaling-stroke").attr("data-transform-plz","").attr("d",y.line().x(function(e){return n.rwuToGrid(e.x,"x")}).y(function(e){return n.rwuToGrid(e.y,"y")})).lower(),s.selectAll(".guideline-area").data(a).enter().append("polygon").attr("points",function(e){return e.map(function(e){return[n.rwuToGrid(e.x,"x"),n.rwuToGrid(e.y,"y")].join(",")}).join(" ")}).classed("guideline guideline-area guideLine",!0).attr("vector-effect","non-scaling-stroke").attr("data-transform-plz","").attr("fill",function(){return"Eraser"===n.currentTool?"none":n.currentSpace?n.currentSpace.color:n.currentShading?n.currentShading.color:null}),"Eraser"!==this.currentTool){if(s.selectAll(".guideline-text").data(i).enter().append("text").attr("x",function(e){return n.rwuToGrid(e[0].x,"x")+(n.rwuToGrid(e[1].x,"x")-n.rwuToGrid(e[0].x,"x"))/2}).attr("y",function(e){return n.rwuToGrid(e[0].y,"y")+(n.rwuToGrid(e[1].y,"y")-n.rwuToGrid(e[0].y,"y"))/2}).attr("dx",-1.25*(this.transform.k>1?1:this.transform.k)+"em").attr("data-transform-plz","").text(function(e){var t=n.distanceBetweenPoints(e[0],e[1]);return t?t.toFixed(2):""}).classed("guideline guideline-text guideline-dist",!0).attr("font-family","sans-serif").attr("fill","red").style("font-size","1em"),o.length>3){var d=o.map(function(e){var t=e.x,n=e.y;return{x:t,y:n,X:t,Y:n}}),l=this.polygonLabelPosition(d),u=l.x,c=l.y,p=l.area,h=p?p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"",m=h+" "+("ip"===this.units?"ft":"m")+"²";if(null===u||null===c)return;s.append("text").attr("x",this.rwuToGrid(u,"x")).attr("y",this.rwuToGrid(c,"y")).text(m).classed("guideline guideline-text guideline-area-text guideLine",!0).attr("data-transform-plz","").attr("text-anchor","middle").attr("font-family","sans-serif").attr("fill","red").style("font-size","1em").raise()}y.selectAll(".vertical, .horizontal").lower()}}},eraseGuidelines:function(){y.selectAll("#grid .guideline").remove()},escapeAction:function(e){"Escape"!==e.code&&27!==e.which||(this.points=[],this.clearHighlights(),y.selectAll("#grid .point-path").remove())},savePolygonFace:function(){this.clearHighlights(),y.selectAll("#grid .point-path").remove();var e={points:[].concat((0,f.default)(this.points))};this.currentSpace?e.model_id=this.currentSpace.id:this.currentShading&&(e.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",e),this.points=[]},saveRectangularFace:function(){this.clearHighlights(),y.selectAll("#grid .point-path").remove();var e={};e.points=[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}],this.currentSpace?e.model_id=this.currentSpace.id:this.currentShading&&(e.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",e),this.points=[]},eraseRectangularSelection:function(){this.clearHighlights(),y.selectAll("#grid .point-path").remove();var e={points:[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}]};this.$store.dispatch("geometry/eraseSelection",e),this.points=[]},drawPoints:function(){var e=this;y.selectAll("#grid .point-path").remove();var t=y.select("#grid svg").selectAll("ellipse.point-path").data(this.points);t.merge(t.enter().append("ellipse").attr("class","point-path")).classed("origin",function(e,t){return 0===t}).attr("data-transform-plz","").attr("cx",function(t){return e.rwuToGrid(t.x,"x")}).attr("cy",function(t){return e.rwuToGrid(t.y,"y")}).attr("rx",function(e,t){return 0===t?7:2}).attr("ry",function(e,t){return 0===t?7:2}).attr("vector-effect","non-scaling-stroke").attr("fill",function(e,t){return 0===t?"none":""}),y.select("#grid svg").append("path").attr("class","point-path").datum(this.points).attr("fill","none").attr("vector-effect","non-scaling-stroke").attr("data-transform-plz","").attr("d",y.line().x(function(t){return e.rwuToGrid(t.x,"x")}).y(function(t){return e.rwuToGrid(t.y,"y")})).lower(),y.selectAll(".vertical, .horizontal").lower()},registerDrag:function(){var e=y.select("#grid svg").selectAll("polygon");this.deregisterD3Events(e),"Select"===this.currentTool?this.registerSelectEvents(e):"Fill"===this.currentTool&&this.registerFillEvents(e)},deregisterD3Events:function(e){e.on(".drag",null).on("click",null)},registerFillEvents:function(e){var t=this;e.on("click",function(e){(t.currentSpace||t.currentShading)&&(t.points=[].concat((0,f.default)(e.points)),t.savePolygonFace())})},registerSelectEvents:function(e){var t=this,n=void 0,r=void 0,i=y.drag().on("start",function(e){var i=y.mouse(t.$refs.grid),o=(0,u.default)(i,2);n=o[0],r=o[1],e.previous_story||(t.currentSubSelection=D.default.modelForFace(t.$store.state.models,e.face_id))}).on("drag",function(e){if(!e.previous_story){var i=y.mouse(t.$refs.grid),o=(0,u.default)(i,2),a=o[0],s=o[1];y.select("#poly-"+e.face_id).attr("transform",function(){return"translate("+(a-n)+", "+(s-r)+")"})}}).on("end",function(e){if(!e.previous_story){var i=y.mouse(t.$refs.grid),o=(0,u.default)(i,2),a=o[0],s=o[1];t.$store.dispatch("geometry/moveFaceByOffset",{face_id:e.face_id,dx:t.gridToRWU(a,"x")-t.gridToRWU(n,"x"),dy:t.gridToRWU(s,"y")-t.gridToRWU(r,"y")})}});e.call(i)},drawPolygons:function(){var e=this;this.recalcScales();var t=y.select("#grid svg .polygons").selectAll("g.poly").data(this.polygons,function(e){return e.face_id});t.exit().remove();var n=t.enter().append("g").attr("class","poly");n.append("polygon"),n.append("text").attr("class","polygon-text"),n.append("g").attr("class","windows"),n.append("g").attr("class","doors"),n.append("g").attr("class","daylighting-controls"),t=n.merge(t).classed("current",function(e){return e.current}).classed("previousStory",function(e){return e.previous_story}).classed("poly",!0).attr("data-model-type",function(e){return e.modelType}).attr("id",function(e){return"poly-"+e.face_id}).attr("transform",null),t.select("polygon").attr("id",function(e){return"face-"+e.face_id}).attr("points",function(t){return t.points.map(function(t){return[e.rwuToGrid(t.x,"x"),e.rwuToGrid(t.y,"y")].join(",")}).join(" ")}).attr("fill",function(e){return e.color}).attr("vector-effect","non-scaling-stroke"),t.select("text").attr("id",function(e){return"text-"+e.face_id}).attr("x",function(t){return e.rwuToGrid(t.labelPosition.x,"x")}).attr("y",function(t){return e.rwuToGrid(t.labelPosition.y,"y")}).text(function(e){return e.name}).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").attr("font-family","sans-serif").attr("fill","red").classed("polygon-text",!0),t.select(".windows").selectAll(".window").data(function(e){return e.windows}).call(this.drawWindow),t.select(".doors").selectAll(".window").data(function(e){return e.doors}).call(this.drawWindow),t.select(".daylighting-controls").selectAll(".daylighting-control").data(function(e){return e.daylighting_controls}).call(this.drawDaylightingControl),this.registerDrag(),t.order()},drawWalls:function(){y.select("#grid svg .walls").selectAll(".wall").data(this.walls,function(e){return e.id}).call(this.drawWall)},drawImages:function(){y.select("#grid svg .images").selectAll(".image-group").data(this.images,function(e){return e.id}).call(this.drawImage)},draw:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zoomEnd;this.transformAtLastRender=(0,h.default)({},this.transform),y.selectAll("[data-transform-plz]").attr("transform",""),this.drawPolygons(),this.drawWalls(),this.drawImages(),this.raiseOrLowerImages();var n=t&&this.points.length>0;n&&(this.highlightSnapTarget(),this.drawPoints())},findSnapTarget:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.edge_component,i={x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")};if("grid-strict"===this.snapMode)return this.strictSnapTargets(i)[0];if("grid-verts-edges"===this.snapMode){var o=this.gridPointToRWU(e),a=[].concat((0,f.default)((0,x.vertexSnapTargets)(this.currentStoryGeometry.vertices,this.spacing,o)),(0,f.default)(this.snappingEdgeData(o)),(0,f.default)((0,x.gridSnapTargets)(this.spacing,o)),(0,f.default)(this.polygonOriginPoint())).map(function(e){var t="edge"===e.type?1.4:1;return(0,h.default)({},e,{dist:t*(0,b.distanceBetweenPoints)(e,o),dx:o.x-e.x,dy:o.y-e.y})}),s=T.default.orderBy(a,["dist","origin","type"],["asc","asc","desc"]);return s[0]||(0,h.default)({type:"gridpoint"},o)}if(r){var d=this.snappingEdgeData(i);return d[0]||(0,h.default)({type:"gridpoint"},i)}var l=this.snappingVertexData(i);if(l)return l;var u=this.snappingEdgeData(i);if(u.length>0)return u[0];if(this.gridVisible){var c=this.rwuToGrid(this.spacing+this.min_x,"x"),p=this.rwuToGrid(this.max_y-this.spacing,"y"),m={type:"gridpoint",x:this.round(e.x,c)-.5,y:this.round(e.y,p)-.5};return m.x=Math.abs(e.x-(m.x-c))>Math.abs(e.x-m.x)?m.x:m.x-c,m.y=Math.abs(e.y-(m.y-p))>Math.abs(e.y-m.y)?m.y:m.y-p,m}if(this.points.length){var g,v=[-180,-90,0,90,180],y=this.points[this.points.length-1],_=Math.atan2(y.y-e.y,y.x-e.x)*(180/Math.PI);if(v.some(function(n){if(Math.abs(_-n)<t.$store.getters["project/angleTolerance"]){if(n===-180||0===n||180===n)return{x:e.x,y:t.rotatePoint(y,e,n-_).y};if(n===-90||90===n)return{x:t.rotatePoint(y,e,n-_).x,y:e.y}}}),g)return(0,h.default)({type:"gridpoint"},g)}return(0,h.default)({type:"gridpoint"},e)},polygonOriginPoint:function(){return this.points.length>=3&&"Polygon"===this.currentTool?[(0,h.default)({},this.points[0],{origin:!0,type:"vertex"})]:[]},strictSnapTargets:function(e){var t=[].concat((0,f.default)(this.currentStoryGeometry.vertices),(0,f.default)(this.previousStoryGeometry?this.previousStoryGeometry.vertices:[]),(0,f.default)(this.polygonOriginPoint()));return(0,x.snapTargets)(t,this.spacing,e)},snappingVertexData:function(e){var t=this,n=[].concat((0,f.default)(this.currentStoryGeometry.vertices));if(this.previousStoryGeometry&&(n=n.concat(JSON.parse((0,d.default)(this.previousStoryGeometry.vertices)))),this.points.length>=3&&"Polygon"===this.currentTool&&n.push((0,h.default)({},this.points[0],{origin:!0})),1===this.points.length&&"Rectangle"===this.currentTool&&(n=n.concat(S.default.syntheticRectangleSnaps(n,this.points[0],e))),!n.length)return null;var r=n.reduce(function(n,r){var i=t.distanceBetweenPoints(n,e),o=t.distanceBetweenPoints(r,e);return i<o?n:r});return this.distanceBetweenPoints(r,e)<this.$store.getters["project/snapTolerance"]?(0,h.default)({},r,{type:"vertex"}):void 0},snappingEdgeData:function(e){var t=this,n=[].concat((0,f.default)(this.currentStoryGeometry.edges));if(this.previousStoryGeometry&&(n=n.concat(this.previousStoryGeometry.edges.map(function(e){return(0,h.default)({},e,{previous_story:!0})}))),0===n.length)return[];var r=T.default.map(n,function(n){var r=n.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,i=S.default.vertexForId(n.v1,r),o=S.default.vertexForId(n.v2,r),a=(0,b.projectionOfPointToLine)(e,{p1:i,p2:o}),s=(0,b.distanceBetweenPoints)(a,e);return(0,h.default)({},n,{projection:a,dist:s,v1Coords:i,V2Coords:o})}),i=T.default.minBy(r,"dist");return i.dist<this.$store.getters["project/snapTolerance"]?[{snappingEdge:i,dist:i.dist,type:"edge",projection:i.projection,v1GridCoords:i.v1Coords,v2GridCoords:i.V2Coords,x:i.projection.x,y:i.projection.y}]:[]},distanceBetweenPoints:function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.sqrt(n*n+r*r)},round:function(e,t){var n,r=e<0?-1:1;return e=Math.abs(e),n=e%t<t/2?e-e%t:e+t-e%t,n*=r},rotatePoint:function(e,t,n){var r=n*Math.PI/180,i=Math.cos(r),o=Math.sin(r),a=t.x-e.x,s=t.y-e.y;return{x:i*a-o*s+e.x,y:o*a+i*s+e.y}},resolveBounds:function(){var e=[this.min_x,this.max_x],t=[this.min_y,this.max_y],n=function(e){var t=(0,u.default)(e,2),n=t[0],r=t[1],i=(r-n)/20;return[n-i,r+i]};this.visibleVerts.length&&(e=n(y.extent(this.allVertices,function(e){return e.x})),t=n(y.extent(this.allVertices,function(e){return e.y})));var r=this.$refs.gridParent.clientWidth,i=this.$refs.gridParent.clientHeight,o=(0,b.fitToAspectRatio)(e,t,r/i,"expand"),a=o.xExtent,s=o.yExtent;this.dimensions={min_x:a[0],max_x:a[1],min_y:s[0],max_y:s[1]},T.default.defer(function(){window.eventBus.$emit("boundsResolved")})},nullTransform:function(){y.select(this.$refs.grid).call(this.zoomBehavior.transform,y.zoomIdentity)},renderGrid:function(){var e=this.$refs.gridParent.clientWidth,t=this.$refs.gridParent.clientHeight;this.resolveBounds(),this.$store.dispatch("application/setScaleX",{scaleX:{pixels:e,rwuRange:[this.min_x,this.max_x]}}),this.$store.dispatch("application/setScaleY",{scaleY:{pixels:t,rwuRange:[this.min_y,this.max_y]}}),this.calcGrid(),this.nullTransform(),this.draw()},reloadGridAndScales:function(){this.zoomXScale=null,this.zoomYScale=null,this.resolveBounds(),this.renderGrid()},recalcScales:function(){var e=this.$refs.gridParent.clientWidth,t=this.$refs.gridParent.clientHeight;this.xScale=y.scaleLinear().domain([this.min_x,this.max_x]).range([0,e]),this.yScale=y.scaleLinear().domain([this.min_y,this.max_y]).range([t,0]),this.zoomXScale=this.zoomXScale||this.xScale.copy(),this.zoomYScale=this.zoomYScale||this.yScale.copy()},calcGrid:function(){var e=this;this.recalcScales();var t=this.$refs.gridParent.clientWidth,n=this.$refs.gridParent.clientHeight,r=y.select("#grid svg"),i=1,o="14px";r.attr("height",n).attr("width",t),this.axis.x=r.selectAll("g.axis--x").data([void 0]),this.axis.x=this.axis.x.merge(this.axis.x.enter().append("g").attr("class","axis axis--x")).attr("stroke-width",i).style("font-size",o).style("display",this.gridVisible?"inline":"none"),this.axis.y=r.selectAll("g.axis--y").data([void 0]),this.axis.y=this.axis.y.merge(this.axis.y.enter().append("g").attr("class","axis axis--y")).attr("class","axis axis--y").attr("stroke-width",i).style("font-size",o).style("display",this.gridVisible?"inline":"none"),this.updateGrid(),this.zoomBehavior=y.zoom().scaleExtent([0,1/0]).on("zoom",function(){var t=y.event.transform;e.transform=(0,h.default)({},t);var n=t.rescaleX(e.zoomXScale),r=t.rescaleY(e.zoomYScale),i=n.domain(),o=r.domain();e.dimensions={min_x:i[0],max_x:i[1],min_y:o[0],max_y:o[1]},e.axis_generator.x.scale(n),e.axis_generator.y.scale(r),e.updateGrid(),e.padTickY(-12),e.translateEntities(),e.clearComponentHighlights()}).on("end",function(){e.draw({zoomEnd:!0})}),r.call(this.zoomBehavior),r.on("mousemove",this.handleMouseMove).on("click",this.gridClicked)},transformTo:function(e){y.select(this.$refs.grid).call(this.zoomBehavior.transform,e)},zoomBy:function(e){var t=this.transform.k*e;y.select(this.$refs.grid).transition().duration(400).call(this.zoomBehavior.transform,y.zoomIdentity.scale(t))},zoomToFit:function(){var e,t=this,n=this.$refs.grid.clientWidth,r=this.$refs.grid.clientHeight;if(this.allVertices.length){var i=y.extent(this.allVertices,function(e){return t.zoomXScale(e.x)}),o=y.extent(this.allVertices,function(e){return t.zoomYScale(e.y)}),a=i[1]-i[0],s=o[1]-o[0],d=(i[0]+i[1])/2,l=(o[0]+o[1])/2,u=.9/Math.max(a/n,s/r),c=[n/2-u*d,r/2-u*l],f=y.select("#grid svg"),p=(e=y.zoomIdentity).translate.apply(e,c).scale(u);f.call(this.zoomBehavior.transform,p)}},scaleTo:function(e){var t,n=this.$refs.grid.clientWidth,r=this.$refs.grid.clientHeight,i=(this.zoomXScale(this.max_x)+this.zoomXScale(this.min_x))/2,o=(this.zoomYScale(this.max_y)+this.zoomYScale(this.min_y))/2,a=[n/2-e*i,r/2-e*o];y.select(this.$refs.grid).call(this.zoomBehavior.transform,(t=y.zoomIdentity).translate.apply(t,a).scale(e))},translateEntities:function(){y.selectAll("[data-transform-plz]").attr("transform",a(this.transformAtLastRender,y.event.transform))},showOrHideAxes:function(){this.axis.x.style("visibility",this.gridVisible?"visible":"hidden"),this.axis.y.style("visibility",this.gridVisible?"visible":"hidden")},updateGrid:function(){if(this.axis.x&&this.axis.y){var e=this.$refs.gridParent.clientWidth,t=this.$refs.gridParent.clientHeight,n=this.max_x-this.min_x,r=this.max_y-this.min_y,i=o(this.min_x,this.max_x,this.spacing),a=o(this.min_y,this.max_y,this.spacing);this.reduceTicks=a.length>250||i.length>250,this.axis_generator.x=this.axis_generator.x||y.axisBottom(this.xScale),this.axis_generator.x.tickSize(t).tickPadding(-20).tickFormat(this.reduceTicks?T.default.identity:this.formatTickX.bind(this,Math.floor(10*(e/t)))),this.axis_generator.y=this.axis_generator.y||y.axisRight(this.yScale),this.axis_generator.y.tickSize(e).tickPadding(-25).tickFormat(this.reduceTicks?T.default.identity:this.formatTickY.bind(this,10)),this.reduceTicks?(this.axis_generator.x.tickValues(null).ticks(5*(n/r)),this.axis_generator.y.tickValues(null).ticks(5)):(this.axis_generator.x.ticks(null).tickValues(i),this.axis_generator.y.ticks(null).tickValues(a)),this.axis.y.call(this.axis_generator.y),this.axis.x.call(this.axis_generator.x)}},rwuToGrid:function(e,t){var n=void 0;return"x"===t?n=this.xScale:"y"===t&&(n=this.yScale),n(e)},gridToRWU:function(e,t){var n=void 0;"x"===t?n=this.xScale:"y"===t&&(n=this.yScale);var r=n.invert(e);return Math.round(1e11*r)/1e11},gridPointToRWU:function(e){return{x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")}},rwuPointToGrid:function(e){return{x:this.rwuToGrid(e.x,"x"),y:this.rwuToGrid(e.y,"y")}},polygonLabelPosition:function(e){var t=[e.map(function(e){return[e.x,e.y]})],n=Math.abs(Math.round(S.default.areaOfSelection(e))),r=n?(0,w.default)(t,1):[null,null],i=(0,u.default)(r,2),o=i[0],a=i[1];return{x:o,y:a,area:n}},formatTickX:function(e,t){var n=this.max_x-this.min_x,r=this.spacing,i=Math.ceil(n/e/r)*r;return 0===i||t%i===0?t:""},formatTickY:function(e,t){var n=this.max_y-this.min_y,r=this.spacing,i=Math.ceil(n/e/r)*r;return 0===i||t%i===0?t:""},padTickY:function(e){var t=Math.abs(this.min_y),n=Math.abs(this.max_y),r=(t<n?n:t).toFixed(0).length,i=e*r;this.axis.y.call(this.axis_generator.y.tickPadding(i))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),o=r(i),a=n(29),s=r(a),d=n(374),l=r(d),u=n(217),c=r(u),f=n(379),p=r(f),h=n(384),m=r(h),g=n(392),v=r(g),y=n(395),_=r(y),w=n(396),E=r(w),T=n(146),x=n(390),b=r(x);o.default.use(s.default);var S=new s.default.Store({strict:!1,modules:{application:l.default,project:c.default,geometry:p.default,models:m.default},getters:{exportData:v.default},actions:{importFloorplan:_.default,importLibrary:E.default,changeUnits:function(e,t){var n=t.newUnits,r=e.state.project.config.units;console.log("moving from "+r+" to "+n),"ip"!==r&&"si"!==r&&console.error('Expected data.project.config.units to be "ip" or "si", received "'+r+'"'),"ip"!==n&&"si"!==n&&console.error('Expected oldUnits to be "ip" or "si", received "'+n+'"'),e.commit("changeUnits",(0,T.convertState)(e.state,r,n)),e.dispatch("project/setUnits",{units:n})}},mutations:b.default});t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(30),s=n(80);t.default={setCurrentStoryId:function(e,t){var n=t.id;e.rootState.models.stories.map(function(e){return e.id}).indexOf(n)!==-1&&e.commit("setCurrentStoryId",{id:n})},setCurrentSubSelectionId:function(e,t){var n=t.id;e.getters.currentStory&&(e.getters.currentStory.spaces.find(function(e){return e.id===n})||e.getters.currentStory.shading.find(function(e){return e.id===n})||e.getters.currentStory.images.find(function(e){return e.id===n}))&&e.commit("setCurrentSubSelectionId",{id:n})},setCurrentComponentId:function(e,t){var n=t.id;e.getters.currentStory&&(e.getters.currentStory.windows.find(function(e){return e.id===n})||e.getters.currentStory.daylighting_controls.find(function(e){return e.id===n}))&&e.commit("setCurrentComponentId",{id:n})},setCurrentComponentDefinitionId:function(e,t){var n=t.id;if(e.rootState.models.library.daylighting_control_definitions.find(function(e){return e.id===n})||e.rootState.models.library.window_definitions.find(function(e){return e.id===n})||e.rootState.models.library.door_definitions.find(function(e){return e.id===n}))e.commit("setCurrentComponentDefinitionId",{id:n});else if("undefined"!==n)throw new Error("unable to set component definition -- couldn't find one with id "+n)},setCurrentComponentInstanceId:function(e,t){var n=t.id;(0,s.componentInstanceById)(e.getters.currentStory,n)?e.commit("setCurrentComponentInstanceId",t):console.error("unable to find an instance with that id on the current story")},setCurrentSnapMode:function(e,t){var n=t.snapMode;if(!o.default.includes(["grid-strict","grid-verts-edges"],n))throw new Error("Unknown grid mode "+n);e.commit("setCurrentSnapMode",{snapMode:n})},setCurrentModeTab:function(e,t){var n=t.modeTab;e.commit("setCurrentModeTab",{modeTab:n})},setCurrentSubselectionType:function(e,t){var n=t.subselectionType;e.commit("setCurrentSubselectionType",{subselectionType:n})},setCurrentTool:function(e,t){var n=t.tool;e.state.tools.indexOf(n)!==-1&&e.commit("setCurrentTool",{tool:n})},setCurrentMode:function(e,t){var n=t.mode;"spaces"===n||o.default.includes(a.assignableProperties,n)?e.commit("setCurrentMode",{mode:n}):console.error("unrecognized view-by option: "+n)},setCurrentSpacePropertyId:function(e,t){var n=t.id;!n||(0,s.spacePropertyById)(e.rootState.models.library,n)?e.commit("setCurrentSpacePropertyId",{id:n}):console.error("unable to find space property with id: "+n)},setScaleX:function(e,t){var n=t.scaleX;e.commit("setScaleX",{scaleX:n})},setScaleY:function(e,t){var n=t.scaleY;e.commit("setScaleY",{scaleY:n})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(18),s=r(a),d=n(80);t.default={currentStory:function(e,t,n){return console.log("trying to get currentStory",n.models.stories),n.models.stories.find(function(t){return t.id===e.currentSelections.story_id})},currentSubSelection:function(e,t){var n=t.currentStory;if(!n)return null;var r=e.currentSelections.subselection_ids[n.id];return n.spaces.find(function(e){return e.id===r})||n.shading.find(function(e){return e.id===r})||n.images.find(function(e){return e.id===r})},currentSubSelectionType:function(e,t){var n=t.currentStory;if(!n)return null;var r=e.currentSelections.subselection_ids[n.id];return n.spaces.find(function(e){return e.id===r})?"spaces":n.shading.find(function(e){return e.id===r})?"shading":n.images.find(function(e){return e.id===r})?"images":null},currentSpace:function(e,t){return"spaces"===t.currentSubSelectionType?t.currentSubSelection:null},currentShading:function(e,t){return"shading"===t.currentSubSelectionType?t.currentSubSelection:null},currentImage:function(e,t){return"images"===t.currentSubSelectionType?t.currentSubSelection:null},currentComponent:function(e,t,n){var r=e.currentSelections.component_definition_id,i=void 0,a=void 0;return(a=n.models.library.window_definitions.find(function(e){return e.id===r}))?i="window_definitions":(a=n.models.library.daylighting_control_definitions.find(function(e){return e.id===r}))?i="daylighting_control_definitions":(a=o.default.find(n.models.library.door_definitions,{id:r}))&&(i="door_definitions"),{type:i,definition:a}},currentComponentDefinition:function(e,t){return t.currentComponent.definition},currentComponentInstance:function(e,t){var n=e.currentSelections.component_instance_id;return n?(0,d.componentInstanceById)(t.currentStory,n):null},currentSpaceProperty:function(e,t,n){var r=e.currentSelections.space_property_id,i=n.models.library;return(0,d.spacePropertyById)(i,r)},currentStoryGeometry:function(e,t,n){var r=t.currentStory;return r?n.geometry.find(function(e){return e.id===r.geometry_id}):null},currentStoryDenormalizedGeom:function(e,t){var n=t.currentStoryGeometry;return n?s.default.denormalize(n):null},currentSubSelectionFace:function(e,t){return t.currentSubSelection&&t.currentSubSelection.face_id?t.currentStoryGeometry.faces.find(function(e){return e.id===t.currentSubSelection.face_id}):null}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(372),o=r(i),a=n(375),s=r(a),d=n(373),l=r(d),u=n(93);t.default={namespaced:!0,state:{currentSelections:{story:null,story_id:null,subselection_ids:{},component_id:null,component_definition_id:null,component_instance_id:null,space_property_id:null,tool:"Rectangle",mode:"spaces",snapMode:"grid-strict",modeTab:"floorplan",subselectionType:"spaces"},modes:["spaces","shading","building_units","thermal_zones","pitched_roofs","space_types","images"],tools:["Pan","Drag","Rectangle","Polygon","Eraser","Select","Map","Fill","Place Component","Image","Apply Property"],scale:{x:u.scaleLinear().range([0,0]).domain([0,0]),y:u.scaleLinear().range([0,0]).domain([0,0])}},actions:o.default,mutations:s.default,getters:l.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),o=r(i),a=n(5),s=r(a);t.default={setCurrentStoryId:function(e,t){e.currentSelections.story_id=t.id},setCurrentSubSelectionId:function(e,t){var n=e.currentSelections.story_id;return n?void(e.currentSelections.subselection_ids=(0,s.default)({},e.currentSelections.subselection_ids,(0,o.default)({},n,t.id))):void console.error("expected a story to be selected, in order to set a subselection")},setCurrentComponentId:function(e,t){e.currentSelections.component_id=t.id},setCurrentComponentDefinitionId:function(e,t){e.currentSelections.component_definition_id=t.id},setCurrentComponentInstanceId:function(e,t){e.currentSelections.component_instance_id=t.id},setCurrentSpacePropertyId:function(e,t){e.currentSelections.space_property_id=t.id},setCurrentSnapMode:function(e,t){e.currentSelections.snapMode=t.snapMode},setCurrentModeTab:function(e,t){e.currentSelections.modeTab=t.modeTab},setCurrentSubselectionType:function(e,t){e.currentSelections.subselectionType=t.subselectionType},setCurrentTool:function(e,t){e.currentSelections.tool=t.tool},setCurrentMode:function(e,t){e.currentSelections.mode=t.mode},setScaleX:function(e,t){e.scale.x=t.scaleX},setScaleY:function(e,t){e.scale.y=t.scaleY}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return h.default.vertexForCoordinates(t,e)||f.default.Vertex(t.x,t.y)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=r(o),s=n(81),d=r(s);t.getOrCreateVertex=i;var l=n(3),u=r(l),c=n(144),f=r(c),p=n(18),h=r(p),m=n(377),g=r(m),v=n(216);t.default={initGeometry:function(e,t){var n=t.story_id,r=new f.default.Geometry;e.commit("initGeometry",{geometry:r}),e.dispatch("models/updateStoryWithData",{story:e.rootState.models.stories.find(function(e){return e.id===n}),geometry_id:r.id},{root:!0})},destroyGeometry:function(e,t){var n=e.commit;n("destroyGeometry",{id:t})},eraseSelection:function(e,t){var n=t.points,r=e.rootGetters["application/currentStoryGeometry"].id;(0,v.withPreservedComponents)(e,r,function(){var t=(0,m.eraseSelection)(n,e);t||window.eventBus.$emit("error","Operation cancelled - no split faces")}),e.dispatch("trimGeometry",{geometry_id:r})},moveFaceByOffset:function(e,t){var n=t.face_id,r=t.dx,i=t.dy,o=e.rootGetters["application/currentStoryGeometry"],a=h.default.faceForId(n,o),s=h.default.verticesForFaceId(a.id,o).map(function(e){return{x:e.x+r,y:e.y+i}}),l=(0,m.newGeometriesOfOverlappedFaces)(s,h.default.exceptFace(o,n));if(l.error)return window.eventBus.$emit("error","Operation cancelled - "+l.error),void window.eventBus.$emit("reload-grid");var u=(0,m.validateFaceGeometry)(s,o);if(!u.success)return window.eventBus.$emit("error",u.error),void window.eventBus.$emit("reload-grid");var c=(0,d.default)({},n,{dx:r,dy:i});(0,v.withPreservedComponents)(e,o.id,c,function(){l.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),e.dispatch("replaceFacePoints",{geometry_id:o.id,face_id:n,vertices:u.vertices,edges:u.edges,dx:r,dy:i})}),e.dispatch("trimGeometry",{geometry_id:o.id})},createFaceFromPoints:g.default,destroyFaceAndDescendents:function(e,t){var n=t.geometry_id,r=t.face,i=e.state.find(function(e){return e.id===n}),o=r.edgeRefs.map(function(e){var t=h.default.edgeForId(e.edge_id,i),n=e.reverse?t.v2:t.v1;return h.default.vertexForId(n,i)}).filter(function(e){return h.default.facesForVertexId(e.id,i).length<2}),a=r.edgeRefs.filter(function(e){return h.default.facesForEdgeId(e.edge_id,i).length<2});e.commit("destroyGeometry",{id:r.id}),a.forEach(function(t){return e.commit("destroyGeometry",{id:t.edge_id})}),o.forEach(function(t){return e.commit("destroyGeometry",{id:t.id})})},replaceFacePoints:function(e,t){var n=t.geometry_id,r=t.face_id,i=t.vertices,o=t.edges,s=u.default.find(e.state,{id:n}),d=e.rootState.project.grid.spacing,l=u.default.chain(i).map(function(e){var t=u.default.find(s.vertices,function(t){return(0,p.distanceBetweenPoints)(t,e)<d/20});return t?e.id===t.id?null:[e.id,t.id]:null}).compact().fromPairs().value(),c=i.map(function(e){return(0,a.default)({},e,{id:l[e.id]||e.id})}),f=o.map(function(e){return(0,a.default)({},e,{v1:l[e.v1]||e.v1,v2:l[e.v2]||e.v2})});f.forEach(function(e){var t=u.default.find(s.edges,{v1:e.v1,v2:e.v2})||u.default.find(s.edges,{v1:e.v2,v2:e.v1});t&&e.id!==t.id&&(e.id=t.id,e.reverse=t.v1!==e.v1)}),e.commit("replaceFacePoints",{geometry_id:n,vertices:c,edges:f,face_id:r})},trimGeometry:function(e,t){var n=e.rootState,r=e.commit,i=t.geometry_id,o=u.default.find(n.models.stories,{geometry_id:i}),a=u.default.flatMap(o.spaces,function(e){return u.default.map(e.daylighting_controls,"vertex_id")});r("trimGeometry",{geometry_id:i,vertsReferencedElsewhere:a})},cloneStoryGeometry:function(e,t){var n=e.rootGetters["application/currentStoryGeometry"];e.commit("updateClonedGeometry",{newGeom:t,currentStoryId:n.id})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.model_id,r=t.points;if(!((0,$.uniq)(r).length<3)){var i=e.rootGetters["application/currentStoryGeometry"],a=z.default.libraryObjectWithId(e.rootState.models,n),d=a.face_id?H.default.faceForId(a.face_id,i):null,l=void 0;
if(d){var u=H.default.verticesForFaceId(d.id,i);if(l=H.default.setOperation("union",u,r),l.error)return void window.eventBus.$emit("error","Operation cancelled - "+l.error)}else l=r;var c=g(l,e.rootGetters["application/currentStoryGeometry"],e.rootGetters["project/snapTolerance"]);if(!c.success)return window.eventBus.$emit("error",c.error),void console.error(c.error);var f=o(l,H.default.exceptFace(i,d&&d.id));if(f.error)return void window.eventBus.$emit("error","Operation cancelled - "+f.error);var p=c.edges.slice(),h=c.vertices.slice();(0,L.withPreservedComponents)(e,i.id,function(){var t=i.edges.length,n=i.vertices.length;f.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),p=p.concat(i.edges.slice(t)),h=h.concat(i.vertices.slice(n)),s(c,a,e,d),e.dispatch("trimGeometry",{geometry_id:i.id}),w(e,p,h)})}}function o(e,t){if(e.length<3||!H.default.areaOfSelection(e))return!1;var n=H.default.denormalize(t),r=n.faces.filter(function(t){var n=H.default.intersection(t.vertices,e);return n.error||n.length>0}),i=r.map(function(t){return H.default.difference(t.vertices,e)}),o=A.default.find(i,"error");if(o)return o;var a=i.map(function(e){return g(e,t)}),s=A.default.find(a,"error");return s?s:A.default.zip(r,a).map(function(e){var n=(0,I.default)(e,2),r=n[0],i=n[1],o=i.vertices,a=i.edges;return{geometry_id:t.id,face_id:r.id,vertices:o,edges:a}})}function a(e,t){var n=t.rootGetters["application/currentStoryGeometry"];if(e.length<3||!H.default.areaOfSelection(e))return!1;var r=o(e,n);if(r.error)return window.eventBus.$emit("error","Operation cancelled - "+r.error),!1;var i=n.edges.length,a=n.vertices.length;r.forEach(function(e){return t.dispatch("replaceFacePoints",e)});var s=n.edges.slice(i),d=n.vertices.slice(a);return w(t,s,d),!0}function s(e,t,n,r){var i,o=e.vertices,a=e.edges,s=n.rootGetters["application/currentStoryGeometry"],d=r||new k.default.Face([]);n.dispatch("replaceFacePoints",{face_id:d.id,geometry_id:s.id,vertices:o,edges:a}),n.dispatch("space"===t.type?"models/updateSpaceWithData":"models/updateShadingWithData",(i={},(0,P.default)(i,t.type,t),(0,P.default)(i,"face_id",d.id),i),{root:!0})}function d(e,t,n){var r=n.find(function(n){return n.v1===e.id&&n.v2===t.id||n.v2===e.id&&n.v1===t.id});return r&&(0,O.default)({},r,{reverse:r.v1===t.id})}function l(e){return function(t){var n=(0,I.default)(t,2),r=n[0],i=n[1];return d(r,i,e)||new k.default.Edge(r.id,i.id)}}function u(e,t){return e.length?A.default.zip(e,[].concat((0,M.default)(e.slice(1)),[e[0]])).map(l(t)):[]}function c(e){this.message=e}function f(e){if(e.length<3)throw new c("can't make a polygon with fewer than three vertices: "+(0,b.default)(e))}function p(e){e.forEach(function(t){if(A.default.find(e,{x:t.x,y:t.y}).length>=2)throw new c("Duplicate vertex at ("+t.x+", "+t.y+")")})}function h(e,t){t.forEach(function(t){var n=t.v1,r=t.v2,i=A.default.find(e,{id:n}),o=A.default.find(e,{id:r});e.forEach(function(e){if(e.id!==n&&e.id!==r&&H.default.ptsAreCollinear(i,o,e)){var t=A.default.reject([(e.x-i.x)/(o.x-i.x),(e.y-i.y)/(o.y-i.y)],isNaN)[0];if(!(t>1||t<0))throw new c("An edge is being touched by a vertex on the same face at ("+e.x+", "+e.y+")")}})})}function m(e,t){(0,$.allPairs)(t).forEach(function(t){var n=(0,I.default)(t,2),r=n[0],i=n[1],o=A.default.find(e,{id:r.v1}),a=A.default.find(e,{id:r.v2}),s=A.default.find(e,{id:i.v1}),d=A.default.find(e,{id:i.v2}),l=H.default.intersectionOfLines(o,a,s,d);if(l)throw new c("Self intersection at "+l.x+", "+l.y)})}function g(e,t){if(0===e.length)return{success:!0,vertices:[],edges:[]};if(e.length<=2)return{success:!1,error:"need at least 3 points to make a face"};var n=e.map(function(e){return H.default.vertexForCoordinates(e,t)||new k.default.Vertex(e.x,e.y)});n=(0,$.dropConsecutiveDups)(n);var r=u(n,t.edges);try{f(n),p(n),h(n,r),m(n,r)}catch(e){if(e instanceof c)return{success:!1,error:e.message};throw e}return{success:!0,vertices:n,edges:r}}function v(e,t){return A.default.zip(e.slice(0,-1),e.slice(1)).map(l(t))}function y(e,t,n){var r=H.default.facesForEdgeId(t,e),i=r.map(function(r){var i=A.default.find(r.edgeRefs,{edge_id:t}).reverse,o=n.map(function(e){var t=e.id,n=e.reverse;return{id:t,reverse:!n!=!i}});return i&&o.reverse(),{type:"replaceEdgeRef",geometry_id:e.id,edge_id:t,face_id:r.id,newEdges:o}});return i}function _(e,t,n,r){function i(e,t,n){if(0===n.length)return!1;var r=H.default.vertexForId(t.v1,e),i=H.default.vertexForId(t.v2,e);n=A.default.sortBy(n,function(e){return(0,U.distanceBetweenPoints)(e,r)}),n=[r].concat((0,M.default)(n),[i]);var a=v(n,[].concat((0,M.default)(e.edges),o)),s=y(e,t.id,a);return o.push.apply(o,(0,M.default)(a)),{edgeToDelete:t.id,newEdges:a,replaceEdgeRefs:s}}var o=[];if(n&&r){var a={};return n.forEach(function(n){var r=H.default.splittingVerticesForEdgeId(n,e,t),o=i(e,n,r);o&&(a[o.edgeToDelete]=o)}),e.edges.forEach(function(n){var o=H.default.splittingVerticesForEdgeId(n,e,t,r),s=i(e,n,o);s&&(a[s.edgeToDelete]=s)}),(0,T.default)(a).map(function(e){var t=(0,I.default)(e,2),n=(t[0],t[1]);return n})}return e.edges.map(function(n){var r=H.default.splittingVerticesForEdgeId(n,e,t);return i(e,n,r)}).filter(function(e){return e})}function w(e,t,n){var r=e.rootGetters["application/currentStoryGeometry"],i=e.rootState.project.grid.spacing,o=_(r,i,t,n);o.forEach(function(t){return e.commit((0,O.default)({type:"splitEdge",geometry_id:r.id},t))})}Object.defineProperty(t,"__esModule",{value:!0});var E=n(219),T=r(E),x=n(34),b=r(x),S=n(40),M=r(S),D=n(5),O=r(D),R=n(81),P=r(R),F=n(63),I=r(F);t.default=i,t.newGeometriesOfOverlappedFaces=o,t.eraseSelection=a,t.findExistingEdge=d,t.matchOrCreateEdges=u,t.errOnTooFewVerts=f,t.errOnDuplicateVerts=p,t.errOnVertexIntersectsEdge=h,t.errOnEdgeIntersectsEdge=m,t.validateFaceGeometry=g,t.edgesToSplit=_;var C=n(3),A=r(C),N=n(144),k=r(N),U=n(18),H=r(U),j=n(53),z=r(j),$=n(109),L=n(216);c.prototype=new Error},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=n(18),s=r(a),d=n(398),l=r(d);t.default={denormalized:function(e){return e.map(function(e){return s.default.denormalize(e)})},errors:function(e,t){return o.default.flatMap(t.denormalized,l.default)},exportData:function(e,t,n,r){return e.map(function(e){return{id:e.id,vertices:e.vertices.map(function(t){return{id:t.id,x:Number(t.x),y:Number(t.y),edge_ids:s.default.edgesForVertexId(t.id,e).map(function(e){return e.id})}}),edges:e.edges.map(function(t){return{id:t.id,vertex_ids:[t.v1,t.v2],face_ids:s.default.facesForEdgeId(t.id,e).map(function(e){return e.id})}}),faces:e.faces.map(function(e){return{id:e.id,edge_ids:e.edgeRefs.map(function(e){return e.edge_id}),edge_order:e.edgeRefs.map(function(e){return e.reverse?0:1})}})}})}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(376),a=i(o),s=n(380),d=r(s),l=n(378),u=i(l);t.default={namespaced:!0,state:[],actions:a.default,mutations:d,getters:u.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t.geometry_id,r=t.vertsReferencedElsewhere,i=S.default.find(e,{id:n}),o=new x.default(S.default.flatMap(i.faces,function(e){return S.default.map(e.edgeRefs,"edge_id")})),a=S.default.flatMap(i.edges.filter(function(e){return o.has(e.id)}),function(e){return[e.v1,e.v2]}),s=new x.default([].concat((0,E.default)(r||[]),(0,E.default)(a))),d=i.edges.filter(function(e){return o.has(e.id)}),l=i.vertices.filter(function(e){return s.has(e.id)}),u=S.default.difference([].concat((0,E.default)(o)),S.default.map(d,"id"));u.length&&console.error("An edge is referenced by a face, but does not exist!",(0,_.default)(i));var c=S.default.difference(a,S.default.map(l,"id"));c.length&&console.error("A vertex is referenced by a face, but does not exist!",(0,_.default)(i)),i.vertices=l,i.edges=d,i.faces=i.faces.filter(function(e){return e.edgeRefs.length>0})}function o(e,t){var n=t.geometry;e.push(n)}function a(e,t){var n=t.geometry_id,r=t.vertex;e.find(function(e){return e.id===n}).vertices.push(r)}function s(e,t){var n=t.geometry_id,r=t.face;e.find(function(e){return e.id===n}).faces.push(r)}function d(e,t){for(var n=t.id,r=0;r<e.length;r++){var i=e[r];if(i.id===n){e.splice(e.findIndex(function(e){return e.id===n}),1);break}if(~i.faces.map(function(e){return e.id}).indexOf(n)){i.faces.splice(i.faces.findIndex(function(e){return e.id===n}),1);break}if(~i.edges.map(function(e){return e.id}).indexOf(n)){i.edges.splice(i.edges.findIndex(function(e){return e.id===n}),1),i.faces.forEach(function(e){e.edgeRefs.forEach(function(t){n===t.edge_id&&e.edgeRefs.splice(e.edgeRefs.findIndex(function(e){return e.edge_id===n}),1)})});break}if(~i.vertices.map(function(e){return e.id}).indexOf(n)){i.vertices.splice(i.vertices.findIndex(function(e){return e.id===n}),1);break}}}function l(e,t){var n=t.geometry_id,r=t.face_id,i=t.edgeRef,o=e.find(function(e){return e.id===n}),a=o.faces.find(function(e){return e.id===r}),s=o.edges.find(function(e){return e.id===i.edge_id});s&&a.edgeRefs.push(i)}function u(e,t){var n=t.geometry_id,r=t.face_id,i=t.edgeRefs,o=e.find(function(e){return e.id===n}),a=o.faces.find(function(e){return e.id===r});a.edgeRefs=i.filter(function(e){return o.edges.find(function(t){return t.id===e.edge_id})})}function c(e,t){var n=t.geometry_id,r=t.face_id,i=t.edge_id,o=e.find(function(e){return e.id===n}),a=o.faces.find(function(e){return e.id===r});a.edgeRefs.splice(a.edgeRefs.findIndex(function(e){return e.edge_id===i}),1)}function f(e,t){var n,r=t.geometry_id,i=t.face_id,o=t.edge_id,a=t.newEdges,s=e.find(function(e){return e.id===r}),d=s.faces.find(function(e){return e.id===i}),l=S.default.findIndex(d.edgeRefs,{edge_id:o});(n=d.edgeRefs).splice.apply(n,[l,1].concat((0,E.default)(a.map(function(e){var t=e.id,n=e.reverse;return{edge_id:t,reverse:n}}))))}function p(e,t){var n=t.geometry_id,r=t.vertices,i=S.default.find(e,{id:n});r.forEach(function(e){return S.default.find(i.vertices,{id:e.id})||i.vertices.push(e)})}function h(e,t){var n=t.geometry_id,r=t.edges,i=S.default.find(e,{id:n});r.forEach(function(e){return S.default.find(i.edges,{id:e.id})||i.edges.push(e)})}function m(e,t){var n=t.geometry_id,r=t.edgeToDelete,i=t.newEdges,o=t.replaceEdgeRefs;h(e,{geometry_id:n,edges:i}),o.forEach(function(t){return f(e,t)}),d(e,{id:r})}function g(e,t){var n=t.geometry_id,r=t.vertices,i=t.edges,o=t.face_id,a=S.default.find(e,{id:n});p(e,{geometry_id:n,vertices:r}),h(e,{geometry_id:n,edges:i,vertices:r});var s=S.default.find(a.faces,{id:o});s||(s={id:o,edgeRefs:[]},a.faces.push(s)),s.edgeRefs=i.map(function(e){return{edge_id:e.id,reverse:!!e.reverse}})}function v(e,t){var n=e.find(function(e){return e.id===t.currentStoryId});n.edges=t.newGeom.edges,n.faces=t.newGeom.faces,n.vertices=t.newGeom.vertices}Object.defineProperty(t,"__esModule",{value:!0});var y=n(34),_=r(y),w=n(40),E=r(w),T=n(419),x=r(T);t.trimGeometry=i,t.initGeometry=o,t.createVertex=a,t.createFace=s,t.destroyGeometry=d,t.createEdgeRef=l,t.setEdgeRefsForFace=u,t.destroyEdgeRef=c,t.replaceEdgeRef=f,t.ensureVertsExist=p,t.ensureEdgesExist=h,t.splitEdge=m,t.replaceFacePoints=g,t.updateClonedGeometry=v;var b=n(3),S=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(95),s=r(a),d=n(54),l=r(d),u=n(3),c=r(u),f=n(108),p=r(f),h=n(145),m=r(h),g=n(62),v=r(g),y=n(144),_=r(y),w=n(53),E=r(w),T=n(18),x=r(T);t.default={initStory:function(e){var t=E.default.generateName(e.state,"stories"),n=new m.default.Story(t);e.commit("initStory",{story:n}),e.dispatch("geometry/initGeometry",{story_id:n.id},{root:!0}),e.dispatch("initSpace",{story:n}),e.dispatch("initShading",{story:n}),e.dispatch("selectStory",{story:n})},initSpace:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=E.default.generateName(e.state,"spaces",n),i=new m.default.Space(r);e.commit("initSpace",{story:n,space:i})},initShading:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=E.default.generateName(e.state,"shading",n),i=new m.default.Shading(r);e.commit("initShading",{story:n,shading:i})},destroyStory:function(e,t){var n=e.state.stories,r=n.findIndex(function(e){return e.id===t.story.id}),i=n[r];e.commit("destroyStory",{story:i}),e.dispatch("geometry/destroyGeometry",i.geometry_id,{root:!0}),0===n.length?e.dispatch("initStory"):e.dispatch("selectStory",{story:n[r-1]})},destroySpace:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=n.spaces.find(function(e){return e.id===t.space.id});e.commit("destroySpace",{space:r,story:n});var i=e.rootGetters["application/currentStoryGeometry"],o=i.faces.find(function(e){return e.id===r.face_id});if(o){var a=i.edges.filter(function(e){return o.edgeRefs.map(function(e){return e.edge_id}).includes(e.id)});a.forEach(function(t){var r=n.windows.filter(function(e){return e.edge_id===t.id});r.forEach(function(t){return e.dispatch("destroyWindow",{story_id:n.id,object:t})})}),e.dispatch("geometry/destroyFaceAndDescendents",{face:o,geometry_id:i.id},{root:!0})}},destroyShading:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=n.shading.find(function(e){return e.id===t.shading.id});e.commit("destroyShading",{shading:r,story:n});var i=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===r.face_id});i&&e.dispatch("geometry/destroyFaceAndDescendents",{face:i,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyImage:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=n.images.find(function(e){return e.id===t.image.id});e.commit("destroyImage",{image:r,story:n})},destroyWindowDef:function(e,t){e.commit("destroyWindowsByDefinition",t.object),e.commit("destroyObject",t)},destroyDaylightingControlDef:function(e,t){e.commit("destroyDaylightingControlsByDefinition",t.object),e.commit("destroyObject",t)},destroyDoorDef:function(e,t){e.commit("destroyDoorsByDefinition",t.object),e.commit("destroyObject",t)},destroyObject:function(e,t){e.commit("destroyObject",{object:t.object})},updateStoryWithData:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story.id}),r=(0,l.default)(p.default.stories.keymap),i={};for(var o in t)t.hasOwnProperty(o)&&~r.indexOf(o)&&(i[o]=t[o]);i.story=n,e.commit("updateStoryWithData",i)},updateSpaceWithData:function(e,t){var n=e.getters.allSpaces.find(function(e){return e.id===t.space.id}),r=(0,l.default)(n),i={};for(var o in t)t.hasOwnProperty(o)&&~r.indexOf(o)&&(i[o]=t[o]);i.space=n,e.commit("updateSpaceWithData",i)},updateShadingWithData:function(e,t){var n=e.getters.allShading.find(function(e){return e.id===t.shading.id}),r=(0,l.default)(n),i={};for(var o in t)t.hasOwnProperty(o)&&~r.indexOf(o)&&(i[o]=t[o]);i.shading=n,e.commit("updateShadingWithData",i)},updateImageWithData:function(e,t){var n=e.getters.allImages.find(function(e){return e.id===t.image.id}),r=c.default.difference((0,l.default)(n),["src","naturalWidth","naturalHeight"]);t.scale&&(t.height=t.scale*n.naturalHeight,t.width=t.scale*n.naturalWidth);var i=c.default.pick(t,r);i.image=n,e.commit("updateImageWithData",i)},updateWindowDefinitionWithData:function(e,t){var n=e.state,r=e.dispatch,i=t.object.id,o=c.default.pick((0,h.getDefaults)("WindowDefinition"),["height","width","window_spacing","wwr"]);if("Window to Wall Ratio"===t.window_definition_mode)(0,s.default)(t,o,{height:null,width:null,window_spacing:null});else if("Repeating Windows"===t.window_definition_mode)(0,s.default)(t,o,{wwr:null});else if("Single Window"===t.window_definition_mode)(0,s.default)(t,o,{wwr:null,window_spacing:null});else if(t.window_definition_mode)throw new Error("unrecognized window_definition_mode: "+t.window_definition_mode);if(c.default.includes(["Window to Wall Ratio","Repeating Windows"],t.window_definition_mode)){var a=c.default.flatMap(n.stories,function(e){return c.default.chain(e.windows).filter({window_definition_id:i}).groupBy("edge_id").values().flatMap(c.default.tail).map(function(t){return{story_id:e.id,object:{id:t.id}}}).value()});a.forEach(function(e){return r("destroyWindow",e)})}r("updateObjectWithData",t)},updateObjectWithData:function(e,t){var n=E.default.libraryObjectWithId(e.state,t.object.id);t.object=n,e.commit("updateObjectWithData",t)},createImageForStory:function(e,t){var n=e.state.stories.find(function(e){return e.id===t.story_id}),r=E.default.generateName(e.state,"images",n),i=new m.default.Image(r,t.src);i.height=t.height,i.width=t.width,i.x=t.x,i.y=t.y,i.naturalWidth=t.naturalWidth,i.naturalHeight=t.naturalHeight,e.commit("createImageForStory",{story_id:n.id,image:i})},createObjectWithType:function(e,t){var n=t.type,r=E.default.generateName(e.state,n),i=new E.default.map[n].init({name:r});e.commit("initObject",{type:n,object:i})},selectStory:function(e,t){var n=t.story;e.dispatch("application/setCurrentStoryId",{id:n.id},{root:!0})},cloneStory:function(e,t){var n=e.rootGetters["application/currentStory"];e.commit("cloneObjectArray",{storyInfo:t,currentStory:n})},createWindow:function(e,t){var n=t.story_id,r=t.edge_id,i=t.window_definition_id,a=t.alpha,s=c.default.find(e.state.stories,{id:n}),d=c.default.find(e.state.library.window_definitions,{id:i}),l=s&&c.default.find(e.rootState.geometry,{id:s.geometry_id}),u=l&&c.default.find(l.edges,{id:r});if(!s)throw new Error("Story not found");if(!d)throw new Error("Window Definition not found");if(!l)throw new Error("Geometry not found");if(!u)throw new Error("Edge not found");if(a<0||a>1)throw new Error("Alpha must be between 0 and 1");var f=c.default.filter(s.windows,{edge_id:r}).map(function(t){return(0,o.default)({},t,{window_definition_mode:c.default.find(e.state.library.window_definitions,{id:t.window_definition_id}).window_definition_mode})}),p=void 0;p="Single Window"===d.window_definition_mode?c.default.reject(f,{window_definition_mode:"Single Window"}):f,p.forEach(function(t){return e.commit("destroyWindow",{story_id:n,object:{id:t.id}})}),e.commit("createWindow",(0,o.default)({},t,{id:v.default.generate(),name:(0,g.genName)(d.name)}))},createWindows:function(e,t){var n=[],r=[];t.forEach(function(t){var i=t.story_id,a=t.edge_id,s=t.window_definition_id,d=t.alpha,l=c.default.find(e.state.stories,{id:i}),u=c.default.find(e.state.library.window_definitions,{id:s}),f=l&&c.default.find(e.rootState.geometry,{id:l.geometry_id}),p=f&&c.default.find(f.edges,{id:a});if(!l)throw new Error("Story not found");if(!u)throw new Error("Window Definition not found");if(!f)throw new Error("Geometry not found");if(!p)throw new Error("Edge not found");if(d<0||d>1)throw new Error("Alpha must be between 0 and 1");var h=c.default.filter(l.windows,{edge_id:a}).map(function(t){return(0,o.default)({},t,{window_definition_mode:c.default.find(e.state.library.window_definitions,{id:t.window_definition_id}).window_definition_mode})}),m=void 0;m="Single Window"===u.window_definition_mode?c.default.reject(h,{window_definition_mode:"Single Window"}):h,m.forEach(function(e){return n.push({story_id:i,object:{id:e.id}})}),r.push((0,o.default)({},t,{id:v.default.generate(),name:(0,g.genName)(u.name)}))}),e.commit("destroyWindows",n),e.commit("createWindows",r)},createDoor:function(e,t){var n=t.story_id,r=t.edge_id,i=t.door_definition_id,a=t.alpha,s=c.default.find(e.state.stories,{id:n}),d=c.default.find(e.state.library.door_definitions,{id:i}),l=s&&c.default.find(e.rootState.geometry,{id:s.geometry_id}),u=l&&c.default.find(l.edges,{id:r});if(!s)throw new Error("Story not found");if(!d)throw new Error("Door Definition not found");if(!l)throw new Error("Geometry not found");if(!u)throw new Error("Edge not found");if(a<0||a>1)throw new Error("Alpha must be between 0 and 1");e.commit("createDoor",(0,o.default)({},t,{id:v.default.generate(),name:(0,g.genName)(d.name)}))},createDoors:function(e,t){var n=t.map(function(t){var n=t.story_id,r=t.edge_id,i=t.door_definition_id,a=t.alpha,s=c.default.find(e.state.stories,{id:n}),d=c.default.find(e.state.library.door_definitions,{id:i}),l=s&&c.default.find(e.rootState.geometry,{id:s.geometry_id}),u=l&&c.default.find(l.edges,{id:r});if(!s)throw new Error("Story not found");if(!d)throw new Error("Door Definition not found");if(!l)throw new Error("Geometry not found");if(!u)throw new Error("Edge not found");if(a<0||a>1)throw new Error("Alpha must be between 0 and 1");return(0,o.default)({},t,{id:v.default.generate(),name:(0,g.genName)(d.name)})});e.commit("createDoors",n)},createDaylightingControl:function(e,t){var n=t.story_id,r=t.face_id,i=t.daylighting_control_definition_id,a=t.x,s=t.y,d=c.default.find(e.state.stories,{id:n}),l=c.default.find(e.state.library.daylighting_control_definitions,{id:i}),u=d&&c.default.find(e.rootState.geometry,{id:d.geometry_id}),f=u&&c.default.find(u.faces,{id:r}),p=u&&(x.default.vertexForCoordinates({x:a,y:s},u)||_.default.Vertex(a,s));if(!d)throw new Error("Story not found");if(!l)throw new Error("Daylighting Control Definition not found");if(!u)throw new Error("Geometry not found");if(!f)throw new Error("Face not found");if(!p.id)throw new Error("Unable to find or create vertex");e.commit("geometry/ensureVertsExist",{geometry_id:u.id,vertices:[p]},{root:!0}),e.commit("createDaylightingControl",(0,o.default)({},t,{vertex_id:p.id,id:v.default.generate(),name:(0,g.genName)(l.name)}))},destroyDaylightingControl:function(e,t){var n=e.commit;n("destroyDaylightingControl",t)},destroyWindow:function(e,t){var n=e.commit;n("destroyWindow",t)},destroyWindows:function(e,t){var n=e.commit;n("destroyWindows",t)},destroyDoor:function(e,t){var n=e.commit;n("destroyDoor",t)},destroyDoors:function(e,t){var n=e.commit;n("destroyDoors",t)},modifyDaylightingControl:function(e,t){var n=e.commit;n("modifyDaylightingControl",t)},modifyWindow:function(e,t){var n=e.commit;n("modifyWindow",t)},modifyDoor:function(e,t){var n=e.commit;n("modifyDoor",t)},destroyAllComponents:function(e,t){var n=e.commit,r=t.story_id;n("dropDaylightingControls",{story_id:r}),n("dropWindows",{story_id:r}),n("dropDoors",{story_id:r})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return""===e||null===e?u.default.has(t,"default")?t.default:t.nullable?null:0:+e}function o(e){return("undefined"==typeof e?"undefined":(0,d.default)(e))===(0,d.default)(!0)?e:"true"===e.toLowerCase()}function a(e){return+e||null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(64),d=r(s);t.number=i,t.bool=o,t.gt0orNull=a;var l=n(3),u=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),o=r(i),a=n(54),s=r(a),d=n(5),l=r(d);t.default={allSpaces:function(e,t,n,r){return n.models.stories.reduce(function(e,t){return e.concat(t.spaces)},[])},allShading:function(e,t,n,r){return n.models.stories.reduce(function(e,t){return e.concat(t.shading)},[])},allImages:function(e,t,n,r){return n.models.stories.reduce(function(e,t){return e.concat(t.images)},[])},all:function(e,t,n,r){var i=(0,l.default)({},n.models.library,{stories:n.models.stories,spaces:t.allSpaces,shading:t.allShading,images:t.allImages});return(0,s.default)(i).reduce(function(e,t){return e.push.apply(e,(0,o.default)(i[t])),e},[])}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(381),o=r(i),a=n(385),s=r(a),d=n(383),l=r(d);t.default={namespaced:!0,state:{stories:[],library:{building_units:[],thermal_zones:[],space_types:[],construction_sets:[],window_definitions:[],daylighting_control_definitions:[],pitched_roofs:[],door_definitions:[]}},actions:o.default,mutations:s.default,getters:l.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),o=r(i),a=n(219),s=r(a),d=n(95),l=r(d),u=n(3),c=r(u),f=n(53),p=r(f);t.default={initStory:function(e,t){e.stories.push(t.story)},initSpace:function(e,t){t.story.spaces.push(t.space)},initShading:function(e,t){t.story.shading.push(t.shading)},initObject:function(e,t){e.library[t.type].push(t.object)},destroySpace:function(e,t){t.story.spaces.splice(t.story.spaces.findIndex(function(e){return e.id===t.space.id}),1)},destroyShading:function(e,t){t.story.shading.splice(t.story.shading.findIndex(function(e){return e.id===t.shading.id}),1)},destroyImage:function(e,t){t.story.images.splice(t.story.images.findIndex(function(e){return e.id===t.image.id}),1)},destroyStory:function(e,t){e.stories.splice(e.stories.findIndex(function(e){return e.id===t.story.id}),1)},destroyObject:function(e,t){var n=t.object.id;e.library=c.default.mapValues(e.library,function(e){return c.default.reject(e,{id:n})})},updateStoryWithData:function(e,t){var n=t.story;delete t.story,(0,l.default)(n,t)},createImageForStory:function(e,t){var n=e.stories.find(function(e){return e.id===t.story_id});n.images.push(t.image)},updateSpaceWithData:function(e,t){var n=t.space;(0,l.default)(n,t),delete n.space},updateShadingWithData:function(e,t){var n=t.shading;(0,l.default)(n,t),delete n.shading},updateImageWithData:function(e,t){var n=t.image;(0,l.default)(n,t),delete n.image},updateObjectWithData:function(e,t){var n=t.object;(0,l.default)(n,t),delete n.object},createWindow:function(e,t){var n=t.story_id,r=t.edge_id,i=t.window_definition_id,o=t.alpha,a=t.id,s=t.name,d=c.default.find(e.stories,{id:n});d.windows.push({window_definition_id:i,edge_id:r,alpha:o,id:a,name:s})},createWindows:function(e,t){var n={};t.forEach(function(e){var t=e.story_id,r=e.edge_id,i=e.window_definition_id,o=e.alpha,a=e.id,s=e.name,d={window_definition_id:i,edge_id:r,alpha:o,id:a,name:s};n[t]?n[t].push(d):n[t]=[d]}),(0,s.default)(n).forEach(function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1],a=c.default.find(e.stories,{id:r});a.windows=a.windows.concat(i)})},createDoor:function(e,t){var n=t.story_id,r=t.edge_id,i=t.door_definition_id,o=t.alpha,a=t.id,s=c.default.find(e.stories,{id:n});s.doors.push({door_definition_id:i,edge_id:r,alpha:o,id:a,name:name})},createDoors:function(e,t){var n={};t.forEach(function(e){var t=e.story_id,r=e.edge_id,i=e.door_definition_id,o=e.alpha,a=e.id,s={door_definition_id:i,edge_id:r,alpha:o,id:a,name:name};n[t]?n[t].push(s):n[t]=[s]}),(0,s.default)(n).forEach(function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1],a=c.default.find(e.stories,{id:r});a.doors=a.doors.concat(i)})},dropWindows:function(e,t){var n=t.story_id,r=c.default.find(e.stories,{id:n});r.windows=[]},dropDoors:function(e,t){var n=t.story_id,r=c.default.find(e.stories,{id:n});r.doors=[]},createDaylightingControl:function(e,t){var n=t.story_id,r=t.face_id,i=t.daylighting_control_definition_id,o=t.vertex_id,a=t.name,s=t.id,d=c.default.find(e.stories,{id:n}),l=c.default.find(d.spaces,{face_id:r});l.daylighting_controls.push({daylighting_control_definition_id:i,vertex_id:o,id:s,name:a})},dropDaylightingControls:function(e,t){var n=t.story_id,r=c.default.find(e.stories,{id:n});r.spaces=r.spaces.map(function(e){return 0===e.daylighting_controls.length?e:(0,l.default)({},e,{daylighting_controls:[]})})},destroyWindowsByDefinition:function(e,t){var n=t.id;e.stories.forEach(function(e){e.windows=c.default.reject(e.windows,{window_definition_id:n})})},destroyDaylightingControlsByDefinition:function(e,t){var n=t.id;e.stories.forEach(function(e){e.spaces.forEach(function(e){e.daylighting_controls=c.default.reject(e.daylighting_controls,{daylighting_control_definition_id:n})})})},destroyDoorsByDefinition:function(e,t){var n=t.id;e.stories.forEach(function(e){e.doors=c.default.reject(e.doors,{door_definition_id:n})})},destroyDaylightingControl:function(e,t){var n=t.story_id,r=t.object.id,i=c.default.find(e.stories,{id:n});i.spaces.forEach(function(e){e.daylighting_controls=c.default.reject(e.daylighting_controls,{id:r})})},modifyDaylightingControl:function(e,t){var n=t.story_id,r=t.id,i=t.key,o=t.value,a=c.default.find(e.stories,{id:n});a.spaces.some(function(e){var t=c.default.find(e.daylighting_controls,{id:r});return!!t&&(t[i]=o,!0)})},destroyWindow:function(e,t){var n=t.story_id,r=t.object.id,i=c.default.find(e.stories,{id:n});i.windows=c.default.reject(i.windows,{id:r})},destroyWindows:function(e,t){var n={};t.forEach(function(e){var t=e.story_id,r=e.object.id;n[t]?n[t].push(r):n[t]=[r]}),(0,s.default)(n).forEach(function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1],a=c.default.find(e.stories,{id:r});a.windows=a.windows.filter(function(e){return i.indexOf(e.id)===-1})})},destroyDoor:function(e,t){var n=t.story_id,r=t.object.id,i=c.default.find(e.stories,{id:n});i.doors=c.default.reject(i.doors,{id:r})},destroyDoors:function(e,t){var n={};t.forEach(function(e){var t=e.story_id,r=e.object.id;n[t]?n[t].push(r):n[t]=[r]}),(0,s.default)(n).forEach(function(t){var n=(0,o.default)(t,2),r=n[0],i=n[1],a=c.default.find(e.stories,{id:r});a.doors=a.doors.filter(function(e){return i.indexOf(e.id)===-1})})},modifyWindow:function(e,t){var n=t.story_id,r=t.id,i=t.key,o=t.value,a=c.default.find(e.stories,{id:n}),s=c.default.find(a.windows,{id:r});s[i]=o},modifyDoor:function(e,t){var n=t.story_id,r=t.id,i=t.key,o=t.value,a=c.default.find(e.stories,{id:n}),s=c.default.find(a.doors,{id:r});s[i]=o},cloneObjectArray:function(e,t){var n=e.stories.find(function(e){return e.id===t.currentStory.id});n.spaces=t.storyInfo.spaces,p.default.replaceSpaceNamesForCloning(e,"spaces",t.currentStory),n.shading=t.storyInfo.shading,n.doors=t.storyInfo.doors,n.images=t.storyInfo.images,n.windows=t.storyInfo.windows}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i);t.default={name:function(e,t,n,r){var i=t.getters["models/all"];switch(r){case"stories":i=t.state.models.stories;break;case"spaces":i=t.getters["models/allSpaces"];break;case"shading":i=t.getters["models/allShading"];break;case"images":i=t.getters["models/allImages"];break;default:i=t.state.models.library[r]}var o="";return i.filter(function(t){return t.name===n&&t.id!==e.id}).length?o="Names must be unique.":""===n&&(o="Names must be at least 1 characters long."),o?{success:!1,error:o}:{success:!0}},number:function(e,t,n,r){var i="";return isNaN(n)&&(i="Value must be numeric."),i?{success:!1,error:i}:{success:!0}},oneOf:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r,i){return o.default.includes(t,r)?{success:!0}:{success:!1,error:"Expected one of "+t+", got "+r}}},gt0:function(e,t,n,r){return n>0?{success:!0}:{success:!1,error:"Expected value to be greater than zero"}},closedInterval:function(e,t){return function(n,r,i,o){return i<e||i>t?{success:!1,error:"Must be between "+e+" and "+t}:{success:!0}}},halfOpenInterval:function(e,t){return function(n,r,i,o){return i<e||i>=t?{success:!1,error:"Must be greater than or equal "+e+" and less than "+t}:{success:!0}}},gt0orNull:function(e,t,n,r){return null===n||""===n||n>0?{success:!0}:{success:!1,error:"If provided, value must be greater than 0"}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(54),o=r(i),a=n(3),s=r(a),d=n(397),l=r(d);t.default={setUnits:function(e,t){var n=e.commit,r=e.dispatch,i=e.rootState;if("m"===t.units||"ft"===t.units)throw new Error('units must be "ip" or "si"');"ip"!==t.units&&"si"!==t.units||(n("setUnits",t),i.models.stories.forEach(function(e){return r("models/destroyStory",{story:e},{root:!0})}))},setLanguage:function(e,t){"EN-US"===t.language&&e.commit("setLanguage",t)},setNorthAxis:function(e,t){var n=t.north_axis;n>360||n<0||(e.commit("setConfigNorthAxis",{
north_axis:n}),e.commit("setMapRotation",{rotation:n*Math.PI/180}))},setMapVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setMapVisible",t)},setPreview3DEnabled:function(e,t){e.commit("setPreview3DEnabled",t)},setMapEnabled:function(e,t){"boolean"==typeof t.enabled&&e.commit("setMapEnabled",t)},setMapInitialized:function(e,t){"boolean"==typeof t.initialized&&e.commit("setMapInitialized",t)},setGridVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setGridVisible",t)},setSpacing:function(e,t){e.commit("setSpacing",t)},setViewMinX:function(e,t){e.commit("setViewMinX",t)},setViewMinY:function(e,t){e.commit("setViewMinY",t)},setViewMaxX:function(e,t){var n=new l.default(t);n.validateInt("max_x"),n.validateMin("max_x",e.state.view.min_x),e.commit("setViewMaxX",n.validatedPayload)},setViewMaxY:function(e,t){var n=new l.default(t);n.validateInt("max_y"),n.validateMin("max_y",e.state.view.min_y),e.commit("setViewMaxY",n.validatedPayload)},setDimensions:function(e,t){var n=new l.default(t);n.validateInt("max_y"),n.validateMin("max_y",e.state.view.min_y),n.validateInt("max_x"),n.validateMin("max_x",e.state.view.min_x),e.commit("setDimensions",t)},setZoom:function(e,t){e.commit("setMapZoom",t)},setMapLatitude:function(e,t){var n=new l.default(t);n.validateFloat("latitude"),n.validateMax("latitude",180),n.validateMin("latitude",-180),e.commit("setMapLatitude",n.validatedPayload)},setMapLongitude:function(e,t){var n=new l.default(t);n.validateFloat("longitude"),n.validateMax("longitude",180),n.validateMin("longitude",-180),e.commit("setMapLongitude",n.validatedPayload)},setMapZoom:function(e,t){var n=new l.default(t);n.validateFloat("zoom"),e.commit("setMapZoom",{zoom:t.zoom})},setMapRotation:function(e,t){e.commit("setConfigNorthAxis",{north_axis:t.rotation/(2*Math.PI)*360}),e.commit("setMapRotation",{rotation:t.rotation})},setPreviousStoryVisible:function(e,t){e.commit("setPreviousStoryVisible",{visible:t.visible})},setShowImportExport:function(e,t){e.commit("setShowImportExport",t)},zoomToFit:function(e,t){t.geometry_id,t.widthOverHeight;e.commit("setView",{xExtent:xExtent,yExtent:yExtent})},modifyGround:function(e,t){var n=e.state,r=e.commit,i=t.key,a=t.val,d=+a;return isNaN(d)&&(d=0),s.default.includes((0,o.default)(n.ground),i)?"tilt_angle"===i&&(d<0||d>=90)?void window.eventBus.$emit("error","Tilt Angle must be in [0, 90)"):void r("modifyGround",{key:i,value:d}):void console.error('unrecognized ground property "'+i+'"')}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={snapTolerance:function(e){var t=.025*Math.abs(e.view.max_x-e.view.min_x);return e.grid.visible?.5*e.grid.spacing:t},angleTolerance:function(){return 20}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(95),o=r(i);t.default={setUnits:function(e,t){"units"in t&&(e.config.units=t.units),"editable"in t&&(e.config.unitsEditable=t.editable)},setLanguage:function(e,t){"language"in t&&(e.config.language=t.language)},setConfigNorthAxis:function(e,t){"north_axis"in t&&(e.north_axis=t.north_axis)},setGridVisible:function(e,t){"visible"in t&&(e.grid.visible=t.visible)},setSpacing:function(e,t){e.grid.spacing=t.spacing},setViewMinX:function(e,t){"min_x"in t&&(e.view.min_x=t.min_x)},setViewMinY:function(e,t){"min_y"in t&&(e.view.min_y=t.min_y)},setViewMaxX:function(e,t){"max_x"in t&&(e.view.max_x=t.max_x)},setViewMaxY:function(e,t){"max_y"in t&&(e.view.max_y=t.max_y)},setDimensions:function(e,t){e.view=(0,o.default)({},e.view,t)},setPreview3DEnabled:function(e,t){e.preview3D.enabled=t.enabled},setMapEnabled:function(e,t){"enabled"in t&&(e.map.enabled=t.enabled)},setMapInitialized:function(e,t){"initialized"in t&&(e.map.initialized=t.initialized)},setMapVisible:function(e,t){"visible"in t&&(e.map.visible=t.visible)},setMapLatitude:function(e,t){"latitude"in t&&(e.map.latitude=t.latitude)},setMapLongitude:function(e,t){"longitude"in t&&(e.map.longitude=t.longitude)},setMapZoom:function(e,t){"zoom"in t&&(e.map.zoom=t.zoom)},setMapRotation:function(e,t){"rotation"in t&&(e.map.rotation=t.rotation)},setPreviousStoryVisible:function(e,t){"visible"in t&&(e.previous_story.visible=t.visible)},setShowImportExport:function(e,t){e.show_import_export=t},modifyGround:function(e,t){var n=t.key,r=t.value;e.ground[n]=r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(95),o=r(i),a=n(3),s=r(a),d=n(217),l=r(d);t.default={importState:function(e,t){e.project=(0,o.default)(l.default.state,t.project),e.application=t.application,e.models=t.models,e.geometry=t.geometry},importLibrary:function(e,t){e.models.library=t},changeUnits:function(e,t){s.default.keys(e).forEach(function(n){e[n]=t[n]})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=r(i),a=n(34),s=r(a),d=n(3),l=r(d),u=function(e){return(0,s.default)(e)},c=["application/setScaleX","application/setCurrentTool","application/setScaleY","project/setSpacing","project/setViewMinX","project/setViewMinY","project/setViewMaxX","project/setViewMaxY","project/setDimensions","application/clearSubSelections","application/setCurrentStoryId","application/setCurrentStory","application/setCurrentSpace","application/setCurrentShading","application/setCurrentImage","application/setCurrentSpacePropertyId","application/setCurrentSubSelectionType","project/setPreviousStoryVisible","project/setGridVisible","project/setMapLatitude","project/setMapLongitude","project/setMapRotation"],f=["importFloorplan","project/setMapEnabled","project/setMapInitialized"],p=function(e){return e};t.default={store:null,pastTimetravelStates:[],futureTimetravelStates:[],currentlyInBatch:!1,triggeringAction:"(none)",init:function(e){var t=this;this.store=e,e.timetravel=this,this.pastTimetravelStates=[],this.futureTimetravelStates=[],this.store.replaceState((0,o.default)({},e.state,{timetravelInitialized:!0}));var n=e.replaceState;e.replaceState=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0];i.application.scale=this.state.application.scale,i.project.view=this.state.project.view,i.project.grid=this.state.project.grid,i.project.previous_story=this.state.project.previous_story,n.apply(this,t)};var r=e.commit;e.commit=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(this,t)};var i=e.dispatch;e.dispatch=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n[0];l.default.includes(c,o)||(t.maybeSaveCheckpoint(o),console.log("dispatching action:",n[0])),i.apply(this,n)}},maybeSaveCheckpoint:function(e){var t=this;this.currentlyInBatch||this.saveCheckpoint(e),this.currentlyInBatch=!0,clearTimeout(this.resetBatchFlag),this.resetBatchFlag=setTimeout(function(){t.currentlyInBatch=!1},0)},saveCheckpoint:function(e){this.pastTimetravelStates.push({triggeringAction:this.triggeringAction,state:u(this.store.state)}),this.triggeringAction=e,console.warn("saving state"),this.futureTimetravelStates=[],this.potentiallyRollbackCheckpoint(e)},potentiallyRollbackCheckpoint:function(e){var t=this.pastTimetravelStates,n=this.store;return l.default.includes(f,e)?(this.pastTimetravelStates=[],void(this.futureTimetravelStates=[])):void l.default.defer(function(){for(;t.length>0&&l.default.isEqual(u(n.state),t[t.length-1].state);)console.log("current state matches previous, so rolling back",t[t.length-1].triggeringAction),t.pop()})},undo:function(){if(this.pastTimetravelStates.length){var e=this.pastTimetravelStates.pop(),t=e.state,n=e.triggeringAction,r=JSON.parse(t),i=this.triggeringAction;this.futureTimetravelStates.push({triggeringAction:this.triggeringAction,state:u(this.store.state)}),this.triggeringAction=n,this.store.replaceState(r),console.log("undo",r),window.eventBus.$emit("success","undo "+i)}},redo:function(){if(this.futureTimetravelStates.length){var e=this.futureTimetravelStates.pop(),t=e.state,n=e.triggeringAction,r=JSON.parse(t);this.pastTimetravelStates.push({state:u(this.store.state),triggeringAction:this.triggeringAction}),this.triggeringAction=n,this.store.replaceState(r),window.eventBus.$emit("success","redo "+n),console.log("redo",r)}},logTimetravel:function(){console.log("past:",this.pastTimetravelStates.map(function(e){return p(e)})),console.log("current",p(this.store.state)),console.log("future:",this.futureTimetravelStates.map(function(e){return p(e)}))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e?4===e.length?"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]:e:null}function o(e){return h.default.isArray(e)?e.map(o):h.default.isObject(e)?h.default.mapValues(e,function(e,t){return("id"===t||t.indexOf("_id")>=0)&&h.default.isNumber(e)?String(e):"color"===t?i(e):o(e)}):e}function a(e,t,n){var r=h.default.chain(n).filter({window_definition_mode:"Repeating Windows"}).map(function(e){return[e.id,e]}).fromPairs().value();return e.map(function(e){var n=r[e.window_definition_id];if(n){var i=h.default.find(t.edges,{id:e.edge_id}),o=(0,v.repeatingWindowCenters)({start:h.default.find(t.vertices,{id:i.vertex_ids[0]}),end:h.default.find(t.vertices,{id:i.vertex_ids[1]}),spacing:n.window_spacing,width:n.width});return(0,f.default)({},e,{alpha:h.default.map(o,"alpha")})}return e})}function s(e,t,n){return e.map(function(e){var r=JSON.parse((0,u.default)(h.default.find(t,{id:e.geometry_id})||{edges:[],vertices:[],faces:[]}));return(0,f.default)({},e,{spaces:e.spaces,geometry:r,windows:a(e.windows,r,n),geometry_id:void 0})})}function d(e,t){var n=(0,f.default)({application:e.application,project:e.project,stories:s(e.models.stories,t["geometry/exportData"],e.models.library.window_definitions)},e.models.library,{version:g.default});return o(n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(34),u=r(l),c=n(5),f=r(c);t.default=d;var p=n(3),h=r(p),m=n(402),g=r(m),v=n(18)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return s[e]=(s[e]||0)+1,a.default.palette.colors[s[e]%a.default.palette.colors.length]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(30),a=r(o),s={}},function(e,t,n){"use strict";function r(e){return o[e]=(o[e]||0)+1,i.textures[o[e]%i.textures.length]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(30),o={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.config.north_axis&&(e.north_axis=e.north_axis||e.config.north_axis,delete e.config.north_axis),e.config.units="ft"===e.config.units?"ip":"m"===e.config.units?"si":e.config.units,e}function o(e){return e&&e.length?e.map(function(e){return(0,f.default)({handle:null},e)}):[]}function a(e){return e&&e.length?e.map(function(e){return(0,f.default)({},(0,v.getDefaults)("WindowDefinition"),{window_definition_mode:e.window_definition_type||(0,v.getDefaults)("WindowDefinition").window_definition_mode},e,{window_definition_type:void 0})}):[]}function s(e){return e.map(function(e){var t=e.multiplier>=1?e.multiplier:(0,v.getDefaults)("Story").multiplier;return(0,f.default)({},(0,v.getDefaults)("Story"),e,{spaces:e.spaces.map(function(e){return(0,f.default)({},(0,v.getDefaults)("Space"),e)}),shading:o(e.shading),multiplier:t})})}function d(e,t){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;h.default.isObject(e)?(0,u.default)(e).forEach(function(r){return n(e[r],t,r)}):h.default.isArray(e)?e.forEach(function(e){return n(e,t)}):t(r,e)}window.api&&(window.versionNumber=0);var r=t.options||{},d=t.data.stories.map(function(e){var t=e.geometry.faces.map(function(e){var t=e.edge_ids.map(function(t,n){return{edge_id:t,reverse:!e.edge_order[n]}});return{id:e.id,edgeRefs:t}}),n=e.geometry.edges.map(function(e){return{id:e.id,v1:e.vertex_ids[0],v2:e.vertex_ids[1]}});return{id:e.geometry.id,faces:t,edges:n,vertices:e.geometry.vertices}}),l=t.data.stories.map(function(e){var t=(0,f.default)({geometry_id:e.geometry.id},e);return delete t.geometry,t}),c=0;n(t,function(e,t){e&&"id"===e&&+t>c&&(c=+t)}),c+=1,g.default.setId(c),e.commit("importState",{project:i(t.data.project),application:e.state.application,models:{stories:s(l),library:{building_units:o(t.data.building_units),thermal_zones:o(t.data.thermal_zones),space_types:o(t.data.space_types),construction_sets:o(t.data.construction_sets),window_definitions:a(t.data.window_definitions),daylighting_control_definitions:t.data.daylighting_control_definitions||[],pitched_roofs:(t.data.pitched_roofs||[]).map(function(e){return(0,f.default)({shed_direction:null},e)}),door_definitions:o(t.data.door_definitions)}},geometry:d}),h.default.defer(function(){e.dispatch("application/setCurrentStoryId",{id:l[0].id},{root:!0}),l.forEach(function(t){return e.dispatch("geometry/trimGeometry",{geometry_id:t.geometry_id})}),r.noReloadGrid||h.default.defer(function(){return window.eventBus.$emit("zoomToFit")})}),r.noReloadGrid||document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(54),u=r(l),c=n(5),f=r(c);t.default=d;var p=n(3),h=r(p),m=n(62),g=r(m),v=n(145)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=0;l.libraryTypes.forEach(function(r){if(t.data[r]&&t.data[r].length){var i=e.state.models.library[r].map(function(e){return/_\d+[\w\s]?$/.test(e.name)?e.name.split("_").slice(0,-1).join("_"):e.name});t.data[r]=t.data[r].map(function(e){var t=e;t.id=d.default.generate();var r=i.filter(function(t){return t===e.name}).length;return r&&(t.name+="_"+r),n+=1,t})}});var r=e.state.project.config.units,i=a.default.get(t,"data.project.config.units"),o="ft"===i?"ip":"m"===i?"si":i;"ip"!==o&&"si"!==o&&(console.warn('Expected data.project.config.units to be "ip" or "si", received "'+i+'"'),console.warn("unable to determine units of library -- using project units"),o=r);var s=(0,u.convertLibrary)(t.data,o,r);window.eventBus.$emit("success","Imported "+n+" object"+(1!==n?"s":"")),e.commit("importLibrary",a.default.fromPairs(["building_units","thermal_zones","space_types","construction_sets","window_definitions","daylighting_control_definitions","pitched_roofs"].map(function(t){return[t,e.state.models.library[t].concat(s[t]||[])]})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(3),a=r(o),s=n(62),d=r(s),l=n(30),u=n(146)},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return{invalidKeys:n,validatedPayload:t,validateLength:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r in e&&n.indexOf(r)===-1&&(r in e&&e[r].length>=i?t[r]=e[r]:(delete t[r],n.push(r)))},validateMin:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r in e&&n.indexOf(r)===-1&&(e[r]>i?t[r]=e[r]:(delete t[r],n.push(r)))},validateMax:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r in e&&n.indexOf(r)===-1&&(r in e&&e[r]<i?t[r]=e[r]:(delete t[r],n.push(r)))},validateFloat:function(r){r in e&&n.indexOf(r)===-1&&(r in e&&!isNaN(parseFloat(e[r]))?t[r]=parseFloat(e[r]):(delete t[r],n.push(r)))},validateInt:function(r){r in e&&n.indexOf(r)===-1&&(r in e&&!isNaN(parseInt(e[r]))?t[r]=parseInt(e[r]):(delete t[r],n.push(r)))},validateBoolean:function(r){r in e&&n.indexOf(r)===-1&&(r in e?t[r]=!!e[r]:(delete t[r],n.push(r)))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"list of vertices",n=[];return e.map(function(e,t,n){return[n[0===t?n.length-1:t-1],n[t],n[(t+1)%n.length]]}).forEach(function(e){var r=(0,f.default)(e,3),i=r[0],o=r[1],a=r[2];(0,m.ptsAreCollinear)(i,o,a)&&(0,m.distanceBetweenPoints)(i,o)>(0,m.distanceBetweenPoints)(i,a)&&n.push(t+" has a backwards section ("+(0,u.default)(i)+" -> "+(0,u.default)(o)+" -> "+(0,u.default)(a)+")")}),n}function o(e){return i(e.vertices,"face "+e.id)}function a(e){var t=[],n=function(e){return e.x+":"+e.y},r=h.default.fromPairs(e.vertices.map(function(e){return[n(e),e.id]})),i=function(e){return Math.min(+e.v1.id,+e.v2.id)+":"+Math.max(+e.v1.id,+e.v2.id)},a=h.default.fromPairs(e.edges.map(function(e){return[i(e),e.id]}));return e.vertices.forEach(function(e){e.id!==r[n(e)]&&t.push("vertex "+e.id+" is a duplicate of "+r[n(e)])}),e.edges.forEach(function(e){e.v1.id!==e.v2.id&&n(e.v1)!==n(e.v2)||t.push("edge "+e.id+" is of length zero"),e.id!==a[i(e)]&&t.push("edge "+e.id+" is a duplicate of "+a[i(e)])}),e.faces.map(o).forEach(function(e){return t.push.apply(t,(0,d.default)(e))}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(40),d=r(s),l=n(34),u=r(l),c=n(63),f=r(c);t.checkVertexList=i,t.checkFace=o,t.default=a;var p=n(3),h=r(p),m=n(18)},function(e,t){"use strict";function n(e,t,n){return(299*e+587*t+114*n)/1e3}Object.defineProperty(t,"__esModule",{value:!0}),t.brightness=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(t){var n=m,r=g,i=d.event;return l.event=v,v=m=g=void 0,T=t,_=e.apply(r,n),l.event=i,_}function i(e){return T=e,w=setTimeout(u,t),x?r(e):_}function o(e){var n=e-E,r=e-T,i=t-n;return b?Math.min(i,y-r):i}function a(e){var n=e-E,r=e-T;return void 0===E||n>=t||n<0||b&&r>=y}function u(){var e=s.default.now();return a(e)?c(e):void(w=setTimeout(u,o(e)))}function c(e){return w=void 0,S&&m?r(e):(v=m=g=void 0,_)}function f(){void 0!==w&&clearTimeout(w),T=0,v=m=E=g=w=void 0}function p(){return void 0===w?_:c(s.default.now())}function h(){var e=s.default.now(),n=a(e);if(m=arguments,g=this,E=e,v=d.event,n){if(void 0===w)return i(E);if(b)return w=setTimeout(u,t),r(E)}return void 0===w&&(w=setTimeout(u,t)),_}var m,g,v,y,_,w,E,T=0,x=!1,b=!1,S=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=s.default.toNumber(t)||0,s.default.isObject(n)&&(x=!!n.leading,b="maxWait"in n,y=b?Math.max(s.default.toNumber(n.maxWait)||0,t):y,S="trailing"in n?!!n.trailing:S),h.cancel=f,h.flush=p,h}function o(e,t){return i(e,t,{leading:!0,trailing:!0,maxWait:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(3),s=r(a),d=n(93),l=n(77)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return u.default.forOwn(e,function(e){u.default.isObject(e)&&i(e)}),(0,d.default)(e)||(0,a.default)(e),e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(414),a=r(o),s=n(417),d=r(s);t.default=i;var l=n(3),u=r(l)},function(e,t){"use strict";e.exports="0.7.0"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(767),n(768);var r=n(9)(n(342),n(855),"data-v-c1b60834",null);e.exports=r.exports},function(e,t,n){n(747);var r=n(9)(n(343),n(830),"data-v-031586be",null);e.exports=r.exports},function(e,t,n){n(755);var r=n(9)(n(344),n(838),"data-v-3d99eee3",null);e.exports=r.exports},function(e,t,n){var r=n(9)(n(345),n(840),null,null);e.exports=r.exports},function(e,t,n){n(752);var r=n(9)(n(346),n(835),"data-v-306f4abb",null);e.exports=r.exports},function(e,t,n){n(762);var r=n(9)(n(347),n(848),"data-v-746cecc8",null);e.exports=r.exports},function(e,t,n){n(757);var r=n(9)(n(348),n(841),null,null);e.exports=r.exports},function(e,t,n){var r=n(9)(n(349),n(843),null,null);e.exports=r.exports},function(e,t,n){n(766);var r=n(9)(n(351),n(854),"data-v-a8e9dfbe",null);e.exports=r.exports},function(e,t,n){var r=n(9)(n(352),n(842),null,null);e.exports=r.exports},function(e,t,n){n(765);var r=n(9)(n(353),n(852),"data-v-987d60e8",null);e.exports=r.exports},function(e,t,n){n(761);var r=n(9)(n(354),n(847),"data-v-73ec12ee",null);e.exports=r.exports},function(e,t,n){var r=n(9)(n(355),n(853),null,null);e.exports=r.exports},function(e,t,n){n(750);var r=n(9)(n(357),n(833),null,null);e.exports=r.exports},function(e,t,n){n(769);var r=n(9)(n(358),n(856),"data-v-d56d6c28",null);e.exports=r.exports},function(e,t,n){n(754);var r=n(9)(n(360),n(837),"data-v-3c3490f3",null);e.exports=r.exports},function(e,t,n){n(751);var r=n(9)(n(361),n(834),null,null);e.exports=r.exports},function(e,t,n){n(759);var r=n(9)(n(362),n(845),"data-v-64bc751c",null);e.exports=r.exports},function(e,t,n){n(763);var r=n(9)(n(363),n(849),null,null);e.exports=r.exports},function(e,t,n){var r=n(9)(n(365),n(850),null,null);e.exports=r.exports},function(e,t,n){n(753);var r=n(9)(n(366),n(836),"data-v-309036ee",null);e.exports=r.exports},function(e,t,n){n(758);var r=n(9)(n(367),n(844),null,null);e.exports=r.exports},function(e,t,n){n(756);var r=n(9)(n(368),n(839),"data-v-40563b8d",null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"canvas",attrs:{id:"canvas"}},[n("svg",{attrs:{id:"north_axis",height:"1792",viewBox:"0 0 1792 1792",width:"1792",xmlns:"http://www.w3.org/2000/svg",transform:"rotate("+e.northAxis+")"}},[n("path",{attrs:{d:"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z"}})]),e._v(" "),e.mapEnabled?n("map-view",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}]}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.col.readonly||!e.col.input_type?n("span",{class:{numeric:e.col.numeric}},[e._v("\n  "+e._s(e.value)+"\n")]):"text"===e.col.input_type?n("input",{class:{numeric:e.col.numeric},attrs:{disabled:e.disabled,placeholder:e.col.nullable&&null===e.row[e.col.name]?"(none)":null},domProps:{value:e.value},on:{keydown:e.blurOnEnter,blur:function(t){e.onChange(t.target.value),e.$forceUpdate()}}}):"color"===e.col.input_type?n("div",{staticClass:"color-wrapper"},[n("input",{staticClass:"input-color",style:e.colorStyles,attrs:{disabled:e.disabled,readonly:""},domProps:{value:e.row[e.col.name]},on:{click:function(t){e.showColorModal=!0}}}),e._v(" "),e.showColorModal?n("ColorPickerModal",{attrs:{value:e.row[e.col.name]},on:{close:function(t){e.showColorModal=!1},change:e.onChange}}):e._e()],1):"select"===e.col.input_type?n("pretty-select",{attrs:{options:e.selectData,value:e.row[e.col.name],disabled:e.disabled},on:{change:function(t){return e.onChange(t)}}}):"texture"===e.col.input_type?n("TextureSelect",{attrs:{value:e.row[e.col.name],disabled:e.disabled},on:{change:function(t){return e.onChange(t)}}}):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("div",{staticClass:"overlay",on:{click:e.close}}),e._v(" "),n("div",{staticClass:"modal"},[n("span",[n("svg",{staticClass:"close-button",attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:e.close}},[n("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])]),e._v(" "),n("header",[n("h2",[e._v(e._s(e.title))])]),e._v(" "),n("div",{staticClass:"content"},[e._t("default")],2)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"color-picker-modal"},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper",on:{click:function(t){e.$emit("close")}}},[n("div",{staticClass:"modal-container",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"modal-body"},[n("swatches",{attrs:{inline:"","show-fallback":""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)])])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModalBase",{staticClass:"settings-modal",attrs:{title:"Settings"},on:{close:function(t){e.$emit("close")}}},[n("div",{staticClass:"settings"},[n("p",[n("label",{staticClass:"input-text"},[e._v("\n        North Axis\n        "),n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.northAxis,expression:"northAxis",modifiers:{number:!0,lazy:!0}}],attrs:{type:"text",disabled:e.mapEnabled},domProps:{value:e.northAxis},on:{change:function(t){e.northAxis=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("ExpandableDrawer",{staticClass:"ground-props-drawer",attrs:{title:"Ground Properties"}},[n("p",[n("label",{staticClass:"input-text"},[e._v("\n          Floor Offset\n          "),n("Info",[e._v("\n            Specifies the vertical offset between the building floor and the ground plane.\n            Use a value < 0 for buildings with below-grade spaces, or a value > 0 for,\n            e.g., buildings on piers.\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.floor_offset,expression:"floor_offset"}],attrs:{type:"text"},domProps:{value:e.floor_offset},on:{input:function(t){t.target.composing||(e.floor_offset=t.target.value)}}})],1)]),e._v(" "),n("p",[n("label",{staticClass:"input-text"},[e._v("\n          Azimuth Angle\n          "),n("Info",[e._v("\n            Direction of the ground plane, in clockwise degrees from the\n            positive y-axis when viewed from above.\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.azimuth_angle,expression:"azimuth_angle"}],attrs:{type:"text"},domProps:{value:e.azimuth_angle},on:{input:function(t){t.target.composing||(e.azimuth_angle=t.target.value)}}})],1)]),e._v(" "),n("p",[n("label",{staticClass:"input-text"},[e._v("\n          Tilt Slope\n          "),n("Info",[e._v("\n            Slope of the ground plane from horizontal. For example, a value of 1 implies a 45° angle.\n          ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tilt_slope,expression:"tilt_slope"}],attrs:{type:"text"},domProps:{value:e.tilt_slope},on:{input:function(t){t.target.composing||(e.tilt_slope=t.target.value)}}})],1)])]),e._v(" "),n("button",{staticClass:"button",on:{click:function(t){e.$emit("close")}}},[e._v("Okay")])],1)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"edit-bar"},[e._l(e.columns,function(t){return n("span",{key:t.name,attrs:{"data-column":t.name}},[n("GenericInput",{attrs:{col:t,row:e.row,onChange:e.updateRow.bind(null,e.row.id,t.name)}})],1)}),e._v(" "),n("span",{staticClass:"destroy",on:{click:function(t){e.destroy()}}},[n("Delete",{staticClass:"button"})],1)],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-select"},[e.disabled?e._e():n("button",{class:"texture-"+e.value,on:{click:function(t){e.open=!e.open},blur:function(t){e.open=!1}}},[n("span",{staticClass:"svg-background"}),e._v(" "),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[n("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),e.open?n("Portal",{attrs:{to:"texture-options"}},[n("ul",{style:e.ulStyle()},e._l(e.textures,function(t){return n("li",{key:t,class:(r={selected:t===e.value},r["texture-"+t]=!0,r),on:{mousedown:function(n){e.choose(t)}}});var r}))]):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModalBase",{staticClass:"save-as-modal",attrs:{title:"Save Floorplan As"},on:{close:function(t){e.$emit("close")}}},[n("div",{staticClass:"grid-container"},[e.enable3DPreview?n("div",{staticClass:"export-label"},[e._v("Export Format:")]):e._e(),e._v(" "),e.enable3DPreview?n("div",{staticClass:"export-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.exportType,expression:"exportType"}],attrs:{type:"radio",id:"export-input-floorspace",value:"floorspace"},domProps:{checked:e._q(e.exportType,"floorspace")},on:{change:function(t){e.exportType="floorspace"}}}),e._v(" "),n("label",{attrs:{for:"export-input-floorspace"}},[e._v("Floorspace.js")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.exportType,expression:"exportType"}],attrs:{type:"radio",id:"export-input-threejs",value:"threejs"},domProps:{checked:e._q(e.exportType,"threejs")},on:{change:function(t){e.exportType="threejs"}}}),e._v(" "),n("label",{attrs:{for:"export-input-threejs"}},[e._v("ThreeJS")])]):e._e(),e._v(" "),n("div",{staticClass:"filename-label"},[e._v("Filename:")]),e._v(" "),n("div",{staticClass:"filename-input"},[n("input",{ref:"downloadName",attrs:{type:"text",id:"download-name",spellcheck:"false"},domProps:{value:e.floorplan},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key)?void e.downloadFile(t):null}}})]),e._v(" "),n("button",{staticClass:"download-button",on:{click:e.downloadFile}},[e._v("Download")])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"map-container"}},[n("div",{ref:"map",style:{"pointer-events":"Map"===e.tool?"all":"none"},attrs:{id:"map"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"autocomplete"}},[n("span",{staticClass:"input-text"},[n("input",{ref:"addressSearch",attrs:{type:"text",placeholder:"Search for a location"}})])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"help-text"}},[n("p",[e._v("Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.")]),e._v(" "),n("button",{on:{click:e.finishSetup}},[e._v("Done")])]),e._v(" "),e.mapModalVisible&&!e.mapInitialized?n("map-modal",{on:{close:function(t){e.mapModalVisible=!1,e.showReticle()}}}):e._e(),e._v(" "),n("svg",{attrs:{id:"reticle"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{attrs:{id:"toolbar"}},[n("section",{attrs:{id:"top"}},[n("div",{attrs:{id:"navigation-head"}},[e.showImportExport?n("div",{staticClass:"import-export-buttons"},[n("input",{ref:"importLibrary",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"library")}}}),e._v(" "),n("input",{ref:"importInput",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"floorplan")}}}),e._v(" "),n("div",{attrs:{title:"Open Floorplan"}},[n("open-floorplan-svg",{staticClass:"button",attrs:{id:"import"},nativeOn:{click:function(t){e.$refs.importInput.click()}}})],1),e._v(" "),n("div",{attrs:{title:"Save Floorplan"}},[n("save-floorplan-svg",{
staticClass:"button",attrs:{id:"export"},nativeOn:{click:function(t){e.exportData(t)}}})],1),e._v(" "),n("div",{attrs:{title:"Import Library"}},[n("import-library-svg",{staticClass:"button",nativeOn:{click:function(t){e.$refs.importLibrary.click()}}})],1),e._v(" "),e.enable3DPreview?n("div",{attrs:{title:"Open 3D Previewer"}},[n("globe-icon-svg",{staticClass:"button",nativeOn:{click:function(t){e.open3DPreviewer(t)}}})],1):e._e()]):e._e(),e._v(" "),n("div",{attrs:{id:"undo-redo"}},[n("div",{attrs:{title:"undo"}},[n("undo-svg",{staticClass:"button",class:{disabled:!e.timetravelInitialized},nativeOn:{click:function(t){e.undo(t)}}})],1),e._v(" "),n("div",{attrs:{title:"redo"}},[n("redo-svg",{staticClass:"button",class:{disabled:!e.timetravelInitialized},attrs:{disabled:!e.timetravelInitialized},nativeOn:{click:function(t){e.redo(t)}}})],1)])]),e._v(" "),n("ul",{attrs:{id:"mode-tabs"}},[n("li",{staticClass:"tab",class:{active:"floorplan"===e.modeTab},attrs:{"data-modetab":"floorplan"},on:{click:function(t){e.modeTab="floorplan"}}},[n("span",[e._v("\n          Floorplan\n          "),n("tab-floorplan-svg",{staticClass:"icon"})],1)]),e._v(" "),n("li",{staticClass:"tab",class:{active:"assign"===e.modeTab},on:{click:function(t){e.modeTab="assign"}}},[n("span",[e._v("\n          Assignments\n          "),n("tab-assign-svg",{staticClass:"icon"})],1)]),e._v(" "),n("li",{staticClass:"tab",class:{active:"components"===e.modeTab},attrs:{"data-modetab":"components"},on:{click:function(t){e.modeTab="components"}}},[n("span",[e._v("\n          Components\n          "),n("tool-component-svg",{staticClass:"icon"})],1)]),e._v(" "),e._m(0)]),e._v(" "),n("div",{attrs:{id:"grid-settings"}},[n("div",{staticClass:"input-checkbox"},[n("label",[e._v("Story Below")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.previousStoryVisible,expression:"previousStoryVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previousStoryVisible)?e._i(e.previousStoryVisible,null)>-1:e.previousStoryVisible},on:{change:function(t){var n=e.previousStoryVisible,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&(e.previousStoryVisible=n.concat([o])):a>-1&&(e.previousStoryVisible=n.slice(0,a).concat(n.slice(a+1)))}else e.previousStoryVisible=i}}})]),e._v(" "),e.mapEnabled?n("div",{staticClass:"input-checkbox"},[n("label",[e._v("map")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.mapVisible,expression:"mapVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.mapVisible)?e._i(e.mapVisible,null)>-1:e.mapVisible},on:{change:function(t){var n=e.mapVisible,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&(e.mapVisible=n.concat([o])):a>-1&&(e.mapVisible=n.slice(0,a).concat(n.slice(a+1)))}else e.mapVisible=i}}})]):e._e(),e._v(" "),n("div",{staticClass:"input-checkbox"},[n("label",[e._v("grid")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.gridVisible,expression:"gridVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.gridVisible)?e._i(e.gridVisible,null)>-1:e.gridVisible},on:{change:function(t){var n=e.gridVisible,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);r.checked?a<0&&(e.gridVisible=n.concat([o])):a>-1&&(e.gridVisible=n.slice(0,a).concat(n.slice(a+1)))}else e.gridVisible=i}}})]),e._v(" "),n("div",{staticClass:"input-number"},[n("label",[e._v("spacing")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.spacing,expression:"spacing",modifiers:{number:!0,lazy:!0}}],domProps:{value:e.spacing},on:{change:function(t){e.spacing=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.allowSettingUnits?e._e():n("label",[e._v(e._s(e.rwUnits))])]),e._v(" "),e.allowSettingUnits?n("PrettySelect",{ref:"unitsSelect",attrs:{options:["ft","m"],value:e.rwUnits},on:{change:e.updateUnits}}):e._e(),e._v(" "),n("div",{attrs:{title:"settings"},on:{click:function(t){e.showGroundPropsModal=!0}}},[n("SettingsGear",{staticClass:"button"})],1)],1)]),e._v(" "),n("section",{class:e.modeTab,attrs:{id:"bottom"}},["floorplan"===e.modeTab?[n("div",{attrs:{id:"instructions"}},[e._v("Draw a floorplan and import images")]),e._v(" "),n("div",{staticClass:"tools-list tools",attrs:{id:"drawing-tools"}},[n("div",{class:{active:"Rectangle"===e.tool},attrs:{"data-tool":"Rectangle",title:"Rectangle"},on:{click:function(t){e.tool="Rectangle"}}},[n("tool-draw-rectangle-svg",{staticClass:"button"})],1),e._v(" "),n("div",{class:{active:"Polygon"===e.tool},attrs:{"data-tool":"Polygon",title:"Polygon"},on:{click:function(t){e.tool="Polygon"}}},[n("tool-draw-polygon-svg",{staticClass:"button"})],1),e._v(" "),n("div",{class:{active:"Fill"===e.tool},attrs:{"data-tool":"Fill",title:"Fill"},on:{click:function(t){e.tool="Fill"}}},[n("tool-fill-svg",{staticClass:"button"})],1),e._v(" "),n("div",{class:{active:"Eraser"===e.tool},attrs:{"data-tool":"Eraser",title:"Eraser"},on:{click:function(t){e.tool="Eraser"}}},[n("tool-erase-svg",{staticClass:"button"})],1),e._v(" "),n("div",{class:{active:"Image"===e.tool},attrs:{"data-tool":"Image",title:"Image"},on:{click:e.setImageTool}},[n("tool-image-svg",{staticClass:"button"})],1)])]:e._e(),e._v(" "),"components"===e.modeTab?[n("div",{attrs:{id:"instructions"}},[e.currentComponentDefinition?n("span",[e._v("Click to place a "+e._s(e.currentComponentDefinition.name))]):n("span",[e._v("Add fenestration, daylighting, and PV")])]),e._v(" "),n("ComponentInstanceEditBar")]:e._e(),e._v(" "),"assign"===e.modeTab?[n("div",{attrs:{id:"instructions"}},[e._v("Assign thermal zones, etc, to spaces")])]:e._e(),e._v(" "),n("div",{attrs:{id:"grid-tools"}},[n("RenderByDropdown"),e._v(" "),n("div",{attrs:{title:"zoom to fit"}},[n("ZoomToFitSvg",{staticClass:"button",nativeOn:{click:function(t){e.zoomToFit(t)}}})],1)],1)],2),e._v(" "),n("section",{staticClass:"modals"},[e.showSaveModal?n("SaveAsModal",{on:{close:function(){e.showSaveModal=!1}}}):e.showGroundPropsModal?n("Settings",{on:{close:function(t){e.showGroundPropsModal=!1}}}):e._e()],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("span")])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showInstanceEditor?n("EditBar",{attrs:{row:e.componentInstance,columns:e.visibleColumns,updateRow:e.modifyComponentInstance,destroy:e.destroyComponent}}):e._e()},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editable-table"},[n("el-table",{attrs:{data:e.sortedRows,height:"calc(50vh - 105px)","empty-text":"No data"},on:{"sort-change":e.sortChange}},[n("TableColumn",{staticClass:"select",attrs:{prop:"select",label:"",width:"35",fixed:!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"select",on:{click:function(n){n.stopPropagation(),e.selectRow(t.row)}}},[n("input",{attrs:{type:"radio"},domProps:{checked:e.selectedItemId===t.row.id}})])]}}])}),e._v(" "),e._l(e.visibleColumns,function(t){return n("TableColumn",{key:t.name,attrs:{"data-column":t.name,prop:t.name,label:t.displayName,"class-name":"column__"+t.name,width:"154",fixed:"name"==t.name,sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(r){return[n("generic-input",{attrs:{col:t,row:r.row,onChange:e.updateRow.bind(null,r.row.id,t.name)}})]}}])})}),e._v(" "),n("TableColumn",{staticClass:"duplicate",attrs:{prop:"duplicate",label:"",width:"35"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"duplicate",attrs:{title:"duplicate"},on:{click:function(n){n.stopPropagation(),e.duplicateRow(t.row)}}},[n("Copy",{staticClass:"button"})],1)]}}])}),e._v(" "),n("TableColumn",{staticClass:"destroy",attrs:{prop:"destroy",label:"",width:"35"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"destroy",attrs:{title:"delete"},on:{click:function(n){n.stopPropagation(),e.deleteRow(t.row)}}},[n("Delete",{staticClass:"button"})],1)]}}])})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{ref:"imageInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg,image/png,image/svg,image/gif",id:"upload-image-input"},on:{change:e.uploadImage}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"expandable-drawer":!0,expanded:e.expanded}},[n("p",{staticClass:"title",on:{click:function(t){e.expanded=!e.expanded}}},[e._v("\n    "+e._s(e.caret)+" "+e._s(e.title)+"\n  ")]),e._v(" "),e.expanded?n("p",[e._t("default")],2):e._e()])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{id:"pattern-defs"}},[n("defs",[e._l(e.modifiers,function(t,r){return[n("pattern",{attrs:{id:"circles-2"+r,patternUnits:"userSpaceOnUse",width:"5",height:"5"}},[n("rect",{attrs:{width:"5",height:"5",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("circle",{attrs:{cx:"1.5",cy:"1.5",r:"1.5",fill:t}})]),e._v(" "),n("pattern",{attrs:{id:"circles-5"+r,patternUnits:"userSpaceOnUse",width:"9",height:"9"}},[n("rect",{attrs:{width:"9",height:"9",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("circle",{attrs:{cx:"3",cy:"3",r:"3",fill:t}})]),e._v(" "),n("pattern",{attrs:{id:"circles-8"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("circle",{attrs:{cx:"4.5",cy:"4.5",r:"4.5",fill:t}})]),e._v(" "),n("pattern",{attrs:{id:"diagonal-stripe-1"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("path",{attrs:{d:"M-1,1 l2,-2\n                 M0,10 l10,-10\n                 M9,11 l2,-2",stroke:t,"stroke-width":"1"}})]),e._v(" "),n("pattern",{attrs:{id:"diagonal-stripe-4"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("path",{attrs:{d:"M-1,1 l2,-2\n                 M0,10 l10,-10\n                 M9,11 l2,-2",stroke:t,"stroke-width":"3"}})]),e._v(" "),n("pattern",{attrs:{id:"diagonal-stripe-6"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:t}}),e._v(" "),n("path",{attrs:{d:"M-1,1 l2,-2\n                 M0,10 l10,-10\n                 M9,11 l2,-2",stroke:"white","stroke-width":"1"}})]),e._v(" "),n("pattern",{attrs:{id:"dots-5"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("rect",{attrs:{x:"0",y:"0",width:"5",height:"5",fill:t}})]),e._v(" "),n("pattern",{attrs:{id:"dots-8"+r,patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[n("rect",{attrs:{width:"10",height:"10",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("rect",{attrs:{x:"0",y:"0",width:"8",height:"8",fill:t}})]),e._v(" "),n("pattern",{attrs:{id:"crosshatch"+r,patternUnits:"userSpaceOnUse",width:"8",height:"8"}},[n("rect",{attrs:{width:"8",height:"8",fill:"#fff","fill-opacity":"0.7"}}),e._v(" "),n("path",{attrs:{d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":"0.5",stroke:t,"stroke-opacity":"0.8"}})]),e._v(" "),n("pattern",{attrs:{id:"vertical-line"+r,patternUnits:"userSpaceOnUse",width:"4",height:"49"}},[n("rect",{attrs:{width:"4",height:"50",fill:"#fff","fill-opacity":"0.8"}}),e._v(" "),n("rect",{attrs:{width:"2",height:"50",fill:"#fff","fill-opacity":"0.5"}}),e._v(" "),n("rect",{attrs:{x:"2",width:"1",height:"50",fill:t,"fill-opacity":"0.5"}})])]})],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"layout-navigation"}},[n("nav",{attrs:{id:"navigation"}},[n("section",{attrs:{id:"selections"}}),e._v(" "),n("div",{attrs:{id:"list"}},[n("Library",{attrs:{objectTypes:["stories"],mode:"stories",compact:"stories"!==e.libraryExpanded},on:{toggleCompact:function(t){e.libraryExpanded="stories"!==e.libraryExpanded&&"stories"}}}),e._v(" "),n("Library",{attrs:{addNewOnHotkey:"true",objectTypes:e.objectTypesForTab,mode:e.subselectionType,searchAvailable:!0,compact:"subselection"!==e.libraryExpanded},on:{changeMode:function(t){e.subselectionType=t},toggleCompact:function(t){e.libraryExpanded="subselection"!==e.libraryExpanded&&"subselection"}}})],1)])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"library-select"},[n("div",{staticClass:"rows"},e._l(e.rows,function(t){return n("div",{key:t.id,class:{active:e.selectedItemId===t.id},attrs:{"data-id":t.id},on:{click:function(n){e.selectItem(t)}}},[n("span",{style:{"background-color":t.color}}),e._v("\n        "+e._s(t.name)+"\n        "),n("div",{staticClass:"buttons"},[n("a",{staticClass:"duplicate",attrs:{title:"duplicate"},on:{click:function(n){n.stopPropagation(),e.duplicateRow(t)}}},[n("Copy",{staticClass:"button"})],1),e._v(" "),n("a",{staticClass:"destroy",attrs:{title:"delete"},on:{click:function(n){n.stopPropagation(),e.destroyItem(t)}}},[n("Delete",{staticClass:"button"})],1)])])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"inspector"}},[n("section",{staticClass:"list",attrs:{id:"geometry-list"}},[e._l(e.currentStoryGeometry.faces,function(t){return e.currentSpace||e.currentShading?e._e():[n("header",[n("h3",[e._v("Face "+e._s(t.id))])]),e._v(" "),e._l(t.edgeRefs,function(t){return n("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),n("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),n("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]}),e._v(" "),e.currentSubSelectionFace?[n("header",[n("h3",[e._v("Face "+e._s(e.currentSubSelectionFace.id)+" on "+e._s(e.currentSpace?e.currentSpace.name:e.currentShading.name))])]),e._v(" "),e._l(e.currentSubSelectionFace.edgeRefs,function(t){return n("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),n("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),n("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]:e._e()],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editable-select-list",class:{expanded:!e.compact},attrs:{"data-object-type":e.selectedObjectType}},[n("div",{staticClass:"controls"},[n("div",{staticClass:"control-group"},[e.objectTypes.length>1?n("PrettySelect",{attrs:{options:e.objectTypes,value:e.selectedObjectType},on:{change:function(t){return e.$emit("selectObjectType",t)}}}):n("span",[e._v(e._s(e.objectTypes[0].display||e.objectTypes[0].displayName))]),e._v(" "),e.addRow?n("a",{staticClass:"add-new",attrs:{title:"Create new"},on:{click:e.addRow}},[n("AddNew",{staticClass:"button"})],1):e._e()],1),e._v(" "),n("div",{staticClass:"control-group"},[n("a",{attrs:{title:e.compact?"expand":"contract"},on:{click:e.toggleCompact}},[n("DoubleArrows",{staticClass:"button",attrs:{transform:e.compact?"":"scale(-1, 1)"}})],1)])]),e._v(" "),n("div",{staticClass:"input-text search-spot"},[e.searchAvailable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-bar",attrs:{placeholder:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()]),e._v(" "),e.compact?n("LibrarySelect",{attrs:{rows:e.searchedRows,selectItem:e.selectRow,destroyItem:e.destroyRow,selectedItemId:e.selectedRowId,duplicateRow:e.duplicateRow}}):n("EditableTable",{attrs:{selectRow:e.selectRow,selectedItemId:e.selectedRowId,columns:e.visibleColumns,rows:e.searchedRows,deleteRow:e.destroyRow,updateRow:e.editRow,duplicateRow:e.duplicateRow}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isChrome?e._e():n("p",{staticClass:"non-chrome-warning"},[e._v("\n  Warning. This web-app is currently only tested against recent versions of Chrome. \n")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"render-by"},[n("PrettySelect",{attrs:{label:"View By",options:e.renderableOptions,value:e.currentMode},on:{change:function(t){e.currentMode=t}}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-select"},[e.label?n("label",[e._v(e._s(e.label))]):e._e(),e._v(" "),n("select",{attrs:{disabled:e.disabled},on:{change:function(t){e.$emit("change",t.target.value)}}},e._l(e.normalizedOpts,function(t){return n("option",{domProps:{value:t.val,selected:t.val===e.value}},[e._v(e._s(t.display))])})),e._v(" "),n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[n("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info"},[n("InfoIcon",{staticClass:"button"}),e._v(" "),n("span",{staticClass:"tooltip-text"},[e._t("default")],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("EditableSelectList",{attrs:{selectedObjectType:e.mode,objectTypes:e.objectTypesDisplay,rows:e.rows,columns:e.columns,selectedRowId:e.selectedObject&&e.selectedObject.id,selectRow:function(t){e.selectedObject=t},addRow:e.addRowPermitted&&e.createObject,editRow:e.modifyObject,destroyRow:e.destroyObject,duplicateRow:e.duplicateRow,searchAvailable:e.searchAvailable,compact:e.compact},on:{toggleCompact:function(t){return e.$emit("toggleCompact",t)},selectObjectType:e.changeMode}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"gridParent",class:{"reduce-ticks":e.reduceTicks},style:{"pointer-events":"Drag"===e.currentTool||"Map"===e.currentTool?"none":"auto"},attrs:{id:"grid"}},[n("svg",{ref:"grid",attrs:{id:"svg-grid"}},[n("g",{staticClass:"axis axis--x"}),e._v(" "),n("g",{staticClass:"axis axis--y"}),e._v(" "),n("g",{staticClass:"images",attrs:{"data-transform-plz":""}}),e._v(" "),n("g",{staticClass:"polygons",attrs:{"data-transform-plz":""}}),e._v(" "),n("g",{staticClass:"walls",attrs:{"data-transform-plz":""}})])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"tool_"+e.tool.toLowerCase(),attrs:{id:"app"}},[n("toolbar",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),n("div",{class:{"nav-on-top":e.navigationExpanded},attrs:{id:"layout-main"}},[n("navigation",{class:{"disabled-component":"Map"===e.tool},on:{expanded:function(t){e.navigationExpanded=t}}}),e._v(" "),n("main",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.error||e.success,expression:"error || success"}],class:{error:e.error,success:e.success},attrs:{id:"alert-text"}},[n("p",[e._v(e._s(e.error||e.success))])]),e._v(" "),n("canvas-view"),e._v(" "),n("grid-view")],1)],1),e._v(" "),n("ImageUpload"),e._v(" "),n("Textures"),e._v(" "),n("PortalTarget",{attrs:{name:"texture-options"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("div",{staticClass:"overlay"}),e._v(" "),n("div",{staticClass:"modal"},[e._m(0),e._v(" "),n("NonChromeWarning"),e._v(" "),n("div",{staticClass:"content"},[n("p",[n("a",{staticClass:"quickstart-action new-floorplan",on:{click:function(t){e.mapEnabled=!1,e.mapVisible=!1,e.$emit("close")}}},[n("div",{staticClass:"title"},[e._v("New")]),e._v(" "),n("QuickstartIconNewFloorplan"),e._v(" "),n("div",{staticClass:"explanation"},[e._v("Create a new floorplan")])],1)]),e._v(" "),n("p",[n("a",{staticClass:"quickstart-action",attrs:{disabled:!e.online},on:{click:function(t){e.mapEnabled=!0,e.tool="Map",e.$emit("close")}}},[n("div",{staticClass:"title"},[e._v("New With Map")]),e._v(" "),n("QuickstartIconNewMapFloorplan"),e._v(" "),n("div",{staticClass:"explanation"},[e._v("Create a new floorplan with a map")])],1)]),e._v(" "),n("p",[n("a",{staticClass:"quickstart-action open-floorplan",attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[n("div",{staticClass:"title"},[e._v("Open")]),e._v(" "),n("QuickstartIconOpenFloorplan"),e._v(" "),n("div",{staticClass:"explanation"},[e._v("Open an existing floorplan")])],1)]),e._v(" "),n("input",{ref:"importInput",attrs:{id:"importInput",type:"file"},on:{change:e.importFloorplanAsFile}})])],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h2",[e._v("Quickstart")])])}]}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M18.4 17.7V5H.6v13h18.2l-.4-.3zM1.6 6h15.8v11L13 13.7l-2.3 1.7L7 11.5 1.8 17h-.2V6z",fill:"#fff"}}),_c("circle",{attrs:{cx:"9.7",cy:"5.4",fill:"#39b54a",r:"5"}}),_c("path",{attrs:{d:"M11.5 4.5h-1.2V3.3c0-.3-.2-.5-.5-.5h-.6c-.3 0-.5.2-.5.5v1.2H7.5c-.3 0-.5.2-.5.5v.6c0 .2.2.4.5.4h1.2v1.2c0 .3.2.5.5.5h.6c.3 0 .5-.2.5-.5V6h1.2c.3 0 .5-.2.5-.5V5c-.1-.3-.3-.5-.5-.5z",fill:"#58595b"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("circle",{attrs:{cx:"10.5",cy:"10",fill:"#39b54a",r:"7.9"}}),_c("path",{attrs:{d:"M13.6 8.8h-1.9V6.9c0-.4-.3-.8-.8-.8H10c-.4 0-.8.3-.8.8v1.9H7.3c-.4 0-.8.3-.8.8v.9c0 .4.3.8.8.8h1.9v1.9c0 .4.3.8.8.8h.9c.4 0 .8-.3.8-.8v-1.9h1.9c.4 0 .8-.3.8-.8v-1c-.1-.4-.4-.7-.8-.7z",fill:"#58595b"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zM12.9 5.1c0-.9-.7-1.7-1.7-1.7-.9 0-1.7.7-1.7 1.7 0 .9.7 1.7 1.7 1.7.9 0 1.7-.8 1.7-1.7zm5.3 15.5h-2.9v1.1h7v-1.1h-1.7v-7.3h1.7v-1.1h-9.7v1.1h5.6v7.3zM6 16.7v.1c0 .3.2.5.5.5h1.6v1.5h.3v1l-2 .6v.5h.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1l1.6-.2v.1h.1v.6h.2v.4H9v-1h.1v-.1l1.5.2v.1c-.1.1-.3.2-.3.4s.2.4.4.4.4-.2.4-.4-.1-.3-.3-.4v-.1h.2v-.5l-2-.5v-1h.3v-1.5h1.9c.3 0 .5-.2.5-.5v-.1c0-.2-.1-.3-.2-.4h1.3l-.8 4c-.1.5.3 1.1.8 1.2.6.1 1.1-.2 1.2-.8l1.1-5.3v-.4c-.1-.6-.5-1-1.1-1h-3.2l.4-1.9h3.9c.2 0 .3 0 .5-.1h4.2v-.5c.1 0 .1-.1.2-.1l.5.2 1.9-5-.6-.2-1.9 4.9h-.1c-.1 0-.2.1-.2.2H16v-.1c0-.5-.4-.9-.9-.9h-3.5l.2-1c.2-.9-.4-1.7-1.3-1.9l-.5-.1c-.8-.4-1.6.1-1.8 1L7.7 11l-.1.7V10c0-.3-.2-.5-.5-.5h-.5c-.3 0-.6.2-.6.5v3.8c0 .3.2.5.5.5v1.8c-.3.1-.5.3-.5.6zm1-1c.1.2.3.4.5.5H7v-.5z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zm-8.5-.2H6v-19h13v19zm-12.1-.9H18v-17H6.9v17z"}}),_c("path",{attrs:{d:"M11.8 15.9h5.8v4.3h-5.8zm0-5.7h5.8v4.3h-5.8zm0-5.8h5.8v4.3h-5.8z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zM20.6 6.6c0-.1-.1-.2-.1-.3-.1.1-.1.2-.2.2-.7.8-1.3 1.7-2 2.5-.4.5-1 .6-1.5.2-.1-.1-.2-.2-.4-.3-.2-.2-.3-.4-.4-.7 0-.3.1-.6.3-.8.7-.8 1.3-1.7 2-2.5.1-.1.1-.2.2-.2-.1 0-.2 0-.3-.1-1.2-.2-2.5.3-3.4 1.3-.8 1-1 2.4-.6 3.6-.6.8-1.3 1.7-1.9 2.5L9.2 7.7c.2-.1.4-.3.6-.5 1.9-1.4 2.4-.2 2.9-.8.5-.6-2-2.2-4.1-.7-.1.2-.3.4-.5.5-.3-.2-.7-.3-1 0-.2.2-.3.5-.2.8-.6.5-1.1.8-1.3 1l-.1-.1c-.2-.3-.6-.3-.8-.1l-.7.5c-.3.2-.4.5-.2.8L5 10.8c.2.3.6.3.9.1l.7-.5c.3-.2.3-.6.1-.9.2-.2.7-.5 1.3-.9l3.4 4.7-.1.1c-.2.1-.3.3-.3.5-1.2 1.5-2.4 3.1-3.6 4.6-.2.3-.4.7-.3 1.1 0 .4.2.7.5 1 .1.1.2.2.4.3.6.5 1.5.4 2-.3.9-1.2 1.9-2.4 2.8-3.6l2.3 3.5c.3.4.8.4 1.1.2l2.2-1.6c.4-.3.4-.8.2-1.1l-3.4-4.1c.6-.7 1.1-1.5 1.7-2.2 1.2.2 2.4-.3 3.2-1.4.8-1.1 1-2.5.5-3.7z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zM15.6 10.3l5.4 5.2L10.2 17zm-6.5 6.8l6-7.4-7.4-4-5.9 7.4z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zM3 2.9v18h21v-18H3zm14.6 4H8.8l-2.6-2h14.1l-2.7 2zm-.6 2v6h-7v-6h7zm-9 .6v5.6l-3 2.6V7l3 2.5zm1.6 7.4h8.2l2.6 2H6.9l2.7-2zm9.4-1.8V8.8l3-2.6v11.4l-3-2.5z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M27.5 22l-3.3-5.5h6.7zm-6.4-8.9h-1.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm-15.3 0H4.3c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h1.5c.3 0 .5.2.5.5s-.2.5-.5.5zm6.9-6.3c-.3 0-.5-.2-.5-.5V4.8c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm0 14.8c-.3 0-.5-.2-.5-.5v-1.5c0-.3.2-.5.5-.5s.5.2.5.5v1.5c0 .2-.2.5-.5.5zm4.9-4.1l1.1 1m0 .5c-.1 0-.2 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.1.1-.3.1-.4.1zM6.8 7l1.1 1.1m0 .5c-.1 0-.3 0-.3-.1l-1.1-1c-.2-.2-.2-.5 0-.7.2-.2.5-.2.7 0l1.1 1c.2.2.2.5 0 .7-.2 0-.3.1-.4.1zm9.5-.7l1-1m-1 1.5c-.1 0-.3-.1-.4-.2-.2-.2-.2-.5 0-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.3.2zm-10.9 10l1.1-1m-1.1 1.5c-.1 0-.3-.1-.4-.2-.1-.1-.1-.5.1-.7l1.1-1c.2-.2.5-.2.7 0 .2.2.2.5 0 .7l-1.1 1c-.1.2-.2.2-.4.2z"}}),_c("ellipse",{attrs:{cx:"12.8",cy:"12.9",rx:"4.8",ry:"4.6"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M6 2.9v19h13v-19H6zm12 1v8H7v-8h11zm-11 17v-8h11v8H7zM27.5 22l-3.3-5.5h6.7z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M25.5 6.3l-7.65-4.35v8.7zm-13.35 0L4.5 1.95v8.7z",fill:"#39b54a"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[_c("path",{attrs:{d:"M17.6 12V0h-12v12h12zM16 1.6v8.8H7.2V1.6H16zM3.2 13.6H1.6V16H4v-1.6h-.8zM1.6 5.6h1.6v-.8H4V3.2H1.6zM12.8 14.4H12V16h2.4v-2.4h-1.6zM5.6 14.4h1.6V16H5.6zM8.8 14.4h1.6V16H8.8zM1.6 10.4h1.6V12H1.6zM1.6 7.2h1.6v1.6H1.6z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"83.541",height:"85.671"}},[_c("g",{attrs:{fill:"none",stroke:"#555759","stroke-width":"4"}},[_c("path",{attrs:{d:"M25.326 5.536C8.962 31.36 19.195 73.136 50.075 82.61M25.326 6.036C57.422 8.888 73.723 46.51 66.34 74.832M24.973 5.536l33.94 74.246M7.295 22.506C24.042 31.36 45.03 19.682 51.843 3.414M2.699 40.537C27.3 48.43 57.149 36.13 67.753 12.253M5.88 60.336c27.658 6.83 61.508-5.537 72.48-33.234"}}),_c("path",{attrs:{d:"M81.53 42.344a39.766 40.836-.708 0 1-39.147 41.322A39.766 40.836-.708 0 1 2.007 43.557 39.766 40.836-.708 0 1 40.925 2.01a39.766 40.836-.708 0 1 40.596 39.874M16.84 74.832c24.58 8.653 55.44-4.151 64.701-28.991M81.093 48.863a39.766 40.836.708 0 1 .408-7.695"}})])])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 99.999"}},[_c("path",{attrs:{d:"M31.001 54.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4zM31.001 35.999h38a2 2 0 0 0 0-4h-38a2 2 0 0 0 0 4z"}}),_c("path",{attrs:{d:"M95.001 70.007h-13V31.192c0-1.85-.853-3.594-2.31-4.73L53.812 6.269a5.999 5.999 0 0 0-7.36-.018l-26.12 20.193a6.003 6.003 0 0 0-2.33 4.748V70.006h-13v4h3v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v16.5c0 .824.675 1.5 1.5 1.5s1.5-.676 1.5-1.5v-16.5h2v14.99c0 3.312 2.687 6 6 6h52c3.313 0 6-2.688 6-6v-14.99h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h2v16.5c0 .826.675 1.5 1.5 1.5s1.5-.674 1.5-1.5v-16.5h3v-3.999zm-71-38.815l26.12-20.193 25.88 20.193V69.998h-52V31.192z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[_c("path",{staticStyle:{"text-indent":"0","text-transform":"none","block-progression":"tb"},attrs:{d:"M20.3 8.5c-2.96 0-5.4 2.44-5.4 5.4v52.2c0 2.96 2.44 5.4 5.4 5.4h59.4c2.96 0 5.4-2.44 5.4-5.4V13.9c0-2.96-2.44-5.4-5.4-5.4zm0 3.6h59.4c1.028 0 1.8.772 1.8 1.8v37.04L70.166 39.607c-.684-.677-1.934-.65-2.588.056L56.244 51.784 38.666 34.206a1.814 1.814 0 0 0-2.475-.056L18.5 50.294V13.9c0-1.028.772-1.8 1.8-1.8zm35.1 3.6c-4.95 0-9 4.05-9 9s4.05 9 9 9 9-4.05 9-9-4.05-9-9-9zm0 3.6c3.004 0 5.4 2.396 5.4 5.4 0 3.004-2.396 5.4-5.4 5.4a5.373 5.373 0 0 1-5.4-5.4c0-3.004 2.396-5.4 5.4-5.4zM37.344 37.975l17.69 17.69c.684.678 1.934.65 2.588-.055l11.334-12.122L81.5 56.03V66.1c0 1.028-.772 1.8-1.8 1.8H20.3c-1.028 0-1.8-.772-1.8-1.8V55.188z",overflow:"visible",color:"#000"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M11.6 18.4c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.8-.9-2.9 1.1-.2 1.5-.2 2.8-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z",fill:"#878787"}}),_c("path",{attrs:{d:"M19.9 7.6c-.5-.7-1-.9-1.3-.6-.2.1-.3.4-.4.8 0 .3-.2.6-.4.8-.5.4-1.3.3-2-.7v-.1c-.7-1-.6-1.9-.1-2.2.2-.2.5-.2.9-.2.4.1.7 0 .9-.1.3-.2.3-.7-.2-1.4-.1-.2-.3-.4-.5-.6-1-1-1.5-1.2-2.5-1.8-.1.1-.1.2-.2.4-.4.8-.6 1.2-1.6 2.1-.2.2-.4.4-.6.5-.9.6-1.4.5-1.6.2-.1-.2-.2-.5-.1-.9.1-.3 0-.7-.2-.9-.3-.4-1.1-.6-2.1.1h-.1c-1 .8-1.1 1.6-.8 2.1.2.2.4.4.8.4s.7.2.8.4c.3.4.2.8-.6 1.4-.2.1-.4.3-.7.4-1.3.7-1.7.7-2.9.9.2 1.1.2 1.6.9 2.9.1.3.3.5.4.7.5.7 1 .9 1.3.6.2-.1.3-.4.4-.8 0-.3.2-.6.4-.8.6-.3 1.4-.2 2.2.8v.1c.7 1 .6 1.8.1 2.2-.2.2-.6.2-.9.2-.4-.1-.7 0-.9.1-.3.2-.3.7.2 1.4.1.2.3.4.5.6 1 1 1.5 1.2 2.5 1.8l9.7-7.1c-.2-1.2-.2-1.7-.8-3-.2-.2-.3-.5-.5-.7zm-4.5.5c.3.4.7.7 1 .9.4.2.8.2 1.1.1.3-.1.5-.2.7-.5.2-.2.3-.5.3-.8 0-.3.2-.5.2-.5.1 0 .3.1.7.6.1.2.3.4.4.6.5 1 .6 1.5.8 2.2 0 .1 0 .2.1.3l-9.3 6.8c-.1 0-.2-.1-.2-.1-.7-.4-1.1-.6-1.9-1.4-.2-.2-.4-.4-.5-.6-.4-.5-.4-.8-.3-.8 0-.1.2-.1.6-.1.3.1.6 0 .9-.1.3-.1.5-.3.7-.6.2-.3.3-.7.2-1.1-.1-.4-.2-.8-.6-1.3v-.1c-.3-.3-.7-.6-1.1-.7-.4-.2-.8-.2-1.1-.1-.6.2-1 .7-1 1.3 0 .3-.2.5-.2.5-.1 0-.3-.1-.7-.6-.1-.2-.3-.4-.4-.6-.5-1-.6-1.5-.8-2.3V9h.1c.8-.2 1.4-.3 2.5-.9 1-.5 1.5-1 1.6-1.6.1-.3 0-.6-.2-.8-.2-.3-.6-.5-1.1-.5-.2 0-.4-.1-.5-.3-.1-.1-.1-.3-.1-.6.1-.2.2-.6.7-.9.5-.3.9-.5 1.3-.4.2 0 .3.1.4.2.1.2.1.4.1.6-.1.5 0 .9.2 1.2.2.2.4.4.7.4.5 0 1.2-.3 2-1.1.9-.9 1.2-1.4 1.6-2.1 0 0 0-.1.1-.1 0 0 .1 0 .1.1.7.4 1.1.6 1.9 1.4.2.2.4.4.5.6.4.5.4.8.3.8 0 .1-.2.1-.6.1-.6-.1-1.2.1-1.5.6-.2.3-.3.7-.2 1.1 0 .4.2.8.5 1.3z",fill:"#878787"}}),_c("path",{attrs:{d:"M11.7 18.1c-1-.6-1.5-.7-2.5-1.8-1.6-1.7-.9-2.4.1-2.2 1 .2 1.9-.9.8-2.4-1.1-1.5-2.4-1-2.5 0-.1 1.1-1 1.5-2.1-.5-.7-1.3-.7-1.7-1-2.9 1.1-.2 1.6-.2 2.9-.9 2-1.1 1.6-2 .5-2.1-1.1-.1-1.5-1.4 0-2.5s2.6-.3 2.4.8c-.2 1 .5 1.7 2.2.1 1-1 1.2-1.5 1.8-2.5 1 .6 1.5.7 2.5 1.8 1.6 1.7.9 2.4-.1 2.2-1-.2-1.9.9-.8 2.4 1.1 1.5 2.4 1 2.5 0 .1-1.1 1-1.5 2.1.5.7 1.3.7 1.8.9 2.9l-9.7 7.1z",fill:"#878787"}}),_c("ellipse",{attrs:{cx:"18.9",cy:"18.6",fill:"#fff",rx:"6.6",ry:"6.6",transform:"rotate(-45.001 18.912 18.561)"}}),_c("path",{
attrs:{d:"M16.4 20.9l5.2.4-.4-5.2-1.5 1.5-2.5-2.5-1.8 1.8 2.5 2.5z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[_c("path",{attrs:{d:"M64.433 16.857l-1.932.693-1.527.913-1.024 1.091-.477 1.122v1.138l.489 1.084L60.997 24l1.55.95 1.937.688 2.186.331h2.301l2.192-.368 1.944-.69 1.512-.914 1.029-1.096.49-1.117-.016-1.139-.491-1.122-1.027-1.06-1.558-.955-1.937-.689-2.186-.331h-2.3z"}}),_c("path",{attrs:{d:"M75.752 25.386c-.034.03-.057.066-.097.09L73.962 26.5c-.04.023-.083.036-.124.053-.015.006-.024.019-.04.024l-2.107.749c-.03.01-.06.008-.09.016-.021.005-.04.02-.062.023l-2.343.395a.936.936 0 0 1-.149.012h-2.442-.001a.842.842 0 0 1-.134-.01l-2.342-.356c-.025-.004-.043-.019-.067-.023-.033-.009-.066-.007-.1-.018l-2.106-.748c-.017-.007-.027-.02-.043-.026-.043-.018-.087-.03-.128-.055l-1.731-1.063c-.038-.023-.06-.059-.094-.087-.03-.024-.066-.036-.094-.065l-.294-.314v1.202l.492 1.123 1.027 1.093 1.548.914 1.95.694 2.185.367 2.302-.038 2.195-.333 1.932-.686 1.509-.947 1.035-1.103.492-1.124v-1.16l-.293.312c-.027.03-.063.041-.093.065zM43.926 2.813c.022-.002.04-.015.063-.015l1.358-.022-1.588-.838-1.612 1.145 1.715-.273c.022-.004.043.004.064.002z"}}),_c("path",{attrs:{d:"M77.758 19.894l.087.197c.035.08.046.17.055.258.004.03.02.061.02.093l.018 1.515v4.408c-.002.06-.024.12-.038.18-.012.056-.014.118-.037.17v.005l-.63 1.437a.9.9 0 0 1-.16.243c-.003.004-.004.01-.009.013l-1.22 1.3c-.026.028-.061.04-.091.064-.032.025-.052.059-.087.081l-1.694 1.063c-.041.026-.087.04-.13.058-.019.008-.03.022-.047.028l-2.106.749c-.034.011-.068.01-.101.018-.024.005-.042.02-.066.023l-2.344.355a.788.788 0 0 1-.111.009l-.01.001-2.44.04H66.6a.916.916 0 0 1-.148-.013l-2.342-.394c-.024-.003-.042-.019-.063-.024-.03-.007-.059-.005-.09-.015l-2.106-.75c-.016-.005-.025-.018-.042-.023-.037-.017-.077-.027-.114-.05l-1.733-1.022c-.04-.024-.065-.062-.1-.091-.032-.025-.07-.038-.098-.069l-1.22-1.3c-.004-.004-.005-.01-.009-.013a.886.886 0 0 1-.16-.242l-.63-1.437-.001-.006c-.023-.053-.024-.113-.037-.17-.013-.06-.037-.12-.037-.18V20.491c0-.067.024-.134.04-.202.012-.05.011-.104.03-.15l.612-1.438c.021-.051.06-.087.091-.131.028-.044.045-.093.082-.132l1.22-1.3c.03-.03.068-.045.101-.071.033-.027.055-.062.093-.085l1.713-1.023c.025-.016.055-.016.08-.029.029-.013.048-.035.077-.046l2.091-.749c.026-.01.054-.004.08-.011s.048-.025.075-.03l2.342-.393c.026-.005.05.004.075.002s.049-.015.075-.015h1.356L55.183 7.97l.1.229.001.005c.023.054.025.114.038.17.013.06.035.12.036.18l.001.006V14.468c0 .067-.025.135-.041.203-.012.05-.012.102-.03.148h-.001l-.61 1.438a.88.88 0 0 1-.16.245c-.004.004-.005.01-.009.013l-1.2 1.299c-.027.03-.065.042-.096.067-.035.029-.059.068-.1.093l-1.733 1.043c-.035.022-.074.032-.111.049-.016.006-.026.019-.042.025l-2.088.768c-.031.013-.065.01-.096.018-.025.007-.046.022-.072.027l-2.342.374a.832.832 0 0 1-.141.012h-2.423a.84.84 0 0 1-.142-.012l-2.343-.374c-.023-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.125-.748c-.017-.006-.028-.019-.044-.026-.045-.019-.09-.032-.132-.058l-1.713-1.063c-.033-.02-.052-.054-.08-.077-.03-.022-.064-.034-.091-.061l-1.22-1.26c-.006-.005-.007-.013-.013-.018a.888.888 0 0 1-.166-.247l-.63-1.438c-.034-.08-.044-.167-.056-.255-.003-.031-.02-.063-.02-.095l-.019-1.515.002-.009-.002-.009.02-2.896v-.007l-.02-1.47.002-.012c0-.057.021-.115.034-.172.011-.06.015-.124.038-.179.001-.003 0-.007.002-.01l.134-.307-12.603 8.952 1.71-.274c.026-.004.048.005.073.003.025-.002.045-.014.07-.014h2.402c.025 0 .047.012.07.014.025.002.048-.006.072-.003l2.344.375c.026.004.046.02.072.027.026.006.052 0 .077.01l2.126.729c.031.01.054.035.083.05.03.013.062.015.09.03l1.732 1.044c.038.022.06.057.093.085.033.027.074.043.103.075l1.202 1.299c.034.037.048.083.075.124.026.04.063.07.084.116l.65 1.437c.002.004 0 .008.002.011.024.055.028.117.04.177.013.057.034.115.035.172l.002.011v5.912c0 .06-.024.12-.038.18-.012.057-.014.118-.037.17v.006l-.63 1.438a.906.906 0 0 1-.16.241c-.003.005-.004.01-.009.015l-1.2 1.28c-.028.028-.064.04-.095.065-.033.027-.056.064-.094.087l-1.712 1.043c-.038.023-.08.035-.119.052-.015.007-.025.02-.04.025l-2.107.768c-.033.011-.065.01-.097.017-.024.006-.044.021-.07.026l-2.344.374a.84.84 0 0 1-.14.012H24.612h-.002a.821.821 0 0 1-.14-.012l-2.363-.374c-.022-.004-.04-.018-.06-.023-.032-.007-.064-.005-.094-.016l-2.087-.728c-.016-.005-.026-.019-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.024-.062-.06-.097-.088-.03-.025-.067-.037-.095-.067l-1.202-1.28c-.002-.003-.003-.008-.007-.011a.896.896 0 0 1-.158-.239l-.65-1.456c0-.003 0-.006-.002-.007-.024-.056-.028-.122-.04-.182-.012-.057-.034-.113-.034-.17l-.002-.008V22.403c0-.051.021-.1.03-.151.012-.068.016-.139.042-.202l.131-.309-9.362 6.651L49.24 50.924c.3-.107.624-.05.868.154l36.973-26.26-9.322-4.924zm-19.27 15.875V40.16c0 .054-.021.099-.03.15-.011.066-.013.132-.039.198l-.002.002-.608 1.454a.895.895 0 0 1-.168.254c-.005.006-.007.014-.012.019l-1.22 1.28c-.026.027-.06.038-.089.06-.03.024-.048.058-.083.08l-1.712 1.082c-.046.029-.095.045-.143.064-.017.006-.027.02-.044.025l-2.107.73c-.027.009-.056.006-.083.014-.02.004-.035.018-.055.02l-2.343.413a.843.843 0 0 1-.155.015H47.173h-.001a.843.843 0 0 1-.156-.015l-2.344-.413c-.018-.003-.033-.016-.052-.02-.028-.007-.056-.005-.083-.014l-2.125-.729c-.017-.005-.026-.019-.042-.024-.045-.02-.092-.032-.134-.058l-1.713-1.043c-.038-.023-.062-.06-.095-.09-.03-.022-.065-.035-.092-.063l-1.22-1.299c-.003-.002-.004-.007-.006-.01a.881.881 0 0 1-.159-.235l-.65-1.439c-.001-.003 0-.007-.002-.01-.024-.055-.027-.117-.04-.177-.013-.057-.035-.115-.036-.173l-.002-.01V34.29l.001-.005c0-.06.024-.12.037-.18.013-.057.014-.118.038-.17v-.006l.63-1.437c.02-.046.057-.077.084-.118.03-.046.045-.096.084-.137l1.2-1.28c.03-.03.068-.045.1-.07.031-.025.053-.06.089-.083l1.713-1.043c.028-.018.062-.019.092-.033.03-.015.05-.038.082-.049l2.107-.729c.024-.008.049-.003.073-.01.022-.006.041-.02.065-.025l2.342-.413c.027-.005.054.004.08.002.027-.003.05-.016.076-.016h2.422c.025 0 .047.012.071.014.024.002.046-.006.07-.003l2.362.374c.026.004.047.02.072.027.027.006.055 0 .082.01l2.106.73c.034.012.057.037.09.053.032.016.066.018.096.037l1.713 1.082c.032.02.051.053.079.077.03.023.065.035.092.063l1.22 1.28c.036.037.052.085.08.127.027.04.064.07.085.116l.65 1.398.003.014c.026.056.03.119.044.179.012.057.033.114.035.17l.002.016v1.516z"}}),_c("path",{attrs:{d:"M55.144 32.278l-1.532-.969-1.936-.67-2.207-.349h-2.277l-2.19.387-1.95.675-1.526.928-1.012 1.079-.492 1.122v1.133l.505 1.119 1.033 1.066 1.536.954 1.959.689 2.19.349h2.274l2.187-.386 1.953-.693 1.53-.915 1.024-1.089.475-1.122v-1.135l-.501-1.08zM50.831 77.08L87.893 50.7V26.449L50.831 52.772zM37.424 11.011l1.029 1.096 1.526.93 1.97.675 2.183.386 2.276-.037 2.197-.351 1.92-.67 1.544-.966 1.012-1.078.478-1.14V8.752l-.49-1.12-1.031-1.08-1.53-.931-1.95-.675-2.181-.385-2.296.037-2.198.351-1.94.67-1.523.947-1.014 1.098-.492 1.12.014 1.099z"}}),_c("path",{attrs:{d:"M56.32 39.188c-.036.029-.06.066-.1.09l-1.713 1.025c-.038.022-.08.034-.12.051-.015.006-.024.02-.04.024l-2.108.748c-.028.01-.056.008-.086.016-.02.005-.038.019-.058.022l-2.343.413a.843.843 0 0 1-.156.015h-2.422a.829.829 0 0 1-.14-.012l-2.345-.373c-.022-.004-.04-.02-.063-.024-.031-.007-.063-.004-.094-.016l-2.126-.748c-.017-.006-.028-.019-.044-.026-.044-.019-.09-.032-.131-.058l-1.713-1.063c-.034-.021-.054-.055-.084-.08-.028-.021-.062-.033-.088-.06l-.324-.333v1.207l.509 1.126 1.032 1.099 1.526.93 1.971.675 2.19.386h2.27l2.19-.386 1.943-.672 1.53-.968 1.031-1.079.475-1.136v-1.15l-.275.293c-.028.027-.065.04-.095.064zM37.42 15.433l1.032 1.066 1.534.952 1.959.69 2.19.35h2.28l2.184-.35 1.926-.708 1.55-.933 1.007-1.09.478-1.125v-1.166l-.255.272c-.026.028-.062.04-.092.064-.031.025-.053.06-.088.083l-1.732 1.083c-.044.027-.091.04-.136.06-.016.006-.027.02-.044.026l-2.088.729c-.03.01-.062.009-.094.016-.02.006-.039.019-.061.023l-2.342.374a.88.88 0 0 1-.118.01l-.009.002-2.422.038h-.015a.826.826 0 0 1-.156-.014l-2.342-.413c-.02-.004-.034-.016-.053-.02-.028-.007-.055-.005-.082-.014l-2.126-.73c-.016-.005-.026-.018-.042-.024-.045-.018-.091-.031-.134-.057l-1.712-1.043c-.04-.024-.063-.06-.096-.09-.03-.023-.065-.035-.092-.063l-.313-.333.015 1.216.49 1.12zM19.002 25.907l1.545.932 1.929.672 2.216.389h2.265l2.19-.387 1.943-.671 1.528-.966 1.017-1.084.492-1.123v-1.093l-.51-1.128-1.014-1.098-1.54-.927-1.966-.673-2.192-.351h-2.262l-2.192.35-1.935.67-1.531.968-1.032 1.082-.473 1.116v1.118l.507 1.124zM5.707 54.46L49.03 77.333V52.85L5.707 29.997z"}}),_c("path",{attrs:{d:"M19.002 30.337l1.545.932 1.925.671 2.21.35h2.282l2.186-.349 1.94-.707 1.534-.934 1.012-1.078.492-1.123v-1.2l-.274.293c-.027.027-.06.038-.09.062-.031.026-.052.06-.087.083l-1.713 1.082c-.045.03-.094.045-.143.064-.016.006-.027.02-.043.025l-2.107.729c-.028.01-.056.007-.083.014-.02.004-.035.018-.054.02l-2.344.415a.836.836 0 0 1-.156.014h-2.422a.889.889 0 0 1-.155-.014l-2.362-.414c-.022-.003-.038-.018-.059-.022-.027-.007-.055-.005-.082-.014l-2.087-.729c-.016-.005-.026-.018-.04-.024-.043-.018-.087-.03-.128-.055l-1.732-1.044c-.039-.023-.062-.06-.097-.088-.03-.024-.067-.037-.095-.067l-.295-.314v1.201l.508 1.141 1.014 1.08z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z",fill:"#878787"}}),_c("path",{attrs:{d:"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z",fill:"#878787"}}),_c("circle",{attrs:{cx:"14.9",cy:"8.4",fill:"#fff",r:"6.6"}}),_c("path",{attrs:{d:"M11.6 8.3l3.3 4 3.4-4h-2.1V4.7h-2.5v3.6z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M26 14.4c-.3-1.2-1.7-.4-1.7-.5l-4.2 1c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-4.2c.5-.4.5-1 .2-1.5-.4-.5-1-.5-1.5-.2l-6.6 4.2c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l6.6-5.8c.5-.4.5-1.4.2-1.9-.4-.5-1-.5-1.5-.2L16.9 11c-.1.1-.3.1-.3 0-.1-.1-.1-.3 0-.3l3.9-5.5c.5-.4.8-1 .5-1.5-.4-.5-1.3-.5-1.8-.2L15 9l-2.7 2.1c-.1.1-.3.1-.3 0s-.1-.1 0-.2l.6-4.5c.1-.6-.3-1.1-.9-1.2-.6-.1-1.1.3-1.2.9 0 0-1.2 5.7-1.3 6.7-.1.9.4 1.7.5 1.9l4.6 5.9c.4.5 1.3.6 1.9.1l3.5-2.7.6-.5 5.2-1.9c.4-.4.6-.7.5-1.2z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M11.4 26.8H52v28.7H11.4zm13 28.6V41.2m15.7-.2V26.8m5.3 14.1H52m-40.6-1.5H18",fill:"none",stroke:"#878787","stroke-miterlimit":"10","stroke-width":"3.252"}}),_c("path",{attrs:{d:"M43.3 13.6c0-6.8-5.5-12.3-12.3-12.3-6.8 0-12.3 5.4-12.3 12.2 0 1.4.3 3 .7 4L31 50.4l10.7-30.6c1-1.9 1.6-4 1.6-6.2z",fill:"#39b54a"}}),_c("path",{attrs:{d:"M36.4 9.6h-3.1V6.5c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2v-3.1h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c0-.7-.5-1.2-1.2-1.2z",fill:"#58595b"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M52.9 52.6H9V20.7h43.9v31.9zm-40.7-3.2h37.4V24H12.2v25.4z",fill:"#878787"}}),_c("path",{attrs:{d:"M22 36.8h3.3V51H22zm15.7-14.4H41v14.2h-3.3zm6.9 12.5h6.6v3.3h-6.6zm-34-1.5h6.6v3.3h-6.6z",fill:"#878787"}}),_c("circle",{attrs:{cx:"30.2",cy:"20.6",fill:"#39b54a",r:"12.9"}}),_c("path",{attrs:{d:"M34.9 18.1h-3.1V15c0-.7-.6-1.2-1.2-1.2h-1.5c-.7 0-1.2.6-1.2 1.2v3.1h-3.1c-.7 0-1.2.6-1.2 1.2v1.5c0 .7.6 1.2 1.2 1.2h3.1v3.1c0 .7.6 1.2 1.2 1.2h1.5c.7 0 1.2-.6 1.2-1.2V22h3.1c.7 0 1.2-.6 1.2-1.2v-1.5c.1-.6-.5-1.2-1.2-1.2z",fill:"#58595b"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M52.9 54.3H9V22.4h43.9v31.9zm-40.7-3.2h37.4V25.7H12.2v25.4z",fill:"#878787"}}),_c("path",{attrs:{d:"M22 38.5h3.3v14.2H22zM37.7 24H41v14.2h-3.3zM10.6 35.1h6.6v3.3h-6.6z",fill:"#878787"}}),_c("circle",{attrs:{cx:"31.8",cy:"19.5",fill:"#fff",r:"13.5"}}),_c("path",{attrs:{d:"M24.1 19.3l6.8 8.2 6.9-8.2h-4.3v-7.2h-5.2v7.2z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M25.2 13.2L14.8 4.6V10H7.1c-1.4 0-2.5 1.3-2.5 2.9v.5c0 1.6 1.1 2.9 2.5 2.9h7.7v5.3l10.4-8.4z",fill:"#39b54a"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M25.7 25.4H4.2V9.8h21.5v15.6zM5.8 23.8h18.3V11.4H5.8v12.4z",fill:"#878787"}}),_c("path",{attrs:{d:"M10.6 17.7h1.6v7h-1.6zm7.7-7.1h1.6v7h-1.6zM5 16h3.2v1.6H5z",fill:"#878787"}}),_c("circle",{attrs:{cx:"14.9",cy:"8.4",fill:"#fff",r:"6.6"}}),_c("path",{attrs:{d:"M11.6 8.7l3.3-4 3.4 4h-2.1v3.6h-2.5V8.7z"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z",fill:"#aaa"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M14.3 15.2c.8.4 1.6.6 2.6.4-.1.1-.1.2-.2.2L14 18.5c-1.2 1.2-2.7 1.8-4.4 1.3-3.1-.9-3.9-4.6-1.7-7 .9-1 1.9-1.9 2.8-2.8.4-.4.8-.8 1.2-1.1 1.6-1.2 3.9-1.2 5.3 0 .6.5.7 1.2.3 1.7-.4.5-1.1.5-1.7 0-.9-.7-2-.6-2.9.3-1.2 1.1-2.3 2.3-3.4 3.4-.2.2-.3.3-.4.5-.3.5-.4 1-.3 1.5.2 1.1 1.4 1.7 2.4 1.3.4-.2.8-.4 1.2-.7.7-.5 1.2-1.1 1.9-1.7-.1 0 0 0 0 0z",fill:"#aaa"}}),_c("path",{attrs:{d:"M16.7 7.2c-1-.2-1.8-.3-2.6-.5l.2-.2 2.8-2.8c1.7-1.6 4.1-1.7 5.7-.3 1.8 1.5 1.9 4.2.3 6-1.2 1.4-2.6 2.6-3.9 3.9-1.6 1.5-4 1.5-5.6.2-.2-.2-.4-.5-.5-.8-.1-.5.1-.9.5-1.1.4-.2.8-.2 1.2.1 1.3.9 2.2.8 3.3-.3l3.2-3.2c.4-.5.7-1.1.7-1.8-.1-1.4-1.6-2.2-2.9-1.5-.3.2-.5.4-.8.6-.5.6-1.1 1.2-1.6 1.7z",fill:"#aaa"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M15.9 19.6l-2.4-.1c-.2 0-.4-.2-.4-.4v-.7c0-.5-.3-1.1-.8-1.3-.2-.1-.3-.1-.5-.1-.4 0-.8.1-1.1.4l-.5.5c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1L8 16.1c-.2-.2-.2-.4 0-.6l.5-.5c.4-.4.6-1 .4-1.5-.2-.5-.7-.9-1.3-.9h-.7c-.2 0-.4-.2-.4-.4l.1-2.4c0-.2.2-.4.4-.4h.7c.5 0 1.1-.3 1.3-.8.3-.5.2-1.2-.2-1.6l-.5-.5c-.2-.2-.2-.4 0-.6l1.8-1.6c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l.5.5c.2.3.6.4 1 .4.2 0 .3 0 .5-.1.5-.2.9-.7.9-1.3v-.7c0-.2.2-.4.4-.4l2.4.1c.2 0 .4.2.4.4v.7c0 .5.3 1.1.8 1.3.1.1.3.1.5.1.4 0 .8-.1 1.1-.4l.5-.5c.1-.1.2-.1.3-.1.1 0 .2.1.3.1l1.6 1.8c.2.2.1.4 0 .6l-.5.5c-.4.4-.6 1-.4 1.5.2.5.7.9 1.3.9h.7c.2 0 .4.2.4.4l-.1 2.4c0 .2-.2.4-.4.4h-.7c-.5 0-1.1.3-1.3.8-.2.5-.1 1.1.3 1.5l.5.5c.2.2.2.4 0 .6l-1.8 1.6c-.1.1-.2.1-.3.1-.1 0-.2-.1-.3-.1l-.5-.5c-.2-.3-.6-.4-1-.4-.2 0-.3 0-.5.1-.5.2-.9.7-.9 1.3v.7c-.1.4-.3.5-.5.5zm-.9-11c-1.4 0-2.7 1.1-2.7 2.5 0 1.5 1.1 2.7 2.5 2.7 1.5 0 2.7-1.1 2.7-2.5.1-1.5-1-2.7-2.5-2.7z",fill:"#aaa"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M4 3v16h22V3H4zm8 14v-6h-2v6H6v-6h2V9H6V5h12v6h2V5h4v5h-2v2h2v5H12z",fill:"#b2b2b2"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M13.1 18.4H1.5l9.7-14.8h11.6z",fill:"#aaa"}}),_c("path",{attrs:{d:"M18.8 18.4H7.2l9.7-14.8h11.6z",fill:"#aaa"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M18 21.5c-3.5 0-6.3-3.1-6.3-7.1 0-4 5.6-10.7 5.9-11L18 3l.4.5c.2.3 5.9 7 5.9 11 0 3.9-2.8 7-6.3 7zm0-16.9c-1.3 1.6-5.3 6.8-5.3 9.9 0 3.5 2.3 6.1 5.3 6.1s5.3-2.6 5.3-6.1c0-3.1-4-8.3-5.3-9.9z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M18.6 6.9l-4 4.9-7.9-9.3-3.5 2.7 8.6 10.1-5.3 6.5h23.8l3.2-6.6-14.9-8.3zm11 14h-21l3.9-4.7.6.8 6 3.6-2.4-6.3-1.3-1.5L19 8.4l13.3 7.5-2.7 5z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M16.3 7.9l-4.7-5.4L8 5.1l2.4 2.8H8v13h21v-13H16.3zM9 8.9h2.3l6.6 7.7 5.6 3.3H9v-11zm19 11h-4.2l-2.3-6-4.3-5H28v11z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 512 512"}},[_c("g",{attrs:{transform:"matrix(.8 0 0 .8 1.6 0)"}},[_c("title",[_v("eraser")]),_c("path",{attrs:{d:"M509.42 69.18a12.3 12.3 0 0 0-9.77-4.81H254.73a12.18 12.18 0 0 0-6.16 1.72l-.42-.37L41.63 284l-2.19 2.46.26.31a10.6 10.6 0 0 0-1 2.51L.41 432.16a12.31 12.31 0 0 0 11.91 15.46h245c3.92 0 7.42-1.67 11-5.28l201.45-213.4a20.06 20.06 0 0 0 3.55-6.22l36.93-137.87 1.36-5a12.37 12.37 0 0 0-2.19-10.67zM279.55 304.74l-31.71 118.33H28.31L60 304.74h219.55zM473.06 88.93L292.19 280.14h-213L260 88.93h213z"}})])])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M18 2.7l2.2 3.1h-4.4zM7.3 12l3.2-2.2v4.4zM18 21.9l-2.2-3.2h4.4zM28.7 12l-3.2 2.2V9.8z",fill:"#fff"}}),_c("path",{attrs:{d:"M9.5 11.5h17.1v1H9.5z",fill:"#fff"}}),_c("path",{attrs:{d:"M17.5 3.7h1v17.1h-1z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M4.7 13.2L15 21.7v-5.3h7.7c1.4 0 2.5-1.3 2.5-2.9V13c0-1.6-1.1-2.9-2.5-2.9H15V4.6L4.7 13.2z",fill:"#bf0049"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M20.3 2.4c-4 0-7.2 3.2-7.2 7.1 0 1.6.5 3.1 1.5 4.3l-6.1 6s-.1 2 1.8 1.8c.2-.2 6.2-6.1 6.2-6.1 1.1.7 2.5 1.1 3.9 1.1 4 0 7.2-3.2 7.2-7.1 0-3.9-3.3-7.1-7.3-7.1zm0 13.2c-3.4 0-6.2-2.7-6.2-6s2.8-6 6.2-6c3.4 0 6.2 2.7 6.2 6 0 3.2-2.8 6-6.2 6z",fill:"#fff"}}),_c("path",{attrs:{d:"M17.1 8.4h1.8V6.7c0-.4.3-.7.7-.7h.9c.4 0 .7.3.7.7v1.8H23c.4 0 .7.3.7.7v.8c0 .4-.3.7-.7.7h-1.8v1.8c0 .4-.3.7-.7.7h-.9c-.4 0-.7-.3-.7-.7v-1.8h-1.8c-.4 0-.7-.3-.7-.7v-.8c0-.4.4-.8.7-.8z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[_c("path",{attrs:{d:"M21.4 13.8c.9-1.2 1.4-2.6 1.4-4.2 0-3.9-3.2-7-7.1-7-3.9 0-7.1 3.1-7.1 7s3.2 7 7.1 7c1.4 0 2.7-.4 3.9-1.1 0 0 5.9 5.7 6.1 6 1.9.2 1.8-1.8 1.8-1.8l-6.1-5.9zM9.7 9.6c0-3.3 2.7-5.9 6.1-5.9 3.3 0 6.1 2.7 6.1 5.9 0 3.3-2.7 5.9-6.1 5.9-3.4 0-6.1-2.7-6.1-5.9z",fill:"#fff"}}),_c("path",{attrs:{d:"M18.9 8.5h-6.4c-.4 0-.8.4-.8.8v1c0 .4.4.8.8.8h6.4c.4 0 .8-.4.8-.8v-1c0-.4-.3-.8-.8-.8z",fill:"#fff"}})])}}},function(module,exports){module.exports={render:function(){with(this)return _c("svg",{attrs:{fill:"#FFF",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"}},[_c("path",{attrs:{d:"M201.896 183.169l-53.23-53.23a71.682 71.682 0 0 1-18.728 18.727l53.23 53.23a9 9 0 0 0 12.729 0l6-6a9 9 0 0 0 0-12.727z"}}),_c("path",{attrs:{d:"M153.668 89.768c0-35.234-28.666-63.9-63.901-63.9-35.234 0-63.9 28.666-63.9 63.9 0 35.234 28.666 63.9 63.9 63.9 35.236 0 63.9-28.666 63.9-63.9zm-63.9 48.6c-26.84 0-48.6-21.76-48.6-48.6s21.76-48.6 48.6-48.6c26.841 0 48.6 21.76 48.6 48.6s-21.759 48.6-48.6 48.6z"}}),_c("path",{attrs:{d:"M63 117h54V63H63v54zm10.8-43.2h32.4v32.4H73.8V73.8z"}})])}}},,function(e,t){e.exports={XMLHttpRequest:XMLHttpRequest}},function(e,t){},function(e,t){}]);
//# sourceMappingURL=app.1a9f9d78fa3df85727a3.js.map